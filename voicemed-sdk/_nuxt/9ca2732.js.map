{"version":3,"sources":["webpack:///./pages/index.vue","webpack:///./pages/index.vue?d750","webpack:///./pages/index.vue?b245","webpack:///./mixins.js/basepage.js"],"names":["name","mixins","basepage","transition","beforeMount","this","$analytics","setScreenName","mounted","_this","window","currentVMToken","$keepawakemanager","$deviceInfo","getInfo","then","r","deviceInfo","$exerciseManager","setDeviceCode","component","_c","_self","staticClass","_v","mode","css","beforeEnter","el","document","querySelector","classList","contains","startPoint","$anime","set","scale","opacity","translateX","enter","done","targets","duration","easing","complete","leave","translateY","afterLeave","remove","data","exid","$route","params","id","programid","fromprogram","withindex","backto","hasBack","hasNext","hasInfo","computed","_objectSpread","mapGetters","getCurrentPagerHeight","isVoicemed","$nuxt","$config","env","environment","indexOf","isAirlyn","nuxtloading","$loading","loading","defaultHomeUrl","methods","mapActions","setCurrentPage","setCurrentPagerHeight","exerciseStepBack","$airlyn","finishExercise","finally","closeExercise","$router","replace","localePath","buildSuffix","suffixes","programCheck","push","join","hasJoinedProgramById","$store","getters","getProgramJoinedAtById","getProgramById","getOverallProgressProgramById","getDoneCountByProgramId","getNextExerciseByProgramId","getExercisetocompleteCountProgramById","getExercisecompletedCountProgramById","printDeviceError","prefix","error","clickEvent","resetEvent","logEvent","toLowerCase","exception","state","showError","$t","$root","$emit","printDeviceErrorOLD","title","hasretry","click","openPermissionPanel","catch","e","retryBtn","manageMicError","manageCamError","manageMicCamError","swipeEvent","attachSwipeListener","addEventListener","detachSwipeListeners","removeEventListener","fixWindowVariables","variable","top","forEach","item","beforeDestroy","_this2","dynamicTexts","Object","keys","length","map","text","$appConfiguration","getText","$nextTick","Math","max","clientHeight","offsetHeight"],"mappings":"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","file":"9ca2732.js","sourcesContent":["\nimport basepage from \"~/mixins.js/basepage.js\";\nimport {mapActions, mapGetters} from 'vuex'\n\nexport default {\n  name: 'welcome',\n  mixins: [basepage],\n  transition: {\n    name: 'fade'\n  },\n  beforeMount() {\n\n    console.log('sono la index opening');\n    this.$analytics.setScreenName(\"WelcomeSDKPage\");\n  },\n  mounted() {\n    console.log('ready to load airlyn features');\n    if (window.currentVMToken) {\n      console.log('Current VM Token', window.currentVMToken)\n    }\n    console.log('Check environment ready:', window.currentExercise, window.currentChallenge, window.currentVMToken)\n    this.$keepawakemanager();\n\n    this.$deviceInfo.getInfo().then((r) => {\n      this.deviceInfo = r;\n      this.$exerciseManager.setDeviceCode(r);\n    });\n\n  }\n}\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5f3e5a19\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import {mapGetters, mapActions} from 'vuex'\n\nexport default {\n  name: 'basePage',\n  transition: {\n    name: 'slide',\n    mode: 'out-in',\n    css: false,\n    beforeEnter(el) {\n      if (document.querySelector('#__nuxt').classList.contains('quit')) {\n        return\n      }\n      const startPoint = document.querySelector('#__nuxt').classList.contains('back') ? '-100%' : '100%';\n      this.$anime.set(el, {\n        scale: 1,\n        opacity: 0,\n        translateX: startPoint\n      })\n    },\n    enter(el, done) {\n      const startPoint = document.querySelector('#__nuxt').classList.contains('back') ? '-100%' : '100%';\n      this.$anime({\n        targets: el,\n        opacity: [0, 1],\n        translateX: [startPoint, \"0\"],\n        duration: 500,\n        easing: 'easeInOutSine',\n        complete: done\n      })\n    },\n    leave(el, done) {\n      if (document.querySelector('#__nuxt').classList.contains('quit')) {\n        this.$anime({\n          targets: el,\n          /*opacity: [1, 0],*/\n          translateY: [0, '100%'],\n          duration: 500,\n          easing: 'easeInOutSine',\n          complete: done\n        });\n        return\n      }\n      const startPoint = document.querySelector('#__nuxt').classList.contains('back') ? '100%' : '-100%';\n      this.$anime({\n        targets: el,\n        opacity: [1, 0],\n        translateX: [\"0\", startPoint],\n        duration: 500,\n        easing: 'easeInOutSine',\n        complete: done\n      });\n    },\n    afterLeave(el) {\n      document.querySelector('#__nuxt').classList.remove('quit');\n      document.querySelector('#__nuxt').classList.remove('back');\n    }\n  },\n  data() {\n    return {\n      \"name\": \"basePage\",\n      exid: (this.$route.params.id),\n      programid: (this.$route.params.fromprogram || false),\n      withindex: (this.$route.params.withindex || -1),\n      backto: (this.$route.params.backto || false),\n      hasBack: false,\n      hasNext: false,\n      hasInfo: false\n    }\n  },\n  computed: {\n    ...mapGetters({\n      getCurrentPagerHeight: 'getCurrentPagerHeight'\n    }),\n    isVoicemed() {\n      return $nuxt.$config.env.environment.indexOf('voicemed_') > -1\n    },\n    isAirlyn() {\n      return $nuxt.$config.env.environment.indexOf('voicemed_') < 0\n    },\n    nuxtloading() {\n      return $nuxt.$loading.loading\n    },\n    defaultHomeUrl() {\n      //We know that we can customize the opening url:\n      return \"/\";\n      if (this.isAirlyn) {\n        return \"/\";\n      }\n      if (this.isVoicemed) {\n        return \"/\";\n      }\n    }\n  },\n  methods: {\n    ...mapActions({\n      setCurrentPage: 'setCurrentPage',\n      setCurrentPagerHeight: 'setCurrentPagerHeight'\n    }),\n    exerciseStepBack() {\n      console.log('exit test', this.backto, this.programid)\n      if (this.backto == \"standalone\" || this.backto == \"challengemode\") {\n        $nuxt.$airlyn.finishExercise({\"reason\": 'user-cancelled', \"result\": {}}).finally(() => {\n          console.log('exercise finished by user')\n        });\n        $nuxt.$airlyn.closeExercise().finally(() => {\n          console.log('exercise closed, success')\n        });\n        return\n      }\n      if (this.backto == 'today') {\n        $nuxt.$router.replace($nuxt.localePath(\"/user/today\"));\n        return\n      }\n      if (this.backto == 'discovery') {\n        $nuxt.$router.replace($nuxt.localePath(\"/home\"));\n        return\n      }\n      if (this.programid) {\n        if (this.programid == \"-1\" || this.programid == -1 || this.programid == \"false\" || this.programid == false) {\n          $nuxt.$router.replace($nuxt.localePath(\"/user/today\"));\n        } else {\n          $nuxt.$router.replace($nuxt.localePath(\"/ml/programs/\" + this.programid));\n        }\n        return\n      }\n\n      $nuxt.$router.replace($nuxt.localePath(\"/user/today\"));\n    },\n    buildSuffix() {\n      let suffixes = [];\n      const programCheck = this.programid ? this.programid : false;\n      suffixes.push(programCheck !== '-1' ? programCheck : false);\n      suffixes.push(this.withindex ? this.withindex : \"-1\")\n      suffixes.push(this.backto ? this.backto : false)\n      return suffixes.join(\"/\")\n    }, hasJoinedProgramById(id) {\n      return this.$nuxt.$store.getters.hasJoinedProgramById(id)\n    },\n    getProgramJoinedAtById(id) {\n      return this.$nuxt.$store.getters.getProgramJoinedAtById(id)\n    },\n    getProgramById(id) {\n      return this.$nuxt.$store.getters.getProgramById(id)\n    },\n    getOverallProgressProgramById(id) {\n      return this.$nuxt.$store.getters.getOverallProgressProgramById(id)\n    },\n    getDoneCountByProgramId(id) {\n      return this.$nuxt.$store.getters.getDoneCountByProgramId(id)\n    },\n    getNextExerciseByProgramId(id) {\n      return this.$nuxt.$store.getters.getNextExerciseByProgramId(id)\n    },\n    getExercisetocompleteCountProgramById(id) {\n      return this.$nuxt.$store.getters.getExercisetocompleteCountProgramById(id)\n    },\n    getExercisecompletedCountProgramById(id) {\n      return this.$nuxt.$store.getters.getExercisecompletedCountProgramById(id)\n    },\n    printDeviceError(prefix, error, clickEvent, resetEvent) {\n      this.$analytics.logEvent(\"permission_error\", {\n        \"title\": 'errors.' + prefix + \".\" + error.name.toLowerCase() + \".title\",\n        \"kind\": prefix\n      });\n      console.error('Got device error', error)\n      if (error && (error.name === \"NotAllowedError\" || error.name === \"NotFoundError\" || error.exception.state == \"denied\" || error.exception.state == \"DENIED\")) {\n        this.$root.$emit('showPermssionError', true)\n        return\n      }\n\n      this.showError(\n        this.$t('errors.generic.title'),\n        this.$t('errors.generic.description'),\n        clickEvent,\n        resetEvent\n      );\n    },\n    printDeviceErrorOLD(prefix, error, clickEvent, resetEvent) {\n      this.$analytics.logEvent(\"permission_error\", {\n        \"title\": 'errors.' + prefix + \".\" + error.name.toLowerCase() + \".title\",\n        \"kind\": prefix\n      });\n      console.error('Got device error', error)\n      if (error.exception && prefix == \"mic\") {\n        if (error.exception.state == \"denied\" || error.exception.state == \"DENIED\") {\n          error.name = \"DeniedError\";\n          this.$root.$emit('showError', {\n            title: this.$t('errors.' + prefix + \".\" + error.name.toLowerCase() + \".title\"),\n            error: this.$t('errors.' + prefix + \".\" + error.name.toLowerCase() + \".description\"),\n            hasretry: true,\n            click: function () {\n              $nuxt.$airlyn.openPermissionPanel().then((r) => {\n                console.log('got openPermission Panel then', r, JSON.stringify(r))\n              }).catch((e) => {\n                console.log('got openPermission Panel catch', e, JSON.stringify(e))\n              }).finally(() => {\n                //esegui comunque il reset event...\n                if (typeof resetEvent == 'function') {\n                  console.log('dopo il setting riport cmq a inizio')\n                  resetEvent()\n                }\n              })\n              return true\n            },\n            resetEvent: resetEvent || function () {\n            },\n            retryBtn: \"Settings\"\n          });\n          return\n        }\n      }\n      if (error && (error.name === \"NotAllowedError\" || error.name === \"NotFoundError\")) {\n        //Permission error\n        this.showError(\n          this.$t('errors.' + prefix + \".\" + error.name.toLowerCase() + \".title\"),\n          this.$t('errors.' + prefix + \".\" + error.name.toLowerCase() + \".description\"),\n          clickEvent,\n          resetEvent\n        );\n        return\n      }\n      this.showError(\n        this.$t('errors.generic.title'),\n        this.$t('errors.generic.description'),\n        clickEvent,\n        resetEvent\n      );\n    },\n    manageMicError(e, clickEvent, resetEvent) {\n      this.printDeviceError('mic', e, clickEvent, resetEvent);\n    },\n    manageCamError(e, clickEvent, resetEvent) {\n      this.printDeviceError('cam', e, clickEvent, resetEvent);\n    },\n    manageMicCamError(e, clickEvent, resetEvent) {\n      this.printDeviceError('miccam', e, clickEvent, resetEvent);\n    },\n    showError(title, error, clickEvent, resetEvent) {\n      this.$root.$emit('showError', {\n        title: title,\n        error: error,\n        hasretry: clickEvent !== null ? true : false,\n        click: clickEvent || function () {\n        },\n        resetEvent: resetEvent || function () {\n        }\n      });\n    },\n    swipeEvent(e) {\n      //console.log(e.target); // element that was swiped\n      //console.log(e.detail); // see event data below\n      this.$root.$emit(\"swipe\", e);\n    },\n    attachSwipeListener() {\n      document.addEventListener('swiped-left', this.swipeEvent);\n      document.addEventListener('swiped-right', this.swipeEvent);\n    },\n    detachSwipeListeners() {\n      document.removeEventListener('swiped-left', this.swipeEvent);\n      document.removeEventListener('swiped-right', this.swipeEvent);\n    },\n    fixWindowVariables(variable) {\n      if (typeof window[variable] === 'undefined') {\n        if (window.top[variable] !== 'undefined') {\n          window[variable] = window.top[variable];\n        }\n      }\n    }\n  },\n  beforeMount() {\n    console.log('PRE loaded base Page')\n\n    console.log('fix loading variables');\n      ['currentChallenge','currentExercise', 'currentVMToken', 'currentVMKey', 'currentVMUrl'].forEach((item) => {\n      this.fixWindowVariables(item);\n    })\n\n    this.setCurrentPage(this);\n  },\n  beforeDestroy() {\n    this.detachSwipeListeners();\n  },\n  mounted() {\n    console.log('loaded base Page')\n    //Init Preferences if app is native:\n    console.log('try Load index', this.name, this.dynamicTexts);\n    if (this.dynamicTexts && Object.keys(this.dynamicTexts).length > 0) {\n      Object.keys(this.dynamicTexts).map((text) => {\n        this.$appConfiguration.getText(text).then((r) => {\n          this.dynamicTexts[text] = r;\n        }).catch((e) => {\n          this.dynamicTexts[text] = this.$t(this.name + '.' + text);\n        })\n      })\n    }\n    if (this.getCurrentPagerHeight !== null && document.querySelector('.v-main__wrap > div.pager')) {\n      console.log('some one request new height: ', this.getCurrentPagerHeight);\n      //document.querySelector('.v-main__wrap > div.pager').style.height = this.getCurrentPagerHeight + \"px\";\n    }\n    this.$nextTick(() => {\n      //Start swipe features:\n      this.attachSwipeListener();\n      if (this.getCurrentPagerHeight === null) {\n        if (document.querySelector('.v-main__wrap > div.pager')) {\n          this.setCurrentPagerHeight(Math.max(document.querySelector('.v-main__wrap > div.pager').clientHeight, document.querySelector('.v-main__wrap > div.pager').offsetHeight));\n        }\n      }\n    });\n  }\n\n}\n"],"sourceRoot":""}