{"version":3,"sources":["webpack:///./components/camtester.vue?a2d2","webpack:///./components/camtester.vue?40ef","webpack:///./components/camtester.vue?195b","webpack:///./components/camtester.vue","webpack:///./components/camtester.vue?8bec","webpack:///./components/camtester.vue?d86b"],"names":["content","__esModule","default","module","i","locals","exports","add","___CSS_LOADER_EXPORT___","___CSS_LOADER_API_IMPORT___","push","data","isCameraOpen","isLoading","computeVideOverlayHeight","streamSettings","videoinput","svgMask","height","width","maskH","maskW","maskX","maskY","computed","_objectSpread","mapGetters","getVideoDevices","getAudioDevices","methods","mapActions","setVideoDevices","setAudioDevices","clearMediaDevices","initVideoDevices","_this","this","Array","isArray","length","$enumerateMediaDevices","then","result","video","audio","catch","e","console","error","$captureException","Promise","resolve","reject","fixCameraSize","_this2","$nextTick","document","querySelector","style","window","innerWidth","_MessageHeight","clientHeight","log","paddingBottom","camH","maskPosition","Math","min","clientWidth","classList","remove","initVideoCapture","deviceInfos","_this3","device","kind","id","name","indexOf","startStream","videoID","_this4","$closeStream","undefined","videoSource","deviceId","maxHeight","innerHeight","constraints","exact","frameRate","facingMode","ideal","max","JSON","stringify","getElementById","$initVideo","stream","srcObject","$emit","navigator","mediaDevices","getSupportedConstraints","deviceNotSupported","finally","$root","hasretry","title","$t","click","resetEvent","$nuxt","$router","replace","localePath","mounted","_this5","videodevices","component","_vm","_c","_self","staticClass","_v","_e","attrs","domProps","staticStyle","_s"],"mappings":"6EAGA,IAAIA,EAAU,EAAQ,KACnBA,EAAQC,aAAYD,EAAUA,EAAQE,SACnB,iBAAZF,IAAsBA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAC7DA,EAAQK,SAAQF,EAAOG,QAAUN,EAAQK,SAG/BE,EADH,EAAQ,KAA4DL,SAC7D,WAAYF,GAAS,EAAO,CAAC,WAAY,G,mCCT1D,M,sBCCA,IACIQ,EAD8B,EAAQ,IACZC,EAA4B,SAASL,GAAG,OAAOA,EAAE,EAAE,IAEjFI,EAAwBE,KAAK,CAACP,EAAOC,EAAI,kDAAmD,KAE5FI,EAAwBH,OAAS,CAAC,EAClCF,EAAOG,QAAUE,C,wECPjB,I,knBAIe,ICJuO,EDIvO,CACbG,KAAI,WACF,MAAO,CACLC,cAAc,EACdC,WAAW,EACXC,yBAA0B,KAC1BC,eAAgB,CACdC,WAAY,MAEdC,QAAS,CACPC,OAAQ,EACRC,MAAO,EACPC,MAAO,EACPC,MAAO,EACPC,MAAO,EACPC,MAAO,GAGb,EACAC,SAAQC,EAAA,GACHC,YAAW,CACZC,gBAAiB,kBACjBC,gBAAiB,qBAGrBC,QAAOJ,IAAA,GACFK,YAAW,CACZC,gBAAiB,kBACjBC,gBAAiB,kBACjBC,kBAAmB,uBACnB,IACFC,iBAAgB,WAAI,IAADC,EAAA,KACjB,OAA6B,OAAzBC,KAAKT,iBAA6BU,MAAMC,QAAQF,KAAKT,kBAAoD,IAAhCS,KAAKT,gBAAgBY,QAChGH,KAAKH,oBACEG,KAAKI,yBAAyBC,MAAK,SAACC,GAGzC,OAFAP,EAAKJ,gBAAgBW,EAAOC,OAC5BR,EAAKH,gBAAgBU,EAAOE,OACrBT,EAAKR,eACd,IAAGkB,OAAM,SAACC,GACRC,QAAQC,MAAM,iCAAkCF,GAChDX,EAAKc,kBAAkBH,EACzB,KAEK,IAAII,SAAQ,SAACC,EAASC,GAC3BD,EAAQhB,EAAKR,gBACf,GACF,EACA0B,cAAa,WAAI,IAADC,EAAA,KACdlB,KAAKmB,WAAU,WACb,GAAIC,SAASC,cAAc,mBAAoB,CAE7CD,SAASC,cAAc,qBAAqBC,MAAMvC,MAAQwC,OAAOC,WAAa,KAC9E,IAAMC,EAAiBL,SAASC,cAAc,mCAAmCK,aACjF,IAAKR,EAAKxC,yBAA0B,CACrB0C,SAASC,cAAc,mBAAmBK,aACvDR,EAAKxC,yBAA2B+C,CAClC,CAEAd,QAAQgB,IAAI,kBAAmBJ,OAAOC,WAAYC,EAAgBP,EAAKxC,0BACvE0C,SAASC,cAAc,mBAAmBC,MAAMM,cAAgBV,EAAKxC,yBAA2B,KAChG0C,SAASC,cAAc,kBAAkBC,MAAMM,cAAgBV,EAAKxC,yBAA2B,KAC/F,IAAMmD,EAAOT,SAASC,cAAc,kBAAkBK,aACtDf,QAAQgB,IAAI,YACVE,EACAT,SAASC,cAAc,kBAAkBC,MAAMQ,aAC/CC,KAAKC,IAAIZ,SAASC,cAAc,kBAAkBY,YAChDb,SAASC,cAAc,oBAAoBY,cAE/Cf,EAAKrC,QAAQE,MAAQwC,OAAOC,WAC5BN,EAAKrC,QAAQC,OAAUsC,SAASC,cAAc,kBAAkBK,aAAeD,EAE/EP,EAAKrC,QAAQI,MAA8B,GAArBiC,EAAKrC,QAAQE,MAAe,EAClDmC,EAAKrC,QAAQG,MAA+B,GAAtBkC,EAAKrC,QAAQC,OAAgB,EAEnD6B,QAAQgB,IAAI,iBAAkBT,EAAKrC,QAAQI,MAAQiC,EAAKrC,QAAQG,OAC3DkC,EAAKrC,QAAQI,MAAQiC,EAAKrC,QAAQG,MAAS,KAC9CkC,EAAKrC,QAAQG,MAA+B,IAAtBkC,EAAKrC,QAAQC,OAAiB,EAEpDoC,EAAKrC,QAAQI,MAAQ8C,KAAKC,IAA0B,GAArBd,EAAKrC,QAAQE,MAAe,EAAGmC,EAAKrC,QAAQG,MAAQ,EAAI,GACvF2B,QAAQgB,IAAI,qBAAsBT,EAAKrC,QAAQI,MAAQiC,EAAKrC,QAAQG,QAGtEkC,EAAKrC,QAAQK,MAAQgC,EAAKrC,QAAQE,MAAQ,EAC1CmC,EAAKrC,QAAQM,MAAS+B,EAAKrC,QAAQC,OAAS,EAC5C6B,QAAQgB,IAAI,cAAeT,EAAKrC,QAAQI,MAAOiC,EAAKrC,QAAQG,MAAOkC,EAAKrC,QAAQE,MAAOmC,EAAKrC,QAAQC,QACpGsC,SAASC,cAAc,mBAAmBa,UAAUC,OAAO,SAC3Df,SAASC,cAAc,eAAea,UAAUC,OAAO,QACzD,CACF,GACF,EACAC,iBAAgB,SAACC,GAAc,IAADC,EAAA,KAC5B,OAAO,IAAIxB,SAAQ,SAACC,EAASC,GAC3B,IAAK,IAAIhD,EAAI,EAAGA,GAAKqE,EAAYlC,OAAQnC,IAAK,CAC5C,IAAMuE,EAASF,EAAYrE,GAC3B,QAAsB,IAAXuE,GAIJ,eADCA,EAAOC,UAEc,IAAdD,EAAOE,KACE,YAAdF,EAAOE,IAAoBF,EAAOG,KAAKC,QAAQ,SAAW,GAAwC,OAAnCL,EAAK3D,eAAeC,cACrF0D,EAAK3D,eAAeC,WAAa2D,EAI3C,CACuC,OAAnCD,EAAK3D,eAAeC,WAEtBoC,EAAO,4BAEPD,EAAQuB,EAAK3D,eAAeC,WAEhC,IAAG6B,OAAM,SAACG,GACRD,QAAQC,MAAM,yBAA0BA,GACxC0B,EAAKzB,kBAAkBD,EACzB,GACF,EACAgC,YAAW,SAACC,GAAU,IAADC,EAAA,KAEnB,GADA9C,KAAK+C,oBACkCC,IAAnChD,KAAKrB,eAAeC,WAA0B,CAChD,IAAMqE,EAAcjD,KAAKrB,eAAeC,WAAWsE,SAC7CC,EAAa5B,OAAO6B,YAAc,GAAM,EAAK7B,OAAO6B,YAAc7B,OAAO6B,YAAc,EAEvFC,EAAc,CAClB7C,OAAO,EACPD,MAAO,CACL2C,SAAUD,EAAc,CAACK,MAAOL,QAAeD,EAC/CO,UAAW,GACXC,WAAY,OACZzE,MAAO,CAAC0E,MAAO,IAAKC,IAPNnC,OAAOC,WAAa,GAAM,EAAKD,OAAOC,WAAaD,OAAOC,WAAa,GAQrF1C,OAAQ,CAAC2E,MAAO,IAAKC,IAAKP,KAK9B,GAFAxC,QAAQgB,IAAI,wBAAyB0B,EAAaM,KAAKC,UAAUP,IACxCjC,SAASyC,eAAehB,GAE/C,OAEF7C,KAAK8D,WAAWT,GAAahD,MAAK,SAAC0D,GACjCxC,OAAOwC,OAASA,EACK3C,SAASyC,eAAehB,GAChCmB,UAAYzC,OAAOwC,OAChCjB,EAAKmB,MAAM,cAAe,CACxB,MAAS,mBACT,MAAQ,IAEVnB,EAAK7B,eACP,IAAGR,OAAM,SAACC,GACRC,QAAQC,MAAM,8BAA+BF,GAC7CC,QAAQgB,IAAI,kBAAmBmB,EAAKvD,gBAAiBuD,EAAKtD,gBAAiBmE,KAAKC,UAAUd,EAAKvD,iBAAkBoE,KAAKC,UAAUd,EAAKtD,kBACrImB,QAAQC,MAAM,kCAAmCsD,UAAUC,aAAaC,2BACxEtB,EAAKjC,kBAAkBH,GACvBoC,EAAKuB,oBACP,IAAGC,SAAQ,WAEX,GACF,MACEtE,KAAKqE,oBAET,EACAA,mBAAkB,WAChBrE,KAAKiE,MAAM,cAAe,CACxB,MAAS,qBACT,MAAQ,IAEVjE,KAAKuE,MAAMN,MAAM,YAAa,CAC5BO,UAAU,EACVC,MAAOzE,KAAK0E,GAAG,uBACf9D,MAAOZ,KAAK0E,GAAG,6BACfC,MAAO,KACPC,WAAY,WAEV,OADAC,MAAMC,QAAQC,QAAQF,MAAMG,WAAW,OAChC,CACT,GAEJ,IAEFC,QAAO,WAAI,IAADC,EAAA,MACkB,IAAtBlF,KAAKxB,eACPwB,KAAKiE,MAAM,cAAe,CACxB,MAAS,mBACT,MAAQ,IAEVjE,KAAKF,mBAAmBO,MAAK,SAAC8E,GAC5B,OAAOD,EAAK9C,iBAAiB+C,GAAc9E,MAAK,WAC9C6E,EAAKjB,MAAM,cAAe,CACxB,MAAS,aACT,MAAQ,IAEViB,EAAKzG,WAAY,EACjByG,EAAK1G,cAAe,EAEpB0G,EAAKtC,YAAY,aACnB,IAAGnC,OAAM,SAACC,GACRC,QAAQC,MAAM,gCAAiCF,GAC/CwE,EAAKrE,kBAAkBH,GACvBwE,EAAKb,oBACP,GACF,IAAG5D,OAAM,SAACC,GACRC,QAAQC,MAAM,gCAAiCF,GAC/CwE,EAAKrE,kBAAkBH,GACvBwE,EAAKb,oBACP,IAGJ,G,iBEzMEe,EAAY,YACd,GFTW,WAAkB,IAAIC,EAAI,KAAKC,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAAEH,EAAI5G,UAAW6G,EAAG,MAAM,CAACE,YAAY,WAAW,CAACH,EAAII,GAAG,qBAAqBJ,EAAIK,KAAKL,EAAII,GAAG,KAAMJ,EAAI7G,eAAe6G,EAAI5G,UAAW6G,EAAG,QAAQ,CAACE,YAAY,iBAAiBG,MAAM,CAAC,GAAK,aAAa,YAAc,GAAG,SAAW,GAAG,MAAQ,IAAIC,SAAS,CAAC,OAAQ,KAAQP,EAAIK,OAAOL,EAAII,GAAG,KAAMJ,EAAI7G,eAAe6G,EAAI5G,UAAW6G,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAACF,EAAG,MAAM,CAACE,YAAY,WAAWlE,MAAO,6BAA6B+D,EAAIxG,QAAQE,MAAO,IAAIsG,EAAIxG,QAAQC,OAAO,WAAWuG,EAAIxG,QAAQE,MAAO,wBAAwBsG,EAAIxG,QAAQC,OAAO,iBAAkB6G,MAAM,CAAC,QAAU,MAAM,GAAK,YAAY,MAAQ,6BAA6B,cAAc,+BAA+B,EAAI,MAAM,EAAI,MAAM,QAAU,OAAON,EAAIxG,QAAQE,MAAO,IAAIsG,EAAIxG,QAAQC,OAAO,YAAY,aAAa,CAACwG,EAAG,OAAO,CAACK,MAAM,CAAC,GAAK,WAAW,CAACL,EAAG,OAAO,CAACK,MAAM,CAAC,EAAI,IAAI,EAAI,IAAI,MAAQN,EAAIxG,QAAQE,MAAM,OAASsG,EAAIxG,QAAQC,OAAO,KAAO,WAAWuG,EAAII,GAAG,KAAKH,EAAG,UAAU,CAACK,MAAM,CAAC,GAAKN,EAAIxG,QAAQK,MAAM,GAAKmG,EAAIxG,QAAQM,MAAM,GAAKkG,EAAIxG,QAAQI,MAAM,GAAKoG,EAAIxG,QAAQG,MAAM,KAAO,aAAaqG,EAAII,GAAG,KAAKH,EAAG,OAAO,CAACO,YAAY,CAAC,KAAO,mBAAmBF,MAAM,CAAC,EAAI,IAAI,EAAI,IAAI,MAAQN,EAAIxG,QAAQE,MAAM,OAASsG,EAAIxG,QAAQC,OAAO,KAAO,oBAAoBuG,EAAII,GAAG,KAAKH,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACM,SAAS,CAAC,UAAYP,EAAIS,GAAGT,EAAIX,GAAG,oCAAoCW,EAAII,GAAG,KAAKH,EAAG,OAAO,CAACM,SAAS,CAAC,UAAYP,EAAIS,GAAGT,EAAIX,GAAG,kCAAkCW,EAAIK,MAC5mD,GACsB,IEUpB,EACA,KACA,KACA,MAIa,UAAAN,E","file":"e74f892.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??ref--3-oneOf-1-2!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./camtester.vue?vue&type=style&index=0&id=2c7f3aa8&prod&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"efabf284\", content, false, {\"sourceMap\":false});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??ref--3-oneOf-1-2!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./camtester.vue?vue&type=style&index=0&id=2c7f3aa8&prod&lang=css\", function() {\n     var newContent = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??ref--3-oneOf-1-2!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./camtester.vue?vue&type=style&index=0&id=2c7f3aa8&prod&lang=css\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","export * from \"-!../node_modules/vue-style-loader/index.js??ref--3-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??ref--3-oneOf-1-2!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./camtester.vue?vue&type=style&index=0&id=2c7f3aa8&prod&lang=css\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(function(i){return i[1]});\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".svgMasks{height:100%;margin:0 auto;width:100%}\", \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {};\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","\n\nimport {mapGetters, mapActions} from 'vuex'\n\nexport default {\n  data() {\n    return {\n      isCameraOpen: false,\n      isLoading: true,\n      computeVideOverlayHeight: null,\n      streamSettings: {\n        videoinput: null\n      },\n      svgMask: {\n        height: 0,\n        width: 0,\n        maskH: 0,\n        maskW: 0,\n        maskX: 0,\n        maskY: 0\n      }\n    }\n  },\n  computed: {\n    ...mapGetters({\n      getVideoDevices: 'getVideoDevices',\n      getAudioDevices: 'getAudioDevices'\n    })\n  },\n  methods: {\n    ...mapActions({\n      setVideoDevices: 'setVideoDevices',\n      setAudioDevices: 'setAudioDevices',\n      clearMediaDevices: 'clearMediaDevices'\n    }),\n    initVideoDevices() {\n      if (this.getVideoDevices === null || (Array.isArray(this.getVideoDevices) && this.getVideoDevices.length === 0)) {\n        this.clearMediaDevices();\n        return this.$enumerateMediaDevices().then((result) => {\n          this.setVideoDevices(result.video);\n          this.setAudioDevices(result.audio);\n          return this.getVideoDevices;\n        }).catch((e) => {\n          console.error('cannot enumerate media devices', e);\n          this.$captureException(e);\n        })\n      }\n      return new Promise((resolve, reject) => {\n        resolve(this.getVideoDevices);\n      });\n    },\n    fixCameraSize() {\n      this.$nextTick(() => {\n        if (document.querySelector('.video__overlay')) {\n          //Fix screen width\n          document.querySelector('.video__container').style.width = window.innerWidth + \"px\";\n          const _MessageHeight = document.querySelector('.video__overlay .video__message').clientHeight;\n          if (!this.computeVideOverlayHeight) {\n            const _OvH = document.querySelector('.video__overlay').clientHeight;\n            this.computeVideOverlayHeight = _MessageHeight;\n          }\n\n          console.log('got base sizes:', window.innerWidth, _MessageHeight, this.computeVideOverlayHeight);\n          document.querySelector('.video__overlay').style.paddingBottom = this.computeVideOverlayHeight + \"px\";\n          document.querySelector('.cameraWrapper').style.paddingBottom = this.computeVideOverlayHeight + \"px\";\n          const camH = document.querySelector('.cameraWrapper').clientHeight;\n          console.log('H Wrapper',\n            camH,\n            document.querySelector('.cameraWrapper').style.maskPosition,\n            Math.min(document.querySelector('.cameraWrapper').clientWidth,\n              document.querySelector('div.v-main__wrap').clientWidth)\n          );\n          this.svgMask.width = window.innerWidth;\n          this.svgMask.height = (document.querySelector('.cameraWrapper').clientHeight - _MessageHeight);\n          //Ellpise size:\n          this.svgMask.maskW = (this.svgMask.width * 0.8) / 2;\n          this.svgMask.maskH = (this.svgMask.height * 0.7) / 2;\n          //Calc ratio:\n          console.log('ellipse Ratio:', this.svgMask.maskW / this.svgMask.maskH);\n          if ((this.svgMask.maskW / this.svgMask.maskH) > 0.8) {\n            this.svgMask.maskH = (this.svgMask.height * 0.85) / 2;\n            //Se il ratio è maggiore di 0.6 non è un ellisse e tende al quadrato, fix\n            this.svgMask.maskW = Math.min((this.svgMask.width * 0.7) / 2, this.svgMask.maskH / 3 * 2);\n            console.log('new ellipse Ratio:', this.svgMask.maskW / this.svgMask.maskH);\n          }\n\n          this.svgMask.maskX = this.svgMask.width / 2;\n          this.svgMask.maskY = (this.svgMask.height / 2);\n          console.log('found sizes', this.svgMask.maskW, this.svgMask.maskH, this.svgMask.width, this.svgMask.height);\n          document.querySelector('.video__overlay').classList.remove('faded');\n          document.querySelector('#video-test').classList.remove('faded');\n        }\n      });\n    },\n    initVideoCapture(deviceInfos) {\n      return new Promise((resolve, reject) => {\n        for (let i = 0; i <= deviceInfos.length; i++) {\n          const device = deviceInfos[i]\n          if (typeof device === 'undefined') {\n            continue\n          }\n          switch (device.kind) {\n            case 'videoinput':\n              if (typeof device.id !== 'undefined') {\n                if (device.id === 'default' || device.name.indexOf('front') > 0 || this.streamSettings.videoinput === null) {\n                  this.streamSettings.videoinput = device\n                }\n              }\n          }\n        }\n        if (this.streamSettings.videoinput === null) {\n          // eslint-disable-next-line prefer-promise-reject-errors\n          reject('cannot find front camera')\n        } else {\n          resolve(this.streamSettings.videoinput)\n        }\n      }).catch((error) => {\n        console.error('error initVideoCapture', error);\n        this.$captureException(error);\n      })\n    },\n    startStream(videoID) {\n      this.$closeStream();\n      if (this.streamSettings.videoinput !== undefined) {\n        const videoSource = this.streamSettings.videoinput.deviceId\n        const maxHeight = (window.innerHeight % 2 === 0) ? window.innerHeight : window.innerHeight - 1\n        const maxWidth = (window.innerWidth % 2 === 0) ? window.innerWidth : window.innerWidth - 1\n        const constraints = {\n          audio: false,\n          video: {\n            deviceId: videoSource ? {exact: videoSource} : undefined,\n            frameRate: 25,\n            facingMode: 'user',\n            width: {ideal: 640, max: maxWidth},\n            height: {ideal: 360, max: maxHeight}\n          }\n        }\n        console.log('init with constraints', constraints, JSON.stringify(constraints));\n        const TESTvideoElement = document.getElementById(videoID)\n        if (TESTvideoElement) {\n          return\n        }\n        this.$initVideo(constraints).then((stream) => {\n          window.stream = stream // make stream available to console\n          const videoElement = document.getElementById(videoID)\n          videoElement.srcObject = window.stream\n          this.$emit('postmessage', {\n            \"event\": \"finishinitStream\",\n            \"data\": false\n          });\n          this.fixCameraSize();\n        }).catch((e) => {\n          console.error('Impossibile avviare stream:', e)\n          console.log('Device rilevati', this.getVideoDevices, this.getAudioDevices, JSON.stringify(this.getVideoDevices), JSON.stringify(this.getAudioDevices));\n          console.error('Verifica constraint disponibili', navigator.mediaDevices.getSupportedConstraints())\n          this.$captureException(e);\n          this.deviceNotSupported()\n        }).finally(() => {\n\n        });\n      } else {\n        this.deviceNotSupported()\n      }\n    },\n    deviceNotSupported() {\n      this.$emit('postmessage', {\n        \"event\": \"devicenotsupported\",\n        \"data\": false\n      });\n      this.$root.$emit('showError', {\n        hasretry: false,\n        title: this.$t('errors.camera.title'),\n        error: this.$t('errors.camera.description'),\n        click: null,\n        resetEvent: function () {\n          $nuxt.$router.replace($nuxt.localePath(\"/\"));\n          return true;\n        }\n      });\n    }\n  },\n  mounted() {\n    if (this.isCameraOpen === false) {\n      this.$emit('postmessage', {\n        \"event\": \"initVideoCapture\",\n        \"data\": false\n      });\n      this.initVideoDevices().then((videodevices) => {\n        return this.initVideoCapture(videodevices).then(() => {\n          this.$emit('postmessage', {\n            \"event\": \"initStream\",\n            \"data\": false\n          });\n          this.isLoading = false;\n          this.isCameraOpen = true\n\n          this.startStream('video-test')\n        }).catch((e) => {\n          console.error('cam tester mounted exception:', e);\n          this.$captureException(e);\n          this.deviceNotSupported()\n        });\n      }).catch((e) => {\n        console.error('cam tester mounted exception:', e);\n        this.$captureException(e);\n        this.deviceNotSupported()\n      })\n\n    }\n  }\n}\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./camtester.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./camtester.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./camtester.vue?vue&type=template&id=2c7f3aa8\"\nimport script from \"./camtester.vue?vue&type=script&lang=js\"\nexport * from \"./camtester.vue?vue&type=script&lang=js\"\nimport style0 from \"./camtester.vue?vue&type=style&index=0&id=2c7f3aa8&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}