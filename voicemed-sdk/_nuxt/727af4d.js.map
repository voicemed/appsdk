{"version":3,"sources":["webpack:///./mixins.js/basepage.js","webpack:///./components/infodialog.vue?a773","webpack:///./components/infodialog.vue","webpack:///./components/infodialog.vue?c289","webpack:///./components/countdown.vue","webpack:///./components/countdown.vue?cd31","webpack:///./components/countdown.vue?6c73","webpack:///./components/exerciseanimationprogress.vue","webpack:///./components/exerciseanimationprogress.vue?fb08","webpack:///./components/exerciseanimationprogress.vue?ee9d","webpack:///./assets/images/sine.svg","webpack:///./pages/ml/exerciseexecutor/runnersilent.vue?b4ec","webpack:///./pages/ml/exerciseexecutor/runnersilent.vue?0eae","webpack:///./pages/ml/exerciseexecutor/runnersilent.vue?4c6e","webpack:///./pages/ml/exerciseexecutor/runnersilent.vue","webpack:///./pages/ml/exerciseexecutor/runnersilent.vue?edef","webpack:///./pages/ml/exerciseexecutor/runnersilent.vue?a909"],"names":["name","transition","mode","css","beforeEnter","el","document","querySelector","classList","contains","startPoint","this","$anime","set","scale","opacity","translateX","enter","done","targets","duration","easing","complete","leave","translateY","afterLeave","remove","data","exid","$route","params","id","programid","fromprogram","withindex","backto","hasBack","hasNext","hasInfo","currentTutorial","tutorialList","tutorialShownHard","computed","_objectSpread","mapGetters","getCurrentPagerHeight","getTutorialShown","getLocalTutorialShown","isVoicemed","$nuxt","$config","env","environment","indexOf","isAirlyn","nuxtloading","$loading","loading","defaultHomeUrl","methods","mapActions","setCurrentPage","setCurrentPagerHeight","setTutorialRunPerPage","setTutorialRun","setTutorialRunLocal","setPreferenceTutorial","tutorialClose","$set","tutorialHasNext","_index","index","find","v","exerciseStepBack","console","log","$router","replace","localePath","$airlyn","finishExercise","finally","buildSuffix","suffixes","programCheck","push","join","tutorialNext","visible","_next","position","height","scrollTop","top","appHeight","arrowTop","Math","max","warn","footerHeight","$nextTick","scrollTo","left","behavior","getTutorialIndex","length","getTutorialText","tutorial","$t","title","getTutorialDialogStyle","_rule","topPosition","$capacitor","isNativePlatform","updated","width","right","Object","entries","map","_ref","_ref2","_slicedToArray","k","concat","getTutorialStyle","baseOffset","_ref3","_ref4","initTutorial","_this","_tutorialCards","_toConsumableArray","querySelectorAll","_checkRun","$store","getters","getTutorialRun","getTutorialRunPerPage","localTutorials","forEach","item","indexTutorial","parseInt","dataset","tutorialindex","getBoundingClientRect","tutorialarrow","tutorialwidth","window","sort","a","b","setTimeout","itemRef","hasJoinedProgramById","getProgramJoinedAtById","getProgramById","getOverallProgressProgramById","getDoneCountByProgramId","getNextExerciseByProgramId","getExercisetocompleteCountProgramById","getExercisecompletedCountProgramById","printDeviceError","prefix","error","clickEvent","resetEvent","$analytics","logEvent","toLowerCase","exception","state","showError","$root","$emit","printDeviceErrorOLD","hasretry","click","openPermissionPanel","then","r","JSON","stringify","catch","e","retryBtn","manageMicError","manageCamError","manageMicCamError","swipeEvent","attachSwipeListener","addEventListener","detachSwipeListeners","removeEventListener","retrievePreferenceTutorial","_this2","preferenceConfigure","key","preferenceGet","value","preferenceSet","beforeMount","beforeDestroy","mounted","_this3","dynamicTexts","keys","text","$appConfiguration","getText","style","_local","clientHeight","offsetHeight","props","type","String","default","contentclasses","description","infoImage","showSuperTitle","Boolean","thumbInTitle","show","showDialog","closeClick","component","_vm","_c","_self","attrs","model","callback","$$v","expression","scopedSlots","_u","fn","class","staticClass","_v","_e","domProps","_s","proxy","on","_t","installComponents","FullpageCard","EVENT_ABORT","EVENT_PROGRESS","EVENT_START","EVENT_VISIBILITY_CHANGE","interval","Number","timerLength","reverse","now","Function","Date","emits","EVENT_END","counting","totalMilliseconds","requestId","endTime","elapsed","totalSeconds","floor","watch","$props","deep","immediate","handler","handleVisibilityChange","beforeUnmount","pause","restart","start","visibilityState","continue","getElapsed","delay","min","init","prev","requestAnimationFrame","step","range","progress","end","cancelAnimationFrame","abort","update","exerciseSteps","startPercent","doneClass","maxPercent","runningPercent","primaryColor","exercisescount","currentExercise","currentPercent","getRotation","module","exports","content","__esModule","i","locals","add","___CSS_LOADER_API_IMPORT___","___CSS_LOADER_GET_URL_IMPORT___","___CSS_LOADER_URL_IMPORT_0___","___CSS_LOADER_EXPORT___","___CSS_LOADER_URL_REPLACEMENT_0___","breathInDelay","mixins","basepage","components","CountDownItem","beforeRouteLeave","to","from","next","$closeStream","delayTime","preload","intervals","currentExerciseTime","current","about","getExercises","getCurrentExercise","isCurrentUserGuest","delayBreathTime","exercise","exercises","computedDuration","Array","isArray","reduce","carry","exe","exercisescountReal","filter","timestring","totalRunningTime","toISOString","substr","remainingString","hold","_ret","estimatedDuration","overallRemainingString","totalTimeMs","cycle","perc","currentUploadProgress","uploadProgress","totalTime","holdMs","iteration","durationMs","addDoneExercise","updateExercise","convertMsHHMMSS","val","hhmmss","timerChange","$forceNextTick","$refs","stepcountdown","currentProgress","currentRemaining","currentTime","holdProgress","_percent","overallProgress","finishDelay","startRealExercise","holdEnd","timerEnd","enddata","_this4","recordingPhasesDuration","getTime","holdMsFragment","realCurrent","manageExercise","finish","leaveMe","$gtag","program_id","clearTimeout","imageError","phasebutton","phaseimage","require","prevStep","closeInfo","back","nextStep","suffix","_this5","timeEnd","mergeAnimation","assign","loop","begin","$animationHelper","pulse","heldTimeCount","exerciseValue","exerciseStarts","timeStart","exerciseEnds","pauseTime","timePauseGap","totalComputedDuration","clientPhases","totalHeldTime","averageHeldTime","progressInterval","setInterval","uploadFake","clearInterval","sendRecord","blob","exerciseSummary","_this6","today","passed","$auth","user","_id","userId","getMilliseconds","$exerciseManager","completeExercise","loaded","total","response","completed","$captureException","startExercises","elapsedTime","timePauseStart","openInfoDialog","_this7","animation","startTimer","_this8","timer","_this9","startExercise","setScreenName","overallRemaining","setupAll","_this10","maxH","scrollHeight","staticStyle","thumb","_l","ex","ceil","animationType","cycles","ref","aboutImage","thumbnail","Exerciseanimationprogress","Infodialog"],"mappings":"ozBAEe,KACbA,KAAM,WACNC,WAAY,CACVD,KAAM,QACNE,KAAM,SACNC,KAAK,EACLC,YAAW,SAACC,GACV,IAAIC,SAASC,cAAc,WAAWC,UAAUC,SAAS,QAAzD,CAGA,IAAMC,EAAaJ,SAASC,cAAc,WAAWC,UAAUC,SAAS,QAAU,QAAU,OAC5FE,KAAKC,OAAOC,IAAIR,EAAI,CAClBS,MAAO,EACPC,QAAS,EACTC,WAAYN,GALd,CAOF,EACAO,MAAK,SAACZ,EAAIa,GACR,IAAMR,EAAaJ,SAASC,cAAc,WAAWC,UAAUC,SAAS,QAAU,QAAU,OAC5FE,KAAKC,OAAO,CACVO,QAASd,EACTU,QAAS,CAAC,EAAG,GACbC,WAAY,CAACN,EAAY,KACzBU,SAAU,IACVC,OAAQ,gBACRC,SAAUJ,GAEd,EACAK,MAAK,SAAClB,EAAIa,GACR,GAAIZ,SAASC,cAAc,WAAWC,UAAUC,SAAS,QACvDE,KAAKC,OAAO,CACVO,QAASd,EAETmB,WAAY,CAAC,EAAG,QAChBJ,SAAU,IACVC,OAAQ,gBACRC,SAAUJ,QAPd,CAWA,IAAMR,EAAaJ,SAASC,cAAc,WAAWC,UAAUC,SAAS,QAAU,OAAS,QAC3FE,KAAKC,OAAO,CACVO,QAASd,EACTU,QAAS,CAAC,EAAG,GACbC,WAAY,CAAC,IAAKN,GAClBU,SAAU,IACVC,OAAQ,gBACRC,SAAUJ,GARZ,CAUF,EACAO,WAAU,SAACpB,GACTC,SAASC,cAAc,WAAWC,UAAUkB,OAAO,QACnDpB,SAASC,cAAc,WAAWC,UAAUkB,OAAO,OACrD,GAEFC,KAAI,WACF,MAAO,CACL,KAAQ,WACRC,KAAOjB,KAAKkB,OAAOC,OAAOC,GAC1BC,UAAYrB,KAAKkB,OAAOC,OAAOG,cAAe,EAC9CC,UAAYvB,KAAKkB,OAAOC,OAAOI,YAAc,EAC7CC,OAASxB,KAAKkB,OAAOC,OAAOK,SAAU,EACtCC,SAAS,EACTC,SAAS,EACTC,SAAS,EACTC,iBAAiB,EACjBC,aAAc,GACdC,mBAAmB,EAEvB,EACAC,SAAQC,IAAA,GACHC,YAAW,CACZC,sBAAuB,wBACvBC,iBAAkB,mBAClBC,sBAAuB,2BACvB,IACFC,WAAU,WACR,OAAOC,MAAMC,QAAQC,IAAIC,YAAYC,QAAQ,cAAc,CAC7D,EACAC,SAAQ,WACN,OAAOL,MAAMC,QAAQC,IAAIC,YAAYC,QAAQ,aAAa,CAC5D,EACAE,YAAW,WACT,OAAON,MAAMO,SAASC,OACxB,EACAC,eAAc,WAEZ,MAAO,aAOT,IAEFC,QAAOhB,IAAA,GACFiB,YAAW,CACZC,eAAgB,iBAChBC,sBAAuB,wBACvBC,sBAAuB,wBACvBC,eAAgB,oBAChB,IACFC,oBAAmB,WACjBtD,KAAKuD,uBACP,EAGAC,cAAa,WACXxD,KAAKyD,KAAKzD,KAAM,eAAgB,IAChCA,KAAKsD,sBACLtD,KAAK4B,gBAAkB,IACzB,EACA8B,gBAAe,WACb,IAAMC,EAAS3D,KAAK4B,gBAAgBgC,MAEpC,QADc5D,KAAK6B,aAAagC,MAAK,SAACC,GAAC,OAAKA,EAAEF,QAAUD,EAAS,CAAC,GAKpE,EACAI,iBAAgB,WACdC,QAAQC,IAAI,YAAajE,KAAKwB,OAAQxB,KAAKqB,WACzB,cAAfrB,KAAKwB,OAMW,SAAfxB,KAAKwB,OAIU,aAAfxB,KAAKwB,OAILxB,KAAKqB,UACe,MAAlBrB,KAAKqB,YAAwC,GAAnBrB,KAAKqB,WAAqC,SAAlBrB,KAAKqB,WAA0C,GAAlBrB,KAAKqB,UACtFiB,MAAM4B,QAAQC,QAAQ7B,MAAM8B,WAAW,gBAEvC9B,MAAM4B,QAAQC,QAAQ7B,MAAM8B,WAAW,gBAAkBpE,KAAKqB,YAKlEiB,MAAM4B,QAAQC,QAAQ7B,MAAM8B,WAAW,gBAZrC9B,MAAM4B,QAAQC,QAAQ7B,MAAM8B,WAAW,UAJvC9B,MAAM4B,QAAQC,QAAQ7B,MAAM8B,WAAW,gBANvC9B,MAAM+B,QAAQC,eAAe,CAAC,OAAS,iBAAiB,OAAS,CAAC,IAAIC,SAAQ,WAC5EP,QAAQC,IAAI,4BACd,GAqBJ,EACAO,YAAW,WACT,IAAIC,EAAW,GACTC,IAAe1E,KAAKqB,WAAYrB,KAAKqB,UAI3C,OAHAoD,EAASE,KAAoB,OAAfD,GAAoBA,GAClCD,EAASE,KAAK3E,KAAKuB,UAAYvB,KAAKuB,UAAY,MAChDkD,EAASE,OAAK3E,KAAKwB,QAASxB,KAAKwB,QAC1BiD,EAASG,KAAK,IACvB,EACAC,aAAY,WACV,IAAIlB,EAAS3D,KAAK4B,gBAAkB5B,KAAK4B,gBAAgBgC,MAAQ,EAC7D5D,KAAK4B,iBACP5B,KAAK4B,gBAAgBkD,SAAU,EAC/B9E,KAAKsD,uBAGLK,EAAS3D,KAAK6B,aAAa,GAAG+B,MAAQ,EAExC,IAAMmB,EAAQ/E,KAAK6B,aAAagC,MAAK,SAACC,GAAC,OAAKA,EAAEF,QAAUD,EAAS,CAAC,IAClE,GAAIoB,EAAO,CAGT/E,KAAK4B,gBAAkBmD,EAI0BA,EAAMC,SAASC,OAHhE,IAKIC,EAAYH,EAAMC,SAASG,IAAMnF,KAAKoF,UAAY,EACpDL,EAAMC,SAASG,IAAG,IAClBJ,EAAMC,SAASG,IANI,GAOjBJ,EAAMM,WACRH,EAAYH,EAAMC,SAASG,KAAOJ,EAAMC,SAASC,OAR9B,KAUrBC,EAAYI,KAAKC,IAAI,EAAGL,GAExBlB,QAAQwB,KAAK,oBAAqBN,EAAWlF,KAAKoF,UAAWpF,KAAKyF,aAAcV,EAAMC,SAASC,QAC/FjF,KAAK0F,WAAU,WACb/F,SAASC,cAAc,cAAc+F,SAAS,CAC5CR,IAAKD,EACLU,KAAM,EACNC,SAAU,UAEd,IACAd,EAAMD,SAAU,CAElB,MAEE9E,KAAKwD,eAET,EACAsC,iBAAgB,WACd,OAAI9F,KAAK4B,gBACH5B,KAAK4B,gBAAgBgC,MAAQ5D,KAAK6B,aAAakE,OAC1C/F,KAAK6B,aAAakE,OAEpB/F,KAAK4B,gBAAgBgC,MAEvB,EACT,EACAoC,gBAAe,SAACC,GACd,OAAOjG,KAAKkG,GAAG,aAAelG,KAAKX,KAAO,SAAW4G,EAASrC,MAAO,CAAC,MAASqC,EAASE,OAC1F,EACAC,uBAAsB,SAACH,GACrB,IAAMI,EAAQ,CAAC,EACTrB,EAAWiB,EAASjB,SACtBsB,EAActB,EAASG,IAoB3B,OAnBInF,KAAKuG,YAAcvG,KAAKuG,WAAWC,oBAA0C,GAApBP,EAASQ,UAEpEH,EAActB,EAASG,IACvBc,EAASQ,SAAU,EACnBzC,QAAQwB,KAAK,4CAGba,EAAMlB,IADHmB,EAAe,IACLA,EAAc,IAAO,KAErBA,EAActB,EAASC,OAAS,GAAM,KAErDjB,QAAQwB,KAAK,2BAA4BS,EAAUI,GAE5B,SAAnBJ,EAASS,MACXL,EAAMT,KAAO,QAAUZ,EAASY,KAAO,eAAiBZ,EAAS0B,MAAQ,QAEzEL,EAAMT,KAAO,MACbS,EAAMM,MAAQ,OAETC,OAAOC,QAAQR,GAAOS,KAAI,SAAAC,GAAA,IAAAC,EAAAC,YAAAF,EAAA,GAAEG,EAACF,EAAA,GAAElD,EAACkD,EAAA,YAAAG,OAASD,EAAC,KAAAC,OAAIrD,EAAC,IAAIc,KAAK,IACjE,EACAwC,iBAAgB,SAACnB,GACf,IAAMI,EAAQ,CAAC,EACTrB,EAAWiB,EAASjB,SAEtBsB,EAActB,EAASG,IAoB3B,OAnBInF,KAAKuG,YAAcvG,KAAKuG,WAAWC,oBAA0C,GAApBP,EAASQ,UAEpEH,EAActB,EAASG,IACvBc,EAASQ,SAAU,GAErBzC,QAAQwB,KAAK,qBAAsBS,EAAUK,GACtB,SAAnBL,EAASS,OACXL,EAAMlB,IAAOmB,EAAee,EAAmB,KAC/ChB,EAAMT,KAAO,MACbS,EAAMM,MAAQ,MACdN,EAAMpB,OAAUD,EAASC,OAZR,EAY+B,OAEhDoB,EAAMlB,IAAOmB,EAAee,EAAmB,KAC/ChB,EAAMT,KAAQZ,EAASY,KAAQyB,EAAmB,KAClDhB,EAAMM,MAAQ,MACdN,EAAMpB,OAAUD,EAASC,OAjBR,EAiB+B,KAChDoB,EAAMK,MAAS1B,EAAS0B,MAlBP,EAkB6B,MAGzCE,OAAOC,QAAQR,GAAOS,KAAI,SAAAQ,GAAA,IAAAC,EAAAN,YAAAK,EAAA,GAAEJ,EAACK,EAAA,GAAEzD,EAACyD,EAAA,YAAAJ,OAASD,EAAC,KAAAC,OAAIrD,EAAC,IAAIc,KAAK,IACjE,EACA4C,aAAY,WAAI,IAADC,EAAA,KACPC,EAAcC,YAAOhI,SAASiI,iBAAiB,iBAEjDC,GAAY,EAOhB,GANI7H,KAAKuG,YAAcvG,KAAKuG,WAAWC,mBACrCqB,EAAY7H,KAAK8B,mBAEjB9B,KAAK8B,kBAAmB9B,KAAKsC,MAAMwF,OAAOC,QAAQC,eAAehI,KAAKX,MACtEwI,EAAY7H,KAAKsC,MAAMwF,OAAOC,QAAQE,sBAAsBjI,KAAKX,YAEnB,IAArCW,KAAKmC,iBAAiBnC,KAAKX,OAAyBwI,GAAa7H,KAAK8B,kBAC/EkC,QAAQwB,KAAK,+CADf,CAKA,GADAxF,KAAKyD,KAAKzD,KAAM,eAAgB,IAC5B0H,EAAe3B,OAAS,EAAG,CAC7BpG,SAASC,cAAc,cAAc+F,SAAS,CAC5CR,IAAK,EACLS,KAAM,EACNC,SAAU,WAEZ,IAAMqC,EAAiBlI,KAAKoC,sBAC5B4B,QAAQwB,KAAK,sBAAuB0C,GACpCR,EAAeS,SAAQ,SAACC,GACtB,IAAMC,EAAgBC,SAASF,EAAKG,QAAQC,eAC5C,QAA+D,IAApDN,EAAeT,EAAKpI,KAAO,IAAMgJ,GAAgC,CAC1E,IAAMrD,EAAWoD,EAAKK,wBACtBhB,EAAK5F,aAAa8C,KAAK,CACrB,SAAYK,EACZ,SAAW,EACX,QAAWoD,EACX,SAAW,EACX,SAA0C,OAA9BA,EAAKG,QAAQG,cACzB,MAASN,EAAKG,QAAQtC,SACtB,MAASmC,EAAKG,QAAQI,cACtB,MAASN,GAEb,CACF,IACAO,OAAO/G,aAAe7B,KAAK6B,YAC7B,CAEI7B,KAAK6B,aAAakE,OAAS,IAC7B/F,KAAK6B,aAAe7B,KAAK6B,aAAagH,MAAK,SAACC,EAAGC,GAC7C,OAAID,EAAElF,MAAQmF,EAAEnF,MACP,EAELmF,EAAEnF,MAAQkF,EAAElF,OACN,EAEH,CACT,KAEE5D,KAAK6B,aAAakE,OAAS,IAC7B/F,KAAK4B,gBAAkB,EACvB5B,KAAK0F,WAAU,WACbsD,YAAW,WAGTvB,EAAK5F,aAAasG,SAAQ,SAACC,GACzBA,EAAKpD,SAAWoD,EAAKa,QAAQR,uBAC/B,IACAhB,EAAK5C,eACL4C,EAAKrE,sBAAsBqE,EAAKpI,KAClC,GAAG,IACL,IApDF,CAuDF,EACA6J,qBAAoB,SAAC9H,GACnB,OAAOpB,KAAKsC,MAAMwF,OAAOC,QAAQmB,qBAAqB9H,EACxD,EACA+H,uBAAsB,SAAC/H,GACrB,OAAOpB,KAAKsC,MAAMwF,OAAOC,QAAQoB,uBAAuB/H,EAC1D,EACAgI,eAAc,SAAChI,GACb,OAAOpB,KAAKsC,MAAMwF,OAAOC,QAAQqB,eAAehI,EAClD,EACAiI,8BAA6B,SAACjI,GAC5B,OAAOpB,KAAKsC,MAAMwF,OAAOC,QAAQsB,8BAA8BjI,EACjE,EACAkI,wBAAuB,SAAClI,GACtB,OAAOpB,KAAKsC,MAAMwF,OAAOC,QAAQuB,wBAAwBlI,EAC3D,EACAmI,2BAA0B,SAACnI,GACzB,OAAOpB,KAAKsC,MAAMwF,OAAOC,QAAQwB,2BAA2BnI,EAC9D,EACAoI,sCAAqC,SAACpI,GACpC,OAAOpB,KAAKsC,MAAMwF,OAAOC,QAAQyB,sCAAsCpI,EACzE,EACAqI,qCAAoC,SAACrI,GACnC,OAAOpB,KAAKsC,MAAMwF,OAAOC,QAAQ0B,qCAAqCrI,EACxE,EACAsI,iBAAgB,SAACC,EAAQC,EAAOC,EAAYC,GAC1C9J,KAAK+J,WAAWC,SAAS,mBAAoB,CAC3C,MAAS,UAAYL,EAAS,IAAMC,EAAMvK,KAAK4K,cAAgB,SAC/D,KAAQN,IAEV3F,QAAQ4F,MAAM,mBAAoBA,IAC9BA,GAAyB,oBAAfA,EAAMvK,MAA6C,kBAAfuK,EAAMvK,MAAqD,UAAzBuK,EAAMM,UAAUC,OAA8C,UAAzBP,EAAMM,UAAUC,MAKzInK,KAAKoK,UACHpK,KAAKkG,GAAG,wBACRlG,KAAKkG,GAAG,8BACR2D,EACAC,GARA9J,KAAKqK,MAAMC,MAAM,sBAAsB,EAU3C,EACAC,oBAAmB,SAACZ,EAAQC,EAAOC,EAAYC,GAM7C,GALA9J,KAAK+J,WAAWC,SAAS,mBAAoB,CAC3C,MAAS,UAAYL,EAAS,IAAMC,EAAMvK,KAAK4K,cAAgB,SAC/D,KAAQN,IAEV3F,QAAQ4F,MAAM,mBAAoBA,GAC9BA,EAAMM,WAAuB,OAAVP,IACQ,UAAzBC,EAAMM,UAAUC,OAA8C,UAAzBP,EAAMM,UAAUC,OAwBvD,OAvBAP,EAAMvK,KAAO,mBACbW,KAAKqK,MAAMC,MAAM,YAAa,CAC5BnE,MAAOnG,KAAKkG,GAAG,UAAYyD,EAAS,IAAMC,EAAMvK,KAAK4K,cAAgB,UACrEL,MAAO5J,KAAKkG,GAAG,UAAYyD,EAAS,IAAMC,EAAMvK,KAAK4K,cAAgB,gBACrEO,UAAU,EACVC,MAAO,WAYL,OAXAnI,MAAM+B,QAAQqG,sBAAsBC,MAAK,SAACC,GACxC5G,QAAQC,IAAI,gCAAiC2G,EAAGC,KAAKC,UAAUF,GACjE,IAAGG,OAAM,SAACC,GACRhH,QAAQC,IAAI,iCAAkC+G,EAAGH,KAAKC,UAAUE,GAClE,IAAGzG,SAAQ,WAEgB,mBAAduF,IACT9F,QAAQC,IAAI,uCACZ6F,IAEJ,KACO,CACT,EACAA,WAAYA,GAAc,WAC1B,EACAmB,SAAU,cAKZrB,GAAyB,oBAAfA,EAAMvK,MAA6C,kBAAfuK,EAAMvK,KAUxDW,KAAKoK,UACHpK,KAAKkG,GAAG,wBACRlG,KAAKkG,GAAG,8BACR2D,EACAC,GAZA9J,KAAKoK,UACHpK,KAAKkG,GAAG,UAAYyD,EAAS,IAAMC,EAAMvK,KAAK4K,cAAgB,UAC9DjK,KAAKkG,GAAG,UAAYyD,EAAS,IAAMC,EAAMvK,KAAK4K,cAAgB,gBAC9DJ,EACAC,EAUN,EACAoB,eAAc,SAACF,EAAGnB,EAAYC,GAC5B9J,KAAK0J,iBAAiB,MAAOsB,EAAGnB,EAAYC,EAC9C,EACAqB,eAAc,SAACH,EAAGnB,EAAYC,GAC5B9J,KAAK0J,iBAAiB,MAAOsB,EAAGnB,EAAYC,EAC9C,EACAsB,kBAAiB,SAACJ,EAAGnB,EAAYC,GAC/B9J,KAAK0J,iBAAiB,SAAUsB,EAAGnB,EAAYC,EACjD,EACAM,UAAS,SAACjE,EAAOyD,EAAOC,EAAYC,GAClC9J,KAAKqK,MAAMC,MAAM,YAAa,CAC5BnE,MAAOA,EACPyD,MAAOA,EACPY,SAAyB,OAAfX,EACVY,MAAOZ,GAAc,WACrB,EACAC,WAAYA,GAAc,WAC1B,GAEJ,EACAuB,WAAU,SAACL,GAGThL,KAAKqK,MAAMC,MAAM,QAASU,EAC5B,EACAM,oBAAmB,WACjB3L,SAAS4L,iBAAiB,cAAevL,KAAKqL,YAC9C1L,SAAS4L,iBAAiB,eAAgBvL,KAAKqL,WACjD,EACAG,qBAAoB,WAClB7L,SAAS8L,oBAAoB,cAAezL,KAAKqL,YACjD1L,SAAS8L,oBAAoB,eAAgBzL,KAAKqL,WACpD,EACAK,2BAA0B,WAAI,IAADC,EAAA,KACvB3L,KAAKuG,YAAcvG,KAAKuG,WAAWC,oBACrCxG,KAAKqE,QAAQuH,oBAAoB,CAAC,MAAS,WAAWrH,SAAQ,WAC5DP,QAAQC,IAAI,qBACZ,IAAM4H,EAAM,YAAcF,EAAKtM,KAC/BsM,EAAKtH,QAAQyH,cAAc,CAAC,IAAOD,IAAMlB,MAAK,SAACC,GAC7C5G,QAAQC,IAAI,oBAAsB4H,EAAM,KAAMjB,GAC1CA,GAAKA,EAAEmB,QAAsB,IAAZnB,EAAEmB,OAA0B,KAAXnB,EAAEmB,SACtC/H,QAAQC,IAAI,mCAAoC4H,EAAKjB,EAAEmB,OACvDJ,EAAK7J,mBAAoB,EAE7B,GACF,GAEJ,EACAyB,sBAAqB,WACnB,GAAIvD,KAAKuG,YAAcvG,KAAKuG,WAAWC,mBAAoB,CACzD,IAAMqF,EAAM,YAAc7L,KAAKX,KAC/BW,KAAKqE,QAAQ2H,cAAc,CAAC,IAAOH,EAAK,MAAS,MAAMtH,SAAQ,WAC7DP,QAAQC,IAAI,yBAA0B4H,EACxC,GACF,CACA7L,KAAKqD,eAAe,CAAC,KAAQrD,KAAKX,KAAM,MAASW,KAAK4B,gBAAgBgC,QACtE5D,KAAK8B,mBAAoB,CAC3B,IAEFmK,YAAW,WACTjI,QAAQC,IAAI,wBACZjE,KAAKkD,eAAelD,KACtB,EACAkM,cAAa,WACXlM,KAAKwL,sBACP,EACAW,QAAO,WAAI,IAADC,EAAA,KACRpI,QAAQC,IAAI,oBACZjE,KAAK8B,mBAAoB,EAEzB9B,KAAK0L,6BACL1H,QAAQC,IAAI,iBAAkBjE,KAAKX,KAAMW,KAAKqM,cAC1CrM,KAAKqM,cAAgBzF,OAAO0F,KAAKtM,KAAKqM,cAActG,OAAS,GAC/Da,OAAO0F,KAAKtM,KAAKqM,cAAcvF,KAAI,SAACyF,GAClCH,EAAKI,kBAAkBC,QAAQF,GAAM5B,MAAK,SAACC,GACzCwB,EAAKC,aAAaE,GAAQ3B,CAC5B,IAAGG,OAAM,SAACC,GACRoB,EAAKC,aAAaE,GAAQH,EAAKlG,GAAGkG,EAAK/M,KAAO,IAAMkN,EACtD,GACF,IAEiC,OAA/BvM,KAAKkC,uBAAkCvC,SAASC,cAAc,+BAChED,SAASC,cAAc,6BAA6B8M,MAAMzH,OAASjF,KAAKkC,sBAAwB,MAElGlC,KAAK0F,WAAU,WAEb,GAAI0G,EAAK7F,YAAc6F,EAAK7F,WAAWC,mBACrCxC,QAAQC,IAAI,yCACP,CACL,IAAM0I,EAASP,EAAKhK,sBAChBuK,QAAuC,IAAtBA,EAAOP,EAAK/M,MAC/B+M,EAAKtK,mBAAoB,EAEzBsK,EAAKtK,mBAAoB,CAG7B,CAGAsK,EAAKd,sBAC8B,OAA/Bc,EAAKlK,uBACHvC,SAASC,cAAc,8BACzBwM,EAAKjJ,sBAAsBmC,KAAKC,IAAI5F,SAASC,cAAc,6BAA6BgN,aAAcjN,SAASC,cAAc,6BAA6BiN,cAGhK,GACF,E,yDCnhBqP,ECCxO,CACbC,MAAO,CACL3G,MAAO,CACL4G,KAAMC,OACNC,QAAS,QAEX3N,WAAY,CACVyN,KAAMC,OACNC,QAAS,4BAEXC,eAAgB,CACdH,KAAMC,OACNC,QAAS,IAEXE,YAAa,CACXJ,KAAMC,OACNC,QAAS,aAEXG,UAAW,CACTL,KAAMC,OACNC,QAAS,MAEXI,eAAgB,CACdN,KAAMO,QACNL,SAAS,GAEXM,aAAc,CACZR,KAAMO,QACNL,SAAS,GAEXO,KAAM,CACJT,KAAMO,QACNL,SAAS,IAGbjM,KAAI,WACF,MAAO,CAAC,CACV,EACAe,SAAU,CACR0L,WAAY,WACV,OAAOzN,KAAKwN,IACd,GAEFxK,QAAU,CACR0K,WAAU,SAAC1C,GACThL,KAAKsK,MAAM,QAAQU,EACrB,GAEFmB,QAAO,WACP,G,QC3CEwB,EAAY,YACd,GDRW,WAAkB,IAAIC,EAAI,KAAKC,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,WAAW,CAACE,MAAM,CAAC,WAAa,GAAG,eAAe,GAAG,WAAaH,EAAItO,WAAW,WAAa,GAAG,gBAAgB,cAAcsO,EAAIV,gBAAgBc,MAAM,CAACjC,MAAO6B,EAAIH,WAAYQ,SAAS,SAAUC,GAAMN,EAAIH,WAAWS,CAAG,EAAEC,WAAW,eAAe,CAACN,EAAG,gBAAgB,CAACO,YAAYR,EAAIS,GAAG,CAAC,CAACxC,IAAI,SAASyC,GAAG,WAAW,MAAO,CAACT,EAAG,MAAM,CAACU,MAAM,EAAEX,EAAIP,eAAe,OAAO,WAAW,gBAAgBO,EAAIL,aAAa,OAAO,WAAW,mBAAmB,CAAEK,EAAIP,eAAgBQ,EAAG,MAAM,CAACW,YAAY,0BAA0B,CAACZ,EAAIa,GAAG,WAAWb,EAAIc,KAAKd,EAAIa,GAAG,KAAMb,EAAIR,YAA8B,IAAnBQ,EAAIL,aAAqBM,EAAG,MAAM,CAACW,YAAY,aAAaT,MAAM,CAAC,IAAMH,EAAIR,aAAaQ,EAAIc,KAAKd,EAAIa,GAAG,KAAKZ,EAAG,MAAM,CAACW,YAAY,gCAAgCG,SAAS,CAAC,UAAYf,EAAIgB,GAAGhB,EAAIzH,YAAY,EAAE0I,OAAM,GAAM,CAAChD,IAAI,OAAOyC,GAAG,WAAW,MAAO,CAACT,EAAG,MAAM,CAACW,YAAY,uBAAuB,CAAEZ,EAAIR,YAA8B,IAAnBQ,EAAIL,aAAsBM,EAAG,MAAM,CAACW,YAAY,aAAaT,MAAM,CAAC,IAAMH,EAAIR,aAAaQ,EAAIc,KAAKd,EAAIa,GAAG,KAAKZ,EAAG,OAAO,CAACU,MAAM,CAACX,EAAIV,eAAgB,oBAAoByB,SAAS,CAAC,UAAYf,EAAIgB,GAAGhB,EAAIT,kBAAkB,EAAE0B,OAAM,GAAM,CAAChD,IAAI,SAASyC,GAAG,WAAW,MAAO,CAACT,EAAG,MAAM,CAACU,MAAM,CAAC,UAAU,CAACV,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,SAAS,KAAO,IAAIe,GAAG,CAAC,MAAQlB,EAAIF,aAAa,CAACE,EAAImB,GAAG,YAAW,WAAW,MAAO,CAAClB,EAAG,SAAS,CAACD,EAAIa,GAAG,gBAAgBb,EAAIa,GAAG,KAAKZ,EAAG,OAAO,CAACc,SAAS,CAAC,UAAYf,EAAIgB,GAAGhB,EAAI1H,GAAG,oBAAoB,KAAI,IAAI,GAAG,EAAE2I,OAAM,IAAO,MAAK,MAAS,EAC9/C,GACsB,ICSpB,EACA,KACA,KACA,MAIa,UAAAlB,EAAiB,QAGhCqB,kBAAkBrB,EAAW,CAACsB,aAAc,EAAQ,KAAiHhC,S,iDCrBrK,IAEMiC,EAAc,QAEdC,EAAiB,WACjBC,EAAc,QACdC,EAA0B,mBCNsN,EDQvO,CACbhQ,KAAM,YACNyN,MAAO,CACLwC,SAAU,CACRvC,KAAMwC,OACNtC,QAAS,KAEXuC,YAAa,CACXzC,KAAMwC,OACNtC,QAAS,KAEXwC,QAAS,CACP1C,KAAMO,QACNL,SAAS,GAEXyC,IAAK,CACH3C,KAAM4C,SACN1C,QAAS,kBAAM2C,KAAKF,KAAK,GAE3BG,MAAO,CACLX,cACAY,UA1BY,MA2BZX,iBACAC,gBAGJpO,KAAI,WACF,MAAO,CACL+O,UAAU,EACVC,kBAAmB,EACnBC,UAAW,EACXC,QAAS,EACTC,QAAS,EAEb,EACApO,SAAU,CACRqO,aAAY,WACV,OAAO9K,KAAK+K,MAAMrQ,KAAKgQ,kBA5CD,IA6CxB,GAEFM,MAAO,CACLC,OAAQ,CACNC,MAAM,EACNC,WAAW,EACXC,QAAO,WACL1Q,KAAKgQ,kBAAoBhQ,KAAKwP,YAC9BxP,KAAKkQ,QAAUlQ,KAAK0P,MAAQ1P,KAAKwP,WAEnC,IAGJrD,QAAO,WACLxM,SAAS4L,iBAAiB8D,EAAyBrP,KAAK2Q,uBAC1D,EAEAC,cAAa,WACXjR,SAAS8L,oBAAoB4D,EAAyBrP,KAAK2Q,wBAC3D3Q,KAAK6Q,OACP,EACA7N,QAAS,CACP8N,QAAO,WACL9Q,KAAKgQ,kBAAoBhQ,KAAKwP,YAC9BxP,KAAKkQ,QAAUlQ,KAAK0P,MAAQ1P,KAAKwP,YACjCxP,KAAKmQ,QAAU,EACfnQ,KAAK+Q,OACP,EACAA,MAAK,WACC/Q,KAAK+P,WAGT/P,KAAK+P,UAAW,EAChB/P,KAAKsK,MAAM8E,GACsB,YAA7BzP,SAASqR,iBACXhR,KAAKiR,WAET,EACAC,WAAU,WACR,OAAOlR,KAAKmQ,OACd,EACAc,SAAQ,WAAI,IAADxJ,EAAA,KACT,GAAKzH,KAAK+P,SAAV,CAGA,IAAMoB,EAAQ7L,KAAK8L,IAAIpR,KAAKgQ,kBAAmBhQ,KAAKsP,UACpD,GAAI6B,EAAQ,EAAG,CACb,IAAIE,EACAC,EAgBJtR,KAAKiQ,UAAYsB,uBAfJ,SAAPC,EAAQ9B,GACP2B,IACHA,EAAO3B,GAEJ4B,IACHA,EAAO5B,GAET,IAAM+B,EAAQ/B,EAAM2B,EAChBI,GAASN,GAASM,GAAU/B,EAAM4B,GAAQ,GAAMH,EAClD1J,EAAKiK,WAELjK,EAAKwI,UAAYsB,sBAAsBC,GAEzCF,EAAO5B,CACT,GAEF,MACE1P,KAAK2R,KAtBP,CAwBF,EACAd,MAAK,WACHe,qBAAqB5R,KAAKiQ,UAC5B,EACAyB,SAAQ,WACD1R,KAAK+P,WAGV/P,KAAKgQ,mBAAqBhQ,KAAKsP,SAC/BtP,KAAKmQ,SAAWnQ,KAAKsP,SACjBtP,KAAKgQ,kBAAoB,GAC3BhQ,KAAKsK,MAAM6E,EAAgB,CACzBiB,aAAcpQ,KAAKoQ,aACnBJ,kBAAmBhQ,KAAKgQ,kBACxBV,SAAUtP,KAAKsP,SACfa,QAASnQ,KAAKmQ,UAGlBnQ,KAAKiR,WACP,EACAY,MAAK,WACE7R,KAAK+P,WAGV/P,KAAK6Q,QACL7Q,KAAK+P,UAAW,EAChB/P,KAAKsK,MAAM4E,GACb,EACAyC,IAAG,WACI3R,KAAK+P,WAGV/P,KAAK6Q,QACL7Q,KAAK+P,UAAW,EAChB/P,KAAKsK,MAjJO,MAiJU,CACpB8F,aAAcpQ,KAAKoQ,aACnBJ,kBAAmBhQ,KAAKgQ,kBACxBV,SAAUtP,KAAKsP,SACfa,QAASnQ,KAAKmQ,UAEhBnQ,KAAKgQ,kBAAoB,EAC3B,EACA8B,OAAM,WACA9R,KAAK+P,WACP/P,KAAKgQ,kBAAoB1K,KAAKC,IAAI,EAAGvF,KAAKkQ,QAAUlQ,KAAK0P,OAE7D,EACAiB,uBAAsB,WACpB,OAAQhR,SAASqR,iBACf,IAAK,UACHhR,KAAK8R,SACL9R,KAAKiR,WACL,MACF,IAAK,SACHjR,KAAK6Q,QAIX,I,QErKAlD,EAAY,YACd,GFRW,WAA+C,OAAOE,EAA5B,KAAYC,MAAMD,IAAa,MAAM,CAACW,YAAY,qBACzF,GACsB,IESpB,EACA,KACA,KACA,MAIa,UAAAb,E,wDClBf,ICAsQ,EDCrP,CACbb,MAAO,CACLf,MAAQ,CACNgB,KAAKwC,OACLtC,QAAQ,GAEV8E,cAAc,CACZhF,KAAKwC,OACLtC,QAAQ,GAEV+E,aAAc,CACZjF,KAAKwC,OACLtC,QAAS,GAEXgF,UAAW,CACTlF,KAAKC,OACLC,QAAQ,QAEViF,WAAa,CACXnF,KAAKwC,OACLtC,QAAS,GAEXkF,eAAgB,CACdpF,KAAKwC,OACLtC,QAAS,IAGblL,SAAW,CACTqQ,aAAY,WACV,OAAO9P,MAAMC,QAAQC,IAAIC,YAAYC,QAAQ,cAAc,EAAE,UAAU,SACzE,EACA2P,eAAc,WACZ,OAAOrS,KAAK+R,aACd,EACAO,gBAAe,WACb,OAAOtS,KAAK+L,KACd,EACAwG,eAAc,WACZ,OAAOvS,KAAKmS,cACd,GAEFnP,QAAS,CACPwP,YAAW,SAAC5O,GACV,OAAa,IAAVA,EACM,0BAIF,oBADQ,IAAK5D,KAAKqS,eAAiBzO,EACR,OACpC,I,QE3CF+J,EAAY,YACd,GFRW,WAAkB,IAAIC,EAAI,KAAKC,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACU,MAAM,CAAC,mBAAmB,CAACV,EAAG,WAAW,CAACE,MAAM,CAAC,WAAa,UAAU,WAAa,YAAY,KAAO,IAAI,KAAO,IAAI,UAAY,EAAE,SAAW,CAAC,CAAC,MAAQ,WAAW,MAAQH,EAAI2E,eAAe,MAAQ3E,EAAIwE,eAAe,MAAQ,IAAI,cAAc,EAAE,yBAAwB,IAAO,CAACxE,EAAImB,GAAG,WAAW,IAAI,EAC1X,GACsB,IESpB,EACA,KACA,KACA,MAIa,UAAApB,E,6BClBf8E,EAAOC,QAAU,IAA0B,sB,sBCG3C,IAAIC,EAAU,EAAQ,KACnBA,EAAQC,aAAYD,EAAUA,EAAQ1F,SACnB,iBAAZ0F,IAAsBA,EAAU,CAAC,CAACF,EAAOI,EAAIF,EAAS,MAC7DA,EAAQG,SAAQL,EAAOC,QAAUC,EAAQG,SAG/BC,EADH,EAAQ,KAAkE9F,SACnE,WAAY0F,GAAS,EAAO,CAAC,WAAY,G,mCCT1D,M,sBCCA,IAAIK,EAA8B,EAAQ,KACtCC,EAAkC,EAAQ,KAC1CC,EAAgC,EAAQ,KACxCC,EAA0BH,GAA4B,SAASH,GAAG,OAAOA,EAAE,EAAE,IAC7EO,EAAqCH,EAAgCC,GAEzEC,EAAwBxO,KAAK,CAAC8N,EAAOI,EAAI,qCAAuCO,EAAqC,KAAM,KAE3HD,EAAwBL,OAAS,CAAC,EAClCL,EAAOC,QAAUS,C,suBCLjB,IAAME,EAAgB,ICLqP,EDqB5P,CACbhU,KAAM,cACNiU,OAAQ,CAACC,KACTC,WAAY,CACVC,yBAEFC,iBAAgB,SAACC,EAAIC,EAAMC,GACzB7T,KAAK8T,eACLD,GACF,EACA7S,KAAI,WACF,MAAO,CACLmQ,OAAO,EACP4C,UAAW,EACXC,SAAS,EACT/S,KAAOjB,KAAKkB,OAAOC,OAAOC,GAC1BC,UAAYrB,KAAKkB,OAAOC,OAAOG,cAAe,EAC9CC,UAAYvB,KAAKkB,OAAOC,OAAOI,YAAa,EAC5CC,OAASxB,KAAKkB,OAAOC,OAAOK,SAAU,EACtCyS,UAAW,GACX,KAAQ,cACR,SAAW,EACX,SAAW,EACX,SAAY,EACZ,aAAgB,EAChB,MAAS,EACT,eAAkB,EAClB,QAAU,EACV,eAAkB,EAClB,YAAe,EACf,iBAAoB,EACpB,iBAAoB,EACpB,gBAAmB,EACnBC,oBAAqB,EACrB,gBAAmB,EACnB,iBAAoB,EACpB,aAAgB,EAChB,UAAa,EACb,QAAW,EACX,eAAkB,EAClB,aAAgB,EAChB,kBAAqB,EACrB,wBAA2B,CAAC,EAC5B,SAAY,IACZ,OAAU,EACV,eAAkB,CAAC,EACnB,MAAS,CACPC,SAAU,EACV1T,SAAU,EACV0P,QAAS,GAEXiE,MAAO,CACL5G,MAAM,GAGZ,EACAzL,SAAQC,IAAA,GACHC,YAAW,CACZoS,aAAc,eACdC,mBAAoB,qBACpBC,mBAAoB,wBACpB,IACFC,gBAAe,WACb,OAAOnB,CACT,EACAoB,SAAQ,WACN,OAAOzU,KAAKsU,kBACd,EACAI,UAAS,WACP,OAAI1U,KAAKyU,SACAzU,KAAKyU,SAASC,UAEhB,EACT,EACAC,iBAAgB,WACd,SAAI3U,KAAKsU,qBAAsBM,MAAMC,QAAQ7U,KAAKsU,mBAAmBI,aAC5D1U,KAAKsU,mBAAmBI,UAAUI,QAAO,SAACC,EAAOC,GACtD,OAAO,GAAKA,EAAIvU,UAAY,EAC9B,GAAG,EAGP,EAYA4R,eAAgB,WACd,OAAIrS,KAAKyU,SACAzU,KAAKyU,SAASC,UAAU3O,OAE1B,CACT,EACAkP,mBAAoB,WAClB,OAAIjV,KAAKyU,SACAzU,KAAKyU,SAASC,UAAUQ,QAAO,SAAClK,GAAC,OAAiB,IAAZA,EAAE6F,KAAe,IAAE9K,OAE3D,CACT,EACAuM,gBAAiB,WACf,OAAItS,KAAKmU,SAAW,GAAKnU,KAAKmU,QAAUnU,KAAKqS,eACpCrS,KAAKyU,SAASC,UAAU1U,KAAKmU,SAElCnU,KAAKqS,eAAiB,GACjBrS,KAAKyU,SAASC,UAAU,EAGnC,EACAS,WAAY,WACV,OAAO,IAAIvF,KAAK5P,KAAKoV,kBAAkBC,cAAcC,OAAO,GAAI,EAClE,EACAC,gBAAiB,WACf,IAAkC,IAA9BvV,KAAKsS,gBAAgBkD,KACvB,MAAO,IAET,IAAMC,EAAiC,IAAzBzV,KAAK0V,kBAA4B1V,KAAKoV,iBACpD,MAAO,IAAM,IAAIxF,KAAK6F,GAAMJ,cAAcC,OAAO,GAAI,EACvD,EACAK,uBAAwB,WAEtB,IAAkC,IAA9B3V,KAAKsS,gBAAgBkD,KACvB,MAAO,IAET,IAAMC,EAAQzV,KAAK4V,aAAgB5V,KAAKoV,iBAAmBpV,KAAKkU,qBAChE,OAAIuB,EAAO,EACF,SAEF,IAAM,IAAI7F,KAAK6F,GAAMJ,cAAcC,OAAO,GAAI,EACvD,EACA/C,eAAgB,WAEd,GAAIvS,KAAK6V,MAAMpV,UAAY,EACzB,OAAO,EAET,GAAIT,KAAK6V,MAAM1F,QAAUnQ,KAAKkU,qBAAuB,EACnD,OAAO,EAET,IAAM4B,GAAQ9V,KAAK6V,MAAM1F,QAAUnQ,KAAKkU,qBAAuBlU,KAAK6V,MAAMpV,SAAW,IACrF,OAAIqV,EAAO,IACF,IAEFA,CACT,EAoBAC,sBAAuB,WACrB,IAAMD,EAA+B,IAAvB9V,KAAKgW,eACnB,OAAIF,EAAO,IACF,IAEFA,CACT,EACAG,UAAW,WACT,OAAOjW,KAAK0U,UAAUI,QAAO,SAAUC,EAAO3M,GAC5C,OAAO2M,EAAQ3M,EAAK3H,QACtB,GAAG,GAAMT,KAAKkW,OAAS,GACzB,EACAN,YAAa,WACX,OAAO5V,KAAK0U,UAAUI,QAAO,SAAUC,EAAO3M,GAC5C,OAAO2M,EAAyB,IAAhB3M,EAAK3H,QACvB,GAAG,GAAKT,KAAKkW,MACf,IAEF5F,MAAO,CACL,QAAW,WAAa,IAAD7I,EAAA,KACjBzH,KAAKmU,SAAW,IACGnU,KAAK6V,MAAM1B,UACXnU,KAAKsS,gBAAgB6D,YACxCnW,KAAK6V,MAAM1B,QAAUnU,KAAKsS,gBAAgB6D,UAC1CnW,KAAK6V,MAAM1F,QAAU,EACrBnQ,KAAK6V,MAAMpV,SAAWT,KAAKsU,mBAAmBI,UAAUI,QAAO,SAACC,EAAOC,GACrE,OAAIA,EAAImB,YAAc1O,EAAKoO,MAAM1B,QACxBY,EAAQC,EAAIoB,WAEdrB,CACT,GAAG,IAGT,GAEF/R,QAAOhB,IAAA,GACFiB,YAAW,CACZoT,gBAAiB,kBACjBC,eAAgB,oBAChB,IACFC,gBAAe,SAACC,GACd,IAAIC,EAAS,IAAI7G,KAAK4G,GAAKnB,cAAcC,OAAO,GAAI,GACpD,OAAkC,IAA1BmB,EAAO/T,QAAQ,OAAgB+T,EAAOnB,OAAO,GAAKmB,CAC5D,EACAC,YAAW,SAAChF,GAAW,IAAD/F,EAAA,KACpB,IAAmB,IAAf3L,KAAKmR,MASP,OARAnR,KAAK+T,WAAarC,EAASpC,cACtBoC,EAASvB,QAAUuB,EAASpC,SAAYtP,KAAKwU,iBAGhDxU,KAAK2W,gBAAe,WAClBhL,EAAKiL,MAAMC,cAAclF,KAC3B,KAsBJ,GAlBA3R,KAAKkU,qBAAuBxC,EAASpC,UAQH,IAA9BtP,KAAKsS,gBAAgBkD,MACvBxV,KAAK8W,gBAAkB,IAAOpF,EAAStB,aAAepQ,KAAKsS,gBAAgB7R,SAAW,IACtFT,KAAK+W,iBAAmBrF,EAAStB,aACjCpQ,KAAKgX,YAAehX,KAAKsS,gBAAgB8D,WAAc1E,EAAS1B,oBAEhEhQ,KAAK8W,gBAAkB,IACvB9W,KAAKkW,QAAUxE,EAASpC,WAIS,IAA/BtP,KAAKsS,gBAAgBzB,MAAiB,CAExC7Q,KAAKiX,cAAgBvF,EAASpC,SAC9B,IAAM4H,GAAalX,KAAKoV,iBAAmBpV,KAAKkU,qBAAuBlU,KAAK4V,YAAc,IAC1F5V,KAAKmX,gBAAkBD,EAAW,IAAM,IAAMA,CAChD,EACkC,IAA9BlX,KAAKsS,gBAAgBkD,MAAmB9D,EAASvB,QAAUuB,EAASpC,SAAYtP,KAAKsS,gBAAgB8D,YAGvGpW,KAAK2W,gBAAe,WAClBhL,EAAKiL,MAAMC,cAAclF,KAC3B,GAEJ,EACAyF,YAAW,WAAI,IAADhL,EAAA,KACZpM,KAAK4W,MAAMC,cAAclF,MACzB3R,KAAKC,OAAO,CACVO,QAAS,uBACTJ,QAAS,CAAC,EAAG,GACbK,SAAU,IACV0Q,MAAO,IACPzQ,OAAQ,gBACRC,SAAU,WACRyL,EAAK+E,OAAQ,EACb/E,EAAK1G,WAAU,WACb0G,EAAKiL,mBACP,GACF,GAEJ,EACAC,QAAO,WAELtX,KAAK4W,MAAMC,cAAclF,KAC3B,EACA4F,SAAQ,SAACC,GAAU,IAADC,EAAA,KAChB,IAAmB,IAAfzX,KAAKmR,MAKP,OAJAnR,KAAK+T,WAAayD,EAAQlI,cAC1BtP,KAAK2W,gBAAe,WAClBc,EAAKL,aACP,IAIFpX,KAAK8W,gBAAkB,EACvB9W,KAAKgX,YAAc,EAEnBhX,KAAKoV,kBAAoBpV,KAAKsS,gBAAgB8D,WAC9CpW,KAAK6V,MAAM1F,SAAWnQ,KAAKsS,gBAAgB8D,WAE3CpW,KAAK0X,wBAAwB1X,KAAKmU,UAAW,IAAIvE,MAAO+H,UAAY3X,KAAK0X,wBAAwB1X,KAAKmU,UACpE,IAA9BnU,KAAKsS,gBAAgBkD,OACvBxV,KAAK4X,eAAe5X,KAAKmU,UAAW,IAAIvE,MAAO+H,UAAY3X,KAAK4X,eAAe5X,KAAKmU,UAEtFnQ,QAAQC,IAAI,gCAAgC,IAAI2L,MAAO+H,UAAY,IAAM3X,KAAK0X,wBAAwB1X,KAAKmU,UAC3GnU,KAAK0F,WAAU,WACb+R,EAAKtD,UACLsD,EAAKvD,oBAAsB,GACQ,IAA/BuD,EAAKnF,gBAAgBzB,OACvB4G,EAAKI,cAEPJ,EAAKV,iBAAmBU,EAAKnF,gBAAgB7R,SAC7CkH,YAAIhI,SAASiI,iBAAiB,WAAWO,SAAQ,SAACC,GAChDA,EAAKvI,UAAUkB,OAAO,QACxB,IACI0W,EAAKtD,QAAUsD,EAAKpF,eACtBd,uBAAsB,WACpBkG,EAAKK,gBACP,KAEAL,EAAKzB,eAAiB,EACtByB,EAAKM,QAAS,EACdN,EAAKnT,iBAET,GACF,EACA0T,QAAO,WACLhY,KAAKiY,MAAM,QAAS,QAAS,CAC3B,YAAe,gBACf,eAAkB,YAClB,iBAAmB,IAErBjY,KAAK+J,WAAWC,SAAS,gBAAiB,CACxC,GAAMhK,KAAKsU,mBAAmBlT,GAC9B,KAAQpB,KAAKsU,mBAAmBnO,MAChC,WAAcnG,KAAKsU,mBAAmB4D,YAAc,KACpD,KAAQlY,KAAKsU,mBAAmBvH,OAElC/M,KAAKiU,UAAUnN,KAAI,SAACwI,GAClB,IACE6I,aAAa7I,EACf,CAAE,MAAOtE,GACT,CACF,IAEAhL,KAAK4W,MAAMC,cAAchF,QACrBlS,SAASC,cAAc,YACzBD,SAASC,cAAc,WAAWC,UAAUkT,IAAI,QAElD/S,KAAK+D,kBACP,EACAyO,YAAW,SAAC5O,GACV,OAAc,IAAVA,EACK,0BAIF,oBADQ,IAAO5D,KAAKqS,eAAmBzO,EACR,OACxC,EACAwU,WAAU,WACRpY,KAAKqY,YAAYC,WAAaC,EAAQ,IACxC,EACAC,SAAQ,WAEFxY,KAAKoU,MAAM5G,KACbxN,KAAKyY,aAIPzY,KAAKiU,UAAUnN,KAAI,SAACwI,GAClB,IACE6I,aAAa7I,EACf,CAAE,MAAOtE,GACT,CACF,IACAhL,KAAK4W,MAAMC,cAAchF,QACzB7R,KAAKkE,QAAQwU,OACb1Y,KAAKiY,MAAM,QAAS,QAAS,CAC3B,YAAe,gBACf,eAAkB,YAClB,iBAAmB,IAEvB,EACAU,SAAQ,WACN3Y,KAAKqK,MAAMC,MAAM,YAAa,CAAC,MAAQ,IACvC,IAAIsO,EAAS5Y,KAAKwE,cACfoU,EAAO7S,OAAO,IACf6S,EAAS,IAAMA,GAEjB5Y,KAAKkE,QAAQS,KAAKrC,MAAM8B,WAAW,iBAAmBpE,KAAKiB,KAAO2X,GACpE,EACAtU,eAAc,WAAI,IAADuU,EAAA,KACf7Y,KAAK8Y,SAAU,IAAIlJ,MAAO+H,UAC1B3X,KAAKC,OAAOc,OAAO,gBACfpB,SAASC,cAAc,oBACzBD,SAASC,cAAc,mBAAmBC,UAAUkB,OAAO,aAE7Df,KAAK0F,WAAU,WACb,IAAMqT,EAAiBnS,OAAOoS,OAAO,CACnCxY,QAAS,eACTyY,MAAM,EACNvY,OAAQ,gBACRD,SAAU,IACVyY,MAAO,WACDvZ,SAASC,cAAc,oBACzBD,SAASC,cAAc,mBAAmBC,UAAUkT,IAAI,YAE5D,EACApS,SAAU,WACJhB,SAASC,cAAc,oBACzBD,SAASC,cAAc,mBAAmBC,UAAUkB,OAAO,YAE/D,GACC8X,EAAKM,iBAAiBC,OACzBP,EAAK5Y,OAAO8Y,EACd,IAEAnS,OAAO0F,KAAKtM,KAAK0X,yBAAyB5Q,KAAI,SAAChD,GAC7C+U,EAAKnB,wBAAwB5T,GAAK+U,EAAKnB,wBAAwB5T,GAAK,EAAI+U,EAAKnB,wBAAwB5T,GAAK,IAAO,CACnH,IACA,IAAIuV,EAAgB,EAEpBzS,OAAO0F,KAAKtM,KAAK0X,yBAAyB5Q,KAAI,SAAChD,GAC7C+U,EAAKnB,wBAAwB5T,GAAK+U,EAAKnB,wBAAwB5T,GAAK,EAAI+U,EAAKnB,wBAAwB5T,GAAK,IAAO,CACnH,IACA8C,OAAO0F,KAAKtM,KAAK4X,gBAAgB9Q,KAAI,SAAChD,GACpCuV,GAAiB,EACGR,EAAKjB,eAAe9T,GAAK,EAAI+U,EAAKjB,eAAe9T,GAAK,IAAO,CACnF,IACA,IAAIwV,EAAgB,CAClBC,eAAgBvZ,KAAKwZ,UAAY,IACjCC,aAAczZ,KAAK8Y,QAAU,IAC7BY,UAAW1Z,KAAK2Z,aAAe,EAAI3Z,KAAK2Z,aAAe,IAAO,EAC9DC,uBAAwB5Z,KAAK8Y,QAAU9Y,KAAKwZ,WAAa,IACzD9D,kBAAmB1V,KAAK0V,kBAExBmE,aAAc7Z,KAAK0X,wBACnBoC,cAAe9Z,KAAKkW,OAAS,EAAIlW,KAAKkW,OAAS,IAAO,EACtD6D,gBAAiB/Z,KAAKkW,OAAS,EAAIlW,KAAKkW,OAASmD,EAAiB,IAAO,GAGrEW,EAAmBC,aAAY,WACnCpB,EAAK7C,gBAAkB,EACzB,GAAGkE,KACHla,KAAKiU,UAAUtP,KAAKqE,YAAW,WAC7BmR,cAAcH,GACdnB,EAAKuB,WAAW,KAAMd,EACxB,GAPmB,KASrB,EACAc,WAAU,SAACC,EAAMC,GAAkB,IAADC,EAAA,KAChCva,KAAKgW,eAAiB,EAEtBhW,KAAK8C,SAAU,EACf,IAAM0X,EAAQ,IAAI5K,KAEd6K,GADYza,KAAK0a,MAAMC,KAAQ3a,KAAK0a,MAAMC,KAAKC,KAAO5a,KAAK0a,MAAMC,KAAKE,OAAUL,EAAMM,mBAC7E,GACb9a,KAAK+a,iBAAiBC,iBACpBhb,KAAKsU,oBACL,SAAC5C,GACC6I,EAAKvE,eAAkBtE,EAASuJ,OAASvJ,EAASwJ,MAAS,GAC7D,GACA,KACAZ,GACA3P,MAAK,SAACC,GACN2P,EAAKvE,eAAiB,EAEpByE,KADE7P,EAAE6J,UAAY7J,EAAEuQ,UAAYvQ,EAAE6J,SAAS2G,YAGhC9Y,MAAM4D,GAAG,6BAEpBlC,QAAQC,IAAI,oBAAqB2G,EACnC,IAAGG,OAAM,SAACC,GACRhH,QAAQ4F,MAAM,0CAA2CoB,GACzDuP,EAAKc,kBAAkBrQ,GACvByP,EAASnY,MAAM4D,GAAG,uBAClBqU,EAAKxQ,WAAWC,SAAS,QAAS,CAChC,MAAS,wBAEb,IAAGzF,SAAQ,YACM,IAAXkW,GACEF,EAAKhG,oBACPgG,EAAKlE,gBAAgB,GAEvBkE,EAAK5B,YAGL4B,EAAKlQ,MAAMC,MAAM,YAAa,CAC5BE,UAAU,EACVrE,MAAO7D,MAAM4D,GAAG,sBAChB0D,MAAO6Q,EACPhQ,MAAO,WAEL,OADA8P,EAAKe,kBACE,CACT,EACAxR,WAAY,WAEV,OADA9J,KAAK+D,oBACE,CACT,GAGN,GACF,EACA0U,UAAS,WACPzY,KAAKoU,MAAM5G,MAAO,EAClBxN,KAAK4W,MAAMC,cAAc9F,QACzB,IAAMwK,GAAc,IAAI3L,MAAO+H,UAAY3X,KAAKwb,eAChDxb,KAAK2Z,cAAgB4B,EACrBvX,QAAQC,IAAI,kCAAmCjE,KAAK2Z,aACtD,EACA8B,eAAc,WAMd,EACA3D,eAAc,WAAI,IAAD4D,EAAA,KAcf,GAZA1b,KAAKC,OAAOc,OAAO,gBACfpB,SAASC,cAAc,oBACzBD,SAASC,cAAc,mBAAmBC,UAAUkB,OAAO,aAE7D4G,YAAIhI,SAASiI,iBAAiB,WAAWO,SAAQ,SAACC,GAChDA,EAAKvI,UAAUkB,OAAO,QACxB,IACAf,KAAK0X,wBAAwB1X,KAAKmU,UAAW,IAAIvE,MAAO+H,UACpD3X,KAAKsS,gBAAgBkD,OACvBxV,KAAKiX,aAAe,EACpBjX,KAAK4X,eAAe5X,KAAKmU,UAAW,IAAIvE,MAAO+H,WAE7C3X,KAAKmU,SAAW,EAAG,CACrBnU,KAAK0V,mBAAsB1V,KAAKsS,gBAAgBkD,KAAO,EAAIxV,KAAKsS,gBAAgB7R,SAEhFT,KAAK4W,MAAMC,cAAc/F,UAEzB,IAAMiI,EAAiBnS,OAAOoS,OAAO,CACnCxY,QAAS,eACTyY,KAAOjZ,KAAKsS,gBAAgBkD,KAC5B9U,OAAQ,cACRD,SAAUT,KAAKsS,gBAAgBkD,KAAO,IAASxV,KAAKsS,gBAAgB8D,WAAc,GAClF8C,MAAO,WACDvZ,SAASC,cAAc,oBACzBD,SAASC,cAAc,mBAAmBC,UAAUkT,IAAI,YAE5D,EACApS,SAAU,WACJhB,SAASC,cAAc,oBACzBD,SAASC,cAAc,mBAAmBC,UAAUkB,OAAO,YAE/D,GACCf,KAAKsS,gBAAgBqJ,YAGW,IAA/B3b,KAAKsS,gBAAgBzB,OACvBU,uBAAsB,WACpBmK,EAAKzb,OAAO8Y,EACd,GAEJ,CACF,EACA6C,WAAU,WAAI,IAADC,EAAA,KACX7b,KAAKiU,UAAUtP,KAAKqE,YAAW,WAC7B6S,EAAKC,SACe,IAAhBD,EAAK9D,QACP8D,EAAKD,YAET,GAAG,KACL,EAEAN,eAAc,WAAI,IAADS,EAAA,KACf/b,KAAK+J,WAAWC,SAAS,2BAA4B,CACnD,GAAMhK,KAAKsU,mBAAmBlT,GAC9B,KAAQpB,KAAKsU,mBAAmBnO,MAChC,WAAcnG,KAAKsU,mBAAmB4D,YAAc,KACpD,KAAQlY,KAAKsU,mBAAmBvH,OAElC/M,KAAK+a,iBAAiBiB,cAAchc,KAAKsU,oBACzCtU,KAAK+J,WAAWkS,cAAcjc,KAAKsU,mBAAmBnO,MAAQ,IAAMnG,KAAKsU,mBAAmBvH,KAAO,SACnG/M,KAAKiY,MAAM,QAAS,QAAS,CAC3B,YAAe,iBACf,eAAkB,YAClB,iBAAmB,IAGrBjY,KAAKmR,OAAQ,EACbnR,KAAK+T,UAAYV,EACjBrT,KAAKmU,QAAU,EACfnU,KAAK6X,YAAc,EACnB7X,KAAKmX,gBAAkB,EACvBnX,KAAKkW,OAAS,EACdlW,KAAKkU,oBAAsB,EAC3BlU,KAAKkc,iBAAmBlc,KAAK4V,YAC7B5V,KAAK+X,QAAS,EACd/X,KAAK6V,MAAM1B,QAAU,EACrBnU,KAAK6V,MAAMpV,SAAW,EACtBT,KAAK6V,MAAM1F,QAAU,EACrBnQ,KAAKyD,KAAKzD,KAAM,0BAA2B,CAAC,GAC5CA,KAAKoV,iBAAmB,EACxBpV,KAAKmU,QAAU,EACfnU,KAAK6X,YAAc,EAEnBlQ,YAAIhI,SAASiI,iBAAiB,WAAWO,SAAQ,SAACC,GAChDA,EAAKvI,UAAUkB,OAAO,QACxB,IACAf,KAAK2W,gBAAe,WAClBoF,EAAKnF,MAAMC,cAAc/F,SAC3B,GAEF,EACAuG,kBAAiB,WACfrX,KAAKmc,UACP,EACAA,SAAQ,WAENnc,KAAKsC,MAAMO,SAASkV,SACpB/X,KAAKwZ,UAAY,EACjBxZ,KAAK8Y,QAAU,EACf9Y,KAAK0V,kBAAoB,EACzB1V,KAAKwb,eAAiB,EACtBxb,KAAK2Z,aAAe,EACpB3Z,KAAKkW,OAAS,EAEdlW,KAAKgX,YAAc,EACnBhX,KAAKwZ,WAAY,IAAI5J,MAAO+H,UAC5BhQ,YAAIhI,SAASiI,iBAAiB,WAAWO,SAAQ,SAACC,GAChDA,EAAKvI,UAAUkB,OAAO,QACxB,IACAiD,QAAQC,IAAI,mBAAmB,IAAI2L,MAAO+H,UAAY,IAAM3X,KAAK0V,mBACjE1V,KAAK8X,gBACP,IAEF3L,QAAO,WAAI,IAADiQ,EAAA,KACRpc,KAAK+T,UAAYV,EACjBrT,KAAKmR,OAAQ,EACRnR,KAAKyU,UACRzU,KAAKkE,QAAQC,QAAQ7B,MAAM8B,WAAW,iBAAmBpE,KAAKiB,OAEhEjB,KAAKsP,SAAW,IAGhBtP,KAAK8b,MAAQ,EACb9b,KAAKqK,MAAMC,MAAM,YAAa,CAAC,MAAQ,IACvC,IAAI+R,EAAO1U,YAAIhI,SAASiI,iBAAiB,gBAAgBkN,QAAO,SAACC,EAAO3M,GAEtE,OAAO9C,KAAKC,IAAIwP,EAAOzP,KAAKC,IAAI6C,EAAKyE,aAAczE,EAAKwE,aAAcxE,EAAKkU,cAC7E,GAAG,GACC3c,SAASC,cAAc,oBACzBD,SAASC,cAAc,kBAAkB8M,MAAMzH,OAASoX,EAAO,MAEjErc,KAAKgU,SAAU,EACfhU,KAAK0F,WAAU,WACb0W,EAAK/R,MAAMC,MAAM,cAAe8R,EAAKlW,GAAG,iBACxCkW,EAAKd,gBACP,GAEF,G,iBEppBE3N,EAAY,YACd,GFTW,WAAkB,IAAIC,EAAI,KAAKC,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,gBAAgB,CAACW,YAAY,sCAAsCT,MAAM,CAAC,YAAa,GAAMK,YAAYR,EAAIS,GAAG,CAAC,CAACxC,IAAI,SAASyC,GAAG,WAAW,MAAO,CAACT,EAAG,QAAQ,CAACW,YAAY,aAAaT,MAAM,CAAC,gBAAgB,SAAS,QAAU,kBAAkB,CAACF,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,IAAIe,GAAG,CAAC,MAAQlB,EAAIoK,UAAU,CAACnK,EAAG,SAAS,CAACD,EAAIa,GAAG,+BAA+B,GAAGb,EAAIa,GAAG,KAAMb,EAAI0G,mBAAoBzG,EAAG,MAAM,CAACW,YAAY,mBAAmB,CAACX,EAAG,OAAO,CAACc,SAAS,CAAC,UAAYf,EAAIgB,GAAGhB,EAAI0G,mBAAmBnO,YAAYyH,EAAIc,KAAKd,EAAIa,GAAG,KAAKZ,EAAG,QAAQ,CAAC0O,YAAY,CAAC,QAAU,KAAKxO,MAAM,CAAC,KAAO,IAAIe,GAAG,CAAC,MAAQlB,EAAI6N,iBAAiB,CAAC5N,EAAG,SAAS,CAACD,EAAIa,GAAG,8BAA8B,IAAI,GAAGb,EAAIa,GAAG,KAAOb,EAAImK,SAAoB,IAAZnK,EAAIuD,MAAiMvD,EAAIc,KAAtLb,EAAG,MAAM,CAACW,YAAY,gCAAgC,CAAEZ,EAAI0E,gBAAgBkK,MAAO3O,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAMH,EAAI0E,gBAAgBkK,MAAM,MAAQ,OAAO,QAAU,MAAM5O,EAAIc,MAAM,GAAYd,EAAIa,GAAG,KAAMb,EAAIoG,QAASnG,EAAG,MAAM,CAACW,YAAY,0BAA0BZ,EAAI6O,GAAI7O,EAAI8G,WAAW,SAASgI,GAAI,OAAO7O,EAAG,MAAM,CAACW,YAAY,0BAA0B,CAACX,EAAG,OAAO,CAACD,EAAIa,GAAGb,EAAIgB,GAAG8N,EAAGvW,UAAUyH,EAAIa,GAAG,KAAKZ,EAAG,IAAI,CAACW,YAAY,mBAAmB,CAACZ,EAAIa,GAAGb,EAAIgB,GAAG8N,EAAGvP,iBAAiB,IAAG,GAAGS,EAAIc,KAAK,EAAEG,OAAM,GAAM,CAAChD,IAAI,OAAOyC,GAAG,WAAW,MAAO,EAA8B,IAA5BV,EAAI0E,gBAAgBzB,MAAehD,EAAG,MAAM,CAACU,MAAM,CAAC,sCAAsCX,EAAI0G,mBAAmBvH,OAAO,CAAEa,EAAIuD,MAAOtD,EAAG,MAAM,CAAChC,IAAI+B,EAAImG,UAAUvF,YAAY,uBAAuB,CAACX,EAAG,MAAM,CAACW,YAAY,qBAAqB,CAACX,EAAG,IAAI,CAACc,SAAS,CAAC,UAAYf,EAAIgB,GAAGhB,EAAI1H,GAAG,6BAA6B0H,EAAIa,GAAG,KAAKZ,EAAG,IAAI,CAACW,YAAY,kBAAkB,CAACZ,EAAIa,GAAGb,EAAIgB,GAAGtJ,KAAKqX,KAAK/O,EAAImG,UAAY,aAAcnG,EAAIc,KAAKd,EAAIa,GAAG,MAAOb,EAAImK,QAAQnK,EAAI0E,mBAA8B,IAAZ1E,EAAIuD,MAAetD,EAAG,4BAA4B,CAAChC,IAAI+B,EAAIuD,MAAM5C,MAAMX,EAAI0E,gBAAgBsK,cAAc,KAAKhP,EAAImK,OAAO,WAAW,IAAM,KAAKnK,EAAI0E,gBAAgBkD,KAAK,SAAS,IAAIzH,MAAM,CAAC,cAAiBH,EAAImK,OAAO,EAAEnK,EAAI0G,mBAAmBuI,OAAQ,aAAe,EAAE,WAAa,EAAE,UAAY,WAAW,eAAkBjP,EAAImK,OAAOnK,EAAImI,sBAAsBnI,EAAI2E,gBAAiBnE,YAAYR,EAAIS,GAAG,CAAC,CAACxC,IAAI,SAASyC,GAAG,WAAW,MAAO,CAAGV,EAAImK,OAA8CnK,EAAIc,KAA1Cb,EAAG,MAAM,CAACW,YAAY,gBAAyBZ,EAAIa,GAAG,KAAMb,EAAI0E,gBAAiBzE,EAAG,MAAM,CAACW,YAAY,UAAU,CAACX,EAAG,aAAa,CAACE,MAAM,CAAC,KAAO,SAAS,KAAO,YAAY,CAAGH,EAAImK,OAA8HlK,EAAG,MAAM,CAACc,SAAS,CAAC,UAAYf,EAAIgB,GAAGhB,EAAI1H,GAAG,8BAApK2H,EAAG,MAAM,CAAChC,IAAI+B,EAAIuG,SAAS,CAACvG,EAAIa,GAAG,qBAAqBb,EAAIgB,GAAGhB,EAAI0E,gBAAgBnM,OAAS,IAAI,yBAAqG,GAAGyH,EAAIc,KAAK,EAAEG,OAAM,IAAO,MAAK,EAAM,WAAWb,MAAM,CAACjC,MAAO6B,EAAIuG,QAASlG,SAAS,SAAUC,GAAMN,EAAIuG,QAAQjG,CAAG,EAAEC,WAAW,aAAaP,EAAIc,KAAKd,EAAIa,GAAG,MAAkB,IAAZb,EAAIuD,MAAetD,EAAG,MAAM,CAACU,MAAM,CAAC,6BAA6BX,EAAImK,OAAO,QAAQ,KAAK,CAAClK,EAAG,oBAAoB,CAACnB,OAAmC,IAA3BkB,EAAI0E,gBAAgBkD,KAAY,aAAa,GAAKxH,MAAM,CAACjC,MAAO6B,EAAIuJ,gBAAiBlJ,SAAS,SAAUC,GAAMN,EAAIuJ,gBAAgBjJ,CAAG,EAAEC,WAAW,qBAAqBP,EAAIa,GAAG,KAAKZ,EAAG,aAAa,CAACE,MAAM,CAAC,KAAO,SAAS,KAAO,YAAY,EAA6B,IAA3BH,EAAI0E,gBAAgBkD,KAAa3H,EAAG,QAAQ,CAAChC,IAAI+B,EAAI0E,gBAAgBkD,MAAM,CAAE5H,EAAI0G,mBAAmBuI,OAAO,EAAG,CAACjP,EAAIa,GAAGb,EAAIgB,GAAGhB,EAAI0E,gBAAgB6D,WAAW,OAAOvI,EAAIgB,GAAGhB,EAAI0G,mBAAmBuI,QAAQ,sBAAsBjP,EAAIc,KAAKd,EAAIa,GAAG,iBAAiBb,EAAIgB,GAAGhB,EAAI+H,wBAAwB,iBAAiB,GAAG9H,EAAG,QAAQ,CAAChC,IAAI+B,EAAI0E,gBAAgBkD,MAAM,CAAC5H,EAAIa,GAAG,iBAAiBb,EAAIgB,GAAGhB,EAAI2I,gBAAgB3I,EAAIqJ,eAAe,qBAAqB,GAAGrJ,EAAIc,MAAM,GAAGb,EAAG,MAAM,CAACU,MAAM,CAAC,8BAA+BX,EAAImJ,iBAAkB,GAAM,EAAE,MAAM,SAAU,CAAClJ,EAAG,QAAQ,CAACc,SAAS,CAAC,UAAYf,EAAIgB,GAAGhB,EAAI1H,GAAG,0BAA0B0H,EAAIa,GAAG,WAAWb,EAAIgB,GAAGhB,EAAImJ,kBAAkB,YAAYnJ,EAAIa,GAAG,KAAKZ,EAAG,aAAa,CAACE,MAAM,CAAC,KAAO,SAAS,EAA6B,IAA3BH,EAAI0E,gBAAgBkD,OAAyC,IAA5B5H,EAAI0E,gBAAgBzB,MAAehD,EAAG,MAAM,CAACW,YAAY,iBAAiB,CAACX,EAAG,IAAI,CAACD,EAAIa,GAAGb,EAAIgB,GAAGhB,EAAI1H,GAAG,wCAAwC0H,EAAIa,GAAG,KAAKZ,EAAG,QAAQ,CAACW,YAAY,SAASM,GAAG,CAAC,MAAQlB,EAAI0J,UAAU,CAACzJ,EAAG,SAAS,CAACD,EAAIa,GAAG,gBAAgBb,EAAIa,GAAG,IAAIb,EAAIgB,GAAGhB,EAAI1H,GAAG,oCAAoC,eAAe,IAAI,GAAG0H,EAAIc,OAAOd,EAAIa,GAAG,KAAKZ,EAAG,IAAI,CAAC0O,YAAY,CAAC,QAAU,QAAQxO,MAAM,CAAC,KAAO,IAAI,GAAK,eAAe,CAACH,EAAIa,GAAG,oBAAoBb,EAAIa,GAAG,KAAKZ,EAAG,gBAAgB,CAACiP,IAAI,gBAAgB/O,MAAM,CAAC,aAA0B,IAAZH,EAAIuD,MAAavD,EAAI4G,gBAAkB5G,EAAI0E,gBAAgBkD,KAAQ,MAAc5H,EAAI0E,gBAAgB8D,WAAa,SAAWxI,EAAI0B,UAAUR,GAAG,CAAC,SAAWlB,EAAI8I,YAAY,IAAM9I,EAAI2J,YAAY3J,EAAIa,GAAG,KAAMb,EAAI0G,mBAAoBzG,EAAG,aAAa,CAACE,MAAM,CAAC,KAAOH,EAAIwG,MAAM5G,KAAK,eAAiB,cAAc,MAAQI,EAAI0G,mBAAmBnO,MAAM,YAAcyH,EAAI0G,mBAAmBF,OAAO,GAAG,UAAYxG,EAAI0G,mBAAmByI,YAAYnP,EAAI0G,mBAAmB0I,WAAWlO,GAAG,CAAC,MAAQlB,EAAI6K,WAAWrK,YAAYR,EAAIS,GAAG,CAAC,CAACxC,IAAI,WAAWyC,GAAG,WAAW,MAAO,CAACV,EAAIa,GAAGb,EAAIgB,GAAGhB,EAAI1H,GAAG,qBAAqB,EAAE2I,OAAM,IAAO,MAAK,EAAM,cAAcjB,EAAIc,KAAK,EAAEG,OAAM,MACthK,GACsB,IEUpB,EACA,KACA,KACA,MAIa,UAAAlB,EAAiB,QAGhCqB,kBAAkBrB,EAAW,CAACsP,0BAA2B,EAAQ,KAA6HhQ,QAAQiQ,WAAY,EAAQ,KAA8GjQ,QAAQgC,aAAc,EAAQ,KAAiHhC,S","file":"727af4d.js","sourcesContent":["import {mapGetters, mapActions} from 'vuex'\n\nexport default {\n  name: 'basePage',\n  transition: {\n    name: 'slide',\n    mode: 'out-in',\n    css: false,\n    beforeEnter(el) {\n      if (document.querySelector('#__nuxt').classList.contains('quit')) {\n        return\n      }\n      const startPoint = document.querySelector('#__nuxt').classList.contains('back') ? '-100%' : '100%';\n      this.$anime.set(el, {\n        scale: 1,\n        opacity: 0,\n        translateX: startPoint\n      })\n    },\n    enter(el, done) {\n      const startPoint = document.querySelector('#__nuxt').classList.contains('back') ? '-100%' : '100%';\n      this.$anime({\n        targets: el,\n        opacity: [0, 1],\n        translateX: [startPoint, \"0\"],\n        duration: 500,\n        easing: 'easeInOutSine',\n        complete: done\n      })\n    },\n    leave(el, done) {\n      if (document.querySelector('#__nuxt').classList.contains('quit')) {\n        this.$anime({\n          targets: el,\n          /*opacity: [1, 0],*/\n          translateY: [0, '100%'],\n          duration: 500,\n          easing: 'easeInOutSine',\n          complete: done\n        });\n        return\n      }\n      const startPoint = document.querySelector('#__nuxt').classList.contains('back') ? '100%' : '-100%';\n      this.$anime({\n        targets: el,\n        opacity: [1, 0],\n        translateX: [\"0\", startPoint],\n        duration: 500,\n        easing: 'easeInOutSine',\n        complete: done\n      });\n    },\n    afterLeave(el) {\n      document.querySelector('#__nuxt').classList.remove('quit');\n      document.querySelector('#__nuxt').classList.remove('back');\n    }\n  },\n  data() {\n    return {\n      \"name\": \"basePage\",\n      exid: (this.$route.params.id),\n      programid: (this.$route.params.fromprogram || false),\n      withindex: (this.$route.params.withindex || -1),\n      backto: (this.$route.params.backto || false),\n      hasBack: false,\n      hasNext: false,\n      hasInfo: false,\n      currentTutorial: false,\n      tutorialList: [],\n      tutorialShownHard: false\n    }\n  },\n  computed: {\n    ...mapGetters({\n      getCurrentPagerHeight: 'getCurrentPagerHeight',\n      getTutorialShown: \"getTutorialShown\",\n      getLocalTutorialShown: \"getLocalTutorialShown\",\n    }),\n    isVoicemed() {\n      return $nuxt.$config.env.environment.indexOf('voicemed_')>-1\n    },\n    isAirlyn() {\n      return $nuxt.$config.env.environment.indexOf('voicemed_')<0\n    },\n    nuxtloading() {\n      return $nuxt.$loading.loading\n    },\n    defaultHomeUrl() {\n      //We know that we can customize the opening url:\n      return \"/user/today\";\n      if(this.isAirlyn) {\n        return \"/user/today\";\n      }\n      if(this.isVoicemed) {\n        return \"/home\";\n      }\n    }\n  },\n  methods: {\n    ...mapActions({\n      setCurrentPage: 'setCurrentPage',\n      setCurrentPagerHeight: 'setCurrentPagerHeight',\n      setTutorialRunPerPage: 'setTutorialRunPerPage',\n      setTutorialRun: 'setTutorialRun'\n    }),\n    setTutorialRunLocal() {\n      this.setPreferenceTutorial();\n    },\n\n\n    tutorialClose() {\n      this.$set(this, \"tutorialList\", []);\n      this.setTutorialRunLocal();\n      this.currentTutorial = null;\n    },\n    tutorialHasNext() {\n      const _index = this.currentTutorial.index;\n      const _next = this.tutorialList.find((v) => v.index === _index + 1);\n      if (_next) {\n        return true;\n      }\n      return false\n    },\n    exerciseStepBack() {\n      console.log('exit test', this.backto, this.programid)\n      if(this.backto == \"standalone\") {\n        $nuxt.$airlyn.finishExercise({\"reason\":'user-cancelled',\"result\":{}}).finally(()=>{\n          console.log('exercise finished by user')\n        });\n        return\n      }\n      if (this.backto == 'today') {\n        $nuxt.$router.replace($nuxt.localePath(\"/user/today\"));\n        return\n      }\n      if (this.backto == 'discovery') {\n        $nuxt.$router.replace($nuxt.localePath(\"/home\"));\n        return\n      }\n      if (this.programid) {\n        if (this.programid == \"-1\" || this.programid == -1 || this.programid == \"false\" || this.programid == false) {\n          $nuxt.$router.replace($nuxt.localePath(\"/user/today\"));\n        } else {\n          $nuxt.$router.replace($nuxt.localePath(\"/ml/programs/\" + this.programid));\n        }\n        return\n      }\n\n      $nuxt.$router.replace($nuxt.localePath(\"/user/today\"));\n    },\n    buildSuffix() {\n      let suffixes = [];\n      const programCheck = this.programid ? this.programid : false;\n      suffixes.push(programCheck!=='-1'?programCheck:false);\n      suffixes.push(this.withindex ? this.withindex : \"-1\")\n      suffixes.push(this.backto ? this.backto : false)\n      return suffixes.join(\"/\")\n    },\n    tutorialNext() {\n      let _index = this.currentTutorial ? this.currentTutorial.index : 0;\n      if (this.currentTutorial) {\n        this.currentTutorial.visible = false;\n        this.setTutorialRunLocal();\n        //this.setTutorialRun({\"page\":this.name,\"index\":this.currentTutorial.index})\n      } else {\n        _index = this.tutorialList[0].index - 1;\n      }\n      const _next = this.tutorialList.find((v) => v.index === _index + 1);\n      if (_next) {\n        //const position = _next.itemRef.getBoundingClientRect()\n        //_next.position = position;\n        this.currentTutorial = _next;\n        const dialogHeight = 200;\n        const dialogOffset = 10;\n        //Ottieni posizione minima di scroll top\n        const itemHeight = dialogHeight + dialogOffset + _next.position.height;\n\n        let scrollTop = _next.position.top > this.appHeight / 2 ?\n          _next.position.top - (dialogHeight + dialogOffset) :\n          _next.position.top - dialogOffset;\n        if (_next.arrowTop) {\n          scrollTop = _next.position.top - (_next.position.height + dialogOffset);\n        }\n        scrollTop = Math.max(0, scrollTop); //Evita che sia inferiore a zero\n        //Verifica se l'elemento da selezionare sta dentro lo scroll:\n        console.warn(\"Nuovo scroll Top:\", scrollTop, this.appHeight, this.footerHeight, _next.position.height)\n        this.$nextTick(() => {\n          document.querySelector(\".indexPage\").scrollTo({\n            top: scrollTop,\n            left: 0,\n            behavior: 'smooth'\n          });\n        })\n        _next.visible = true\n\n      } else {\n        //Close tutorial...\n        this.tutorialClose()\n      }\n    },\n    getTutorialIndex() {\n      if (this.currentTutorial) {\n        if (this.currentTutorial.index > this.tutorialList.length) {\n          return this.tutorialList.length\n        }\n        return this.currentTutorial.index\n      }\n      return \"\"\n    },\n    getTutorialText(tutorial) {\n      return this.$t('tutorials.' + this.name + '.text_' + tutorial.index, {\"title\": tutorial.title})\n    },\n    getTutorialDialogStyle(tutorial) {\n      const _rule = {};\n      const position = tutorial.position; //.itemRef.getBoundingClientRect()\n      let topPosition = position.top;\n      if (this.$capacitor && this.$capacitor.isNativePlatform() && tutorial.updated == false) {\n//        tutorial.position = tutorial.itemRef.getBoundingClientRect();\n        topPosition = position.top; // - document.querySelector(\".indexPage\").scrollTop;\n        tutorial.updated = true;\n        console.warn('apply tutorial offset for mobile phones')\n      }\n      if ((topPosition) > 300) {\n        _rule.top = (topPosition - 200) + \"px\";\n      } else {\n        _rule.top = (topPosition + position.height + 10) + \"px\";\n      }\n      console.warn('DialogStyle for tutorial', tutorial, _rule)\n\n      if (tutorial.width !== 'fill') {\n        _rule.left = \"calc(\" + position.left + \"px - 75vw + \" + position.width + \"px )\";\n      } else {\n        _rule.left = \"0px\";\n        _rule.right = \"0px\";\n      }\n      return Object.entries(_rule).map(([k, v]) => `${k}:${v}`).join(';')\n    },\n    getTutorialStyle(tutorial) {\n      const _rule = {};\n      const position = tutorial.position; //itemRef.getBoundingClientRect()\n      const baseOffset = 8;\n      let topPosition = position.top;\n      if (this.$capacitor && this.$capacitor.isNativePlatform() && tutorial.updated == false) {\n//        tutorial.position = tutorial.itemRef.getBoundingClientRect();\n        topPosition = position.top; // - document.querySelector(\".indexPage\").scrollTop;\n        tutorial.updated = true;\n      }\n      console.warn('Style for tutorial', tutorial, topPosition)\n      if (tutorial.width === 'fill') {\n        _rule.top = (topPosition - (baseOffset / 2)) + \"px\";\n        _rule.left = \"0px\";\n        _rule.right = \"0px\";\n        _rule.height = (position.height + baseOffset) + \"px\";\n      } else {\n        _rule.top = (topPosition - (baseOffset / 2)) + \"px\";\n        _rule.left = (position.left - (baseOffset / 2)) + \"px\";\n        _rule.right = \"0px\";\n        _rule.height = (position.height + baseOffset) + \"px\";\n        _rule.width = (position.width + baseOffset) + \"px\";\n      }\n\n      return Object.entries(_rule).map(([k, v]) => `${k}:${v}`).join(';')\n    },\n    initTutorial() {\n      const _tutorialCards = [...document.querySelectorAll('.hastutorial')];\n      //Se tutorial mai mostrator\n      let _checkRun = false;\n      if (this.$capacitor && this.$capacitor.isNativePlatform()) {\n        _checkRun = this.tutorialShownHard; //Forza il valore in fase di init.\n      } else {\n        this.tutorialShownHard =this.$nuxt.$store.getters.getTutorialRun(this.name);\n        _checkRun = this.$nuxt.$store.getters.getTutorialRunPerPage(this.name);\n      }\n      if (typeof this.getTutorialShown[this.name] !== 'undefined' || _checkRun || this.tutorialShownHard) {\n        console.warn(\"hide tutorial, not needed at this round\");\n        return;\n      }\n      this.$set(this, 'tutorialList', []);\n      if (_tutorialCards.length > 0) {\n        document.querySelector(\".indexPage\").scrollTo({\n          top: 0,\n          left: 0,\n          behavior: 'smooth'\n        });\n        const localTutorials = this.getLocalTutorialShown;\n        console.warn(\"got local tutorials\", localTutorials)\n        _tutorialCards.forEach((item) => {\n          const indexTutorial = parseInt(item.dataset.tutorialindex)\n          if (typeof localTutorials[this.name + \"_\" + indexTutorial] === 'undefined') {\n            const position = item.getBoundingClientRect();\n            this.tutorialList.push({\n              \"position\": position,\n              'visible': false,\n              'itemRef': item,\n              'updated': false,\n              'arrowTop': item.dataset.tutorialarrow == \"top\",\n              \"title\": item.dataset.tutorial,\n              \"width\": item.dataset.tutorialwidth,\n              \"index\": indexTutorial\n            })\n          }\n        })\n        window.tutorialList = this.tutorialList;\n      }\n\n      if (this.tutorialList.length > 0) {\n        this.tutorialList = this.tutorialList.sort((a, b) => {\n          if (a.index > b.index) {\n            return 1;\n          }\n          if (b.index > a.index) {\n            return -1;\n          }\n          return 0;\n        })\n      }\n      if (this.tutorialList.length > 0) {\n        this.currentTutorial = 0;\n        this.$nextTick(() => {\n          setTimeout(() => {\n            //wait 200 ms to start first tutorial.\n            /*Fill all tutorial positions*/\n            this.tutorialList.forEach((item) => {\n              item.position = item.itemRef.getBoundingClientRect();\n            })\n            this.tutorialNext();\n            this.setTutorialRunPerPage(this.name);\n          }, 200);\n        })\n      }\n\n    },\n    hasJoinedProgramById(id) {\n      return this.$nuxt.$store.getters.hasJoinedProgramById(id)\n    },\n    getProgramJoinedAtById(id) {\n      return this.$nuxt.$store.getters.getProgramJoinedAtById(id)\n    },\n    getProgramById(id) {\n      return this.$nuxt.$store.getters.getProgramById(id)\n    },\n    getOverallProgressProgramById(id) {\n      return this.$nuxt.$store.getters.getOverallProgressProgramById(id)\n    },\n    getDoneCountByProgramId(id) {\n      return this.$nuxt.$store.getters.getDoneCountByProgramId(id)\n    },\n    getNextExerciseByProgramId(id) {\n      return this.$nuxt.$store.getters.getNextExerciseByProgramId(id)\n    },\n    getExercisetocompleteCountProgramById(id) {\n      return this.$nuxt.$store.getters.getExercisetocompleteCountProgramById(id)\n    },\n    getExercisecompletedCountProgramById(id) {\n      return this.$nuxt.$store.getters.getExercisecompletedCountProgramById(id)\n    },\n    printDeviceError(prefix, error, clickEvent, resetEvent) {\n      this.$analytics.logEvent(\"permission_error\", {\n        \"title\": 'errors.' + prefix + \".\" + error.name.toLowerCase() + \".title\",\n        \"kind\": prefix\n      });\n      console.error('Got device error', error)\n      if (error && (error.name === \"NotAllowedError\" || error.name === \"NotFoundError\" || error.exception.state == \"denied\" || error.exception.state == \"DENIED\")) {\n        this.$root.$emit('showPermssionError', true)\n        return\n      }\n\n      this.showError(\n        this.$t('errors.generic.title'),\n        this.$t('errors.generic.description'),\n        clickEvent,\n        resetEvent\n      );\n    },\n    printDeviceErrorOLD(prefix, error, clickEvent, resetEvent) {\n      this.$analytics.logEvent(\"permission_error\", {\n        \"title\": 'errors.' + prefix + \".\" + error.name.toLowerCase() + \".title\",\n        \"kind\": prefix\n      });\n      console.error('Got device error', error)\n      if (error.exception && prefix == \"mic\") {\n        if (error.exception.state == \"denied\" || error.exception.state == \"DENIED\") {\n          error.name = \"DeniedError\";\n          this.$root.$emit('showError', {\n            title: this.$t('errors.' + prefix + \".\" + error.name.toLowerCase() + \".title\"),\n            error: this.$t('errors.' + prefix + \".\" + error.name.toLowerCase() + \".description\"),\n            hasretry: true,\n            click: function () {\n              $nuxt.$airlyn.openPermissionPanel().then((r) => {\n                console.log('got openPermission Panel then', r, JSON.stringify(r))\n              }).catch((e) => {\n                console.log('got openPermission Panel catch', e, JSON.stringify(e))\n              }).finally(() => {\n                //esegui comunque il reset event...\n                if (typeof resetEvent == 'function') {\n                  console.log('dopo il setting riport cmq a inizio')\n                  resetEvent()\n                }\n              })\n              return true\n            },\n            resetEvent: resetEvent || function () {\n            },\n            retryBtn: \"Settings\"\n          });\n          return\n        }\n      }\n      if (error && (error.name === \"NotAllowedError\" || error.name === \"NotFoundError\")) {\n        //Permission error\n        this.showError(\n          this.$t('errors.' + prefix + \".\" + error.name.toLowerCase() + \".title\"),\n          this.$t('errors.' + prefix + \".\" + error.name.toLowerCase() + \".description\"),\n          clickEvent,\n          resetEvent\n        );\n        return\n      }\n      this.showError(\n        this.$t('errors.generic.title'),\n        this.$t('errors.generic.description'),\n        clickEvent,\n        resetEvent\n      );\n    },\n    manageMicError(e, clickEvent, resetEvent) {\n      this.printDeviceError('mic', e, clickEvent, resetEvent);\n    },\n    manageCamError(e, clickEvent, resetEvent) {\n      this.printDeviceError('cam', e, clickEvent, resetEvent);\n    },\n    manageMicCamError(e, clickEvent, resetEvent) {\n      this.printDeviceError('miccam', e, clickEvent, resetEvent);\n    },\n    showError(title, error, clickEvent, resetEvent) {\n      this.$root.$emit('showError', {\n        title: title,\n        error: error,\n        hasretry: clickEvent !== null ? true : false,\n        click: clickEvent || function () {\n        },\n        resetEvent: resetEvent || function () {\n        }\n      });\n    },\n    swipeEvent(e) {\n      //console.log(e.target); // element that was swiped\n      //console.log(e.detail); // see event data below\n      this.$root.$emit(\"swipe\", e);\n    },\n    attachSwipeListener() {\n      document.addEventListener('swiped-left', this.swipeEvent);\n      document.addEventListener('swiped-right', this.swipeEvent);\n    },\n    detachSwipeListeners() {\n      document.removeEventListener('swiped-left', this.swipeEvent);\n      document.removeEventListener('swiped-right', this.swipeEvent);\n    },\n    retrievePreferenceTutorial() {\n      if (this.$capacitor && this.$capacitor.isNativePlatform()) {\n        this.$airlyn.preferenceConfigure({'group': 'airlyn'}).finally(() => {\n          console.log('preferences ready');\n          const key = \"tutorial_\" + this.name;\n          this.$airlyn.preferenceGet({'key': key}).then((r) => {\n            console.log('preference read (' + key + ')!', r);\n            if (r && r.value && (r.value === 1 || r.value == '1')) {\n              console.log('got preference Tutorial SEEN for', key, r.value);\n              this.tutorialShownHard = true;\n            }\n          })\n        })\n      }\n    },\n    setPreferenceTutorial() {\n      if (this.$capacitor && this.$capacitor.isNativePlatform()) {\n        const key = \"tutorial_\" + this.name;\n        this.$airlyn.preferenceSet({'key': key, 'value': \"1\"}).finally(() => {\n          console.log('preference stored for!', key);\n        })\n      }\n      this.setTutorialRun({\"page\": this.name, \"index\": this.currentTutorial.index})\n      this.tutorialShownHard = true;\n    }\n  },\n  beforeMount() {\n    console.log('PRE loaded base Page')\n    this.setCurrentPage(this);\n  },\n  beforeDestroy() {\n    this.detachSwipeListeners();\n  },\n  mounted() {\n    console.log('loaded base Page')\n    this.tutorialShownHard = false;\n    //Init Preferences if app is native:\n    this.retrievePreferenceTutorial()\n    console.log('try Load index', this.name, this.dynamicTexts);\n    if (this.dynamicTexts && Object.keys(this.dynamicTexts).length > 0) {\n      Object.keys(this.dynamicTexts).map((text) => {\n        this.$appConfiguration.getText(text).then((r) => {\n          this.dynamicTexts[text] = r;\n        }).catch((e) => {\n          this.dynamicTexts[text] = this.$t(this.name + '.' + text);\n        })\n      })\n    }\n    if (this.getCurrentPagerHeight !== null && document.querySelector('.v-main__wrap > div.pager')) {\n      document.querySelector('.v-main__wrap > div.pager').style.height = this.getCurrentPagerHeight + \"px\";\n    }\n    this.$nextTick(() => {\n      //check tutorial by Name: const localTutorials = this.getLocalTutorialShown;\n      if (this.$capacitor && this.$capacitor.isNativePlatform()) {\n        console.log('Richiesto al passaggio precedente');\n      } else {\n        const _local = this.getLocalTutorialShown;\n        if (_local && typeof _local[this.name] !== 'undefined') {\n          this.tutorialShownHard = true;\n        } else {\n          this.tutorialShownHard = false;\n        }\n\n      }\n\n      //Start swipe features:\n      this.attachSwipeListener();\n      if (this.getCurrentPagerHeight === null) {\n        if (document.querySelector('.v-main__wrap > div.pager')) {\n          this.setCurrentPagerHeight(Math.max(document.querySelector('.v-main__wrap > div.pager').clientHeight, document.querySelector('.v-main__wrap > div.pager').offsetHeight));\n        }\n      }\n    });\n  }\n\n}\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./infodialog.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./infodialog.vue?vue&type=script&lang=js\"","\nexport default {\n  props: {\n    title: {\n      type: String,\n      default: \"Info\"\n    },\n    transition: {\n      type: String,\n      default: \"dialog-bottom-transition\"\n    },\n    contentclasses: {\n      type: String,\n      default: \"\"\n    },\n    description: {\n      type: String,\n      default: \"Info text\"\n    },\n    infoImage: {\n      type: String,\n      default: null\n    },\n    showSuperTitle: {\n      type: Boolean,\n      default: true\n    },\n    thumbInTitle: {\n      type: Boolean,\n      default: true\n    },\n    show: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {}\n  },\n  computed: {\n    showDialog: function () {\n      return this.show;\n    }\n  },\n  methods : {\n    closeClick(e) {\n      this.$emit('close',e);\n    }\n  },\n  mounted() {\n  }\n}\n","import { render, staticRenderFns } from \"./infodialog.vue?vue&type=template&id=cf9e9cc0\"\nimport script from \"./infodialog.vue?vue&type=script&lang=js\"\nexport * from \"./infodialog.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {FullpageCard: require('/Users/francescolotruglio/Lavori/VoiceMed/VoiceMedSdk-Sources/voicemed-layoutsdk/components/fullpage-card.vue').default})\n","\nconst MILLISECONDS_SECOND = 1000;\nconst EVENT_ABORT = 'abort';\nconst EVENT_END = 'end';\nconst EVENT_PROGRESS = 'progress';\nconst EVENT_START = 'start';\nconst EVENT_VISIBILITY_CHANGE = 'visibilitychange';\n\nexport default {\n  name: \"CountDown\",\n  props: {\n    interval: {\n      type: Number,\n      default: 1000\n    },\n    timerLength: {\n      type: Number,\n      default: 10000\n    },\n    reverse: {\n      type: Boolean,\n      default: false\n    },\n    now: {\n      type: Function,\n      default: () => Date.now(),\n    },\n    emits: {\n      EVENT_ABORT,\n      EVENT_END,\n      EVENT_PROGRESS,\n      EVENT_START\n    }\n  },\n  data() {\n    return {\n      counting: false,\n      totalMilliseconds: 0,\n      requestId: 0,\n      endTime: 0,\n      elapsed: 0\n    }\n  },\n  computed: {\n    totalSeconds() {\n      return Math.floor(this.totalMilliseconds / MILLISECONDS_SECOND);\n    }\n  },\n  watch: {\n    $props: {\n      deep: true,\n      immediate: true,\n      handler() {\n        this.totalMilliseconds = this.timerLength;\n        this.endTime = this.now() + this.timerLength;\n        //this.start();\n      }\n    },\n  },\n  mounted() {\n    document.addEventListener(EVENT_VISIBILITY_CHANGE, this.handleVisibilityChange);\n  },\n\n  beforeUnmount() {\n    document.removeEventListener(EVENT_VISIBILITY_CHANGE, this.handleVisibilityChange);\n    this.pause();\n  },\n  methods: {\n    restart() {\n      this.totalMilliseconds = this.timerLength;\n      this.endTime = this.now() + this.timerLength;\n      this.elapsed = 0;\n      this.start();\n    },\n    start() {\n      if (this.counting) {\n        return;\n      }\n      this.counting = true;\n      this.$emit(EVENT_START);\n      if (document.visibilityState === 'visible') {\n        this.continue();\n      }\n    },\n    getElapsed() {\n      return this.elapsed;\n    },\n    continue() {\n      if (!this.counting) {\n        return;\n      }\n      const delay = Math.min(this.totalMilliseconds, this.interval);\n      if (delay > 0) {\n        let init;\n        let prev;\n        const step = (now) => {\n          if (!init) {\n            init = now;\n          }\n          if (!prev) {\n            prev = now;\n          }\n          const range = now - init;\n          if (range >= delay || range + ((now - prev) / 2) >= delay) {\n            this.progress();\n          } else {\n            this.requestId = requestAnimationFrame(step);\n          }\n          prev = now;\n        };\n        this.requestId = requestAnimationFrame(step);\n      } else {\n        this.end();\n      }\n    },\n    pause() {\n      cancelAnimationFrame(this.requestId);\n    },\n    progress() {\n      if (!this.counting) {\n        return;\n      }\n      this.totalMilliseconds -= this.interval;\n      this.elapsed += this.interval;\n      if (this.totalMilliseconds > 0) {\n        this.$emit(EVENT_PROGRESS, {\n          totalSeconds: this.totalSeconds,\n          totalMilliseconds: this.totalMilliseconds,\n          interval: this.interval,\n          elapsed: this.elapsed\n        });\n      }\n      this.continue();\n    },\n    abort() {\n      if (!this.counting) {\n        return;\n      }\n      this.pause();\n      this.counting = false;\n      this.$emit(EVENT_ABORT);\n    },\n    end() {\n      if (!this.counting) {\n        return;\n      }\n      this.pause();\n      this.counting = false;\n      this.$emit(EVENT_END, {\n        totalSeconds: this.totalSeconds,\n        totalMilliseconds: this.totalMilliseconds,\n        interval: this.interval,\n        elapsed: this.elapsed\n      });\n      this.totalMilliseconds = 0;\n    },\n    update() {\n      if (this.counting) {\n        this.totalMilliseconds = Math.max(0, this.endTime - this.now());\n      }\n    },\n    handleVisibilityChange() {\n      switch (document.visibilityState) {\n        case 'visible':\n          this.update();\n          this.continue();\n          break;\n        case 'hidden':\n          this.pause();\n          break;\n        default:\n      }\n    }\n  }\n\n\n}\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./countdown.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./countdown.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./countdown.vue?vue&type=template&id=e4d0548a\"\nimport script from \"./countdown.vue?vue&type=script&lang=js\"\nexport * from \"./countdown.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n  export default {\n    props: {\n      value : {\n        type:Number,\n        default:0\n      },\n      exerciseSteps:{\n        type:Number,\n        default:1\n      },\n      startPercent: {\n        type:Number,\n        default: 0\n      },\n      doneClass: {\n        type:String,\n        default:'done'\n      },\n      maxPercent : {\n        type:Number,\n        default: 1\n      },\n      runningPercent: {\n        type:Number,\n        default: 0\n      }\n    },\n    computed : {\n      primaryColor() {\n        return $nuxt.$config.env.environment.indexOf('voicemed_')>-1?\"#EC483F\":\"#848CE6\";\n      },\n      exercisescount() {\n        return this.exerciseSteps\n      },\n      currentExercise() {\n        return this.value\n      },\n      currentPercent() {\n        return this.runningPercent\n      }\n    },\n    methods: {\n      getRotation(index) {\n        if(index === 0) {\n          return \"transform:rotate(0deg);\";\n        }\n        //Get deg for position\n        const angles = 360/(this.exercisescount)*(index);\n        return \"transform:rotate(\"+angles+\"deg);\";\n      },\n    }\n  }\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./exerciseanimationprogress.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./exerciseanimationprogress.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./exerciseanimationprogress.vue?vue&type=template&id=106df5ae\"\nimport script from \"./exerciseanimationprogress.vue?vue&type=script&lang=js\"\nexport * from \"./exerciseanimationprogress.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/sine.8ad1fba.svg\";","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??ref--3-oneOf-1-2!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./runnersilent.vue?vue&type=style&index=0&id=63e65a5a&prod&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"07ca2686\", content, false, {\"sourceMap\":false});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??ref--3-oneOf-1-2!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./runnersilent.vue?vue&type=style&index=0&id=63e65a5a&prod&lang=css\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??ref--3-oneOf-1-2!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./runnersilent.vue?vue&type=style&index=0&id=63e65a5a&prod&lang=css\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--3-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??ref--3-oneOf-1-2!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./runnersilent.vue?vue&type=style&index=0&id=63e65a5a&prod&lang=css\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"../../../assets/images/sine.svg\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(function(i){return i[1]});\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".sine_merger{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \")}\", \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {};\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","\nimport basepage from \"~/mixins.js/basepage\";\nimport CountDownItem from \"~/components/countdown\";\nimport {mapActions, mapGetters} from 'vuex'\n\nconst breathInDelay = 3 * 1000;\n\nconst titleFromCenter = {\n  targets: \"#exerciseTitle\",\n  translateY: ['+200%', '0%'],\n  opacity: [0, 1],\n  easing: 'easeInOutQuad',\n  duration: 500\n};\nconst titleExit = {\n  targets: \"#exerciseTitle\",\n  opacity: [1, 0],\n  easing: 'easeInOutQuad',\n  duration: 100\n};\n\nexport default {\n  name: 'ml_exercise',\n  mixins: [basepage],\n  components: {\n    CountDownItem\n  },\n  beforeRouteLeave(to, from, next) {\n    this.$closeStream();\n    next();\n  },\n  data() {\n    return {\n      delay: true,\n      delayTime: 0,\n      preload: true,\n      exid: (this.$route.params.id),\n      programid: (this.$route.params.fromprogram || false),\n      withindex: (this.$route.params.withindex || false),\n      backto: (this.$route.params.backto || false),\n      intervals: [],\n      \"name\": \"ml_exercise\",\n      \"hasBack\": true,\n      \"hasNext\": false,\n      \"current\": -1,\n      \"realCurrent\": -1,\n      \"timer\": 0,\n      \"startCountdown\": 3,\n      \"finish\": false,\n      \"uploadProgress\": 0,\n      \"currentTime\": 0,\n      \"currentRemaining\": 0,\n      \"overallRemaining\": 0,\n      \"currentProgress\": 0,\n      currentExerciseTime: 0,\n      \"overallProgress\": 0,\n      \"totalRunningTime\": 0,\n      \"holdProgress\": 0,\n      \"timeStart\": 0,\n      \"timeEnd\": 0,\n      \"timePauseStart\": 0,\n      \"timePauseGap\": 0,\n      \"estimatedDuration\": 0,\n      'recordingPhasesDuration': {},\n      'interval': 250,\n      'holdMs': 0,\n      'holdMsFragment': {},\n      'cycle': {\n        current: -1,\n        duration: 0,\n        elapsed: 0,\n      },\n      about: {\n        show: false\n      },\n    }\n  },\n  computed: {\n    ...mapGetters({\n      getExercises: 'getExercises',\n      getCurrentExercise: 'getCurrentExercise',\n      isCurrentUserGuest: 'isCurrentUserGuest'\n    }),\n    delayBreathTime() {\n      return breathInDelay\n    },\n    exercise() {\n      return this.getCurrentExercise\n    },\n    exercises() {\n      if (this.exercise) {\n        return this.exercise.exercises;\n      }\n      return [];\n    },\n    computedDuration() {\n      if (this.getCurrentExercise && Array.isArray(this.getCurrentExercise.exercises)) {\n        return this.getCurrentExercise.exercises.reduce((carry, exe) => {\n          return 0 + (exe.duration || 0);\n        }, 0);\n      }\n      return false;\n    },\n    /*\n    estimatedDuration() {\n      if (this.getCurrentExercise && this.getCurrentExercise.duration) {\n        return this.getCurrentExercise.duration;\n      }\n      if (this.getCurrentExercise && Array.isArray(this.getCurrentExercise.exercises)) {\n        return this.computedDuration;\n      }\n      return false\n    },\n    */\n    exercisescount: function () {\n      if (this.exercise) {\n        return this.exercise.exercises.length;\n      }\n      return 0;\n    },\n    exercisescountReal: function () {\n      if (this.exercise) {\n        return this.exercise.exercises.filter((e) => e.pause === false).length;\n      }\n      return 0;\n    },\n    currentExercise: function () {\n      if (this.current >= 0 && this.current < this.exercisescount) {\n        return this.exercise.exercises[this.current];\n      }\n      if (this.exercisescount > 0) {\n        return this.exercise.exercises[0];\n      }\n      return false;\n    },\n    timestring: function () {\n      return new Date(this.totalRunningTime).toISOString().substr(14, 5)\n    },\n    remainingString: function () {\n      if (this.currentExercise.hold === true) {\n        return \" \";\n      }\n      const _ret = (this.estimatedDuration * 1000) - this.totalRunningTime;\n      return \"-\" + new Date(_ret).toISOString().substr(14, 5)\n    },\n    overallRemainingString: function () {\n\n      if (this.currentExercise.hold === true) {\n        return \" \";\n      }\n      const _ret = (this.totalTimeMs) - (this.totalRunningTime + this.currentExerciseTime);\n      if (_ret < 0) {\n        return \"-00:00\";\n      }\n      return \"-\" + new Date(_ret).toISOString().substr(14, 5)\n    },\n    currentPercent: function () {\n      /* CurrentCycle version */\n      if (this.cycle.duration <= 0) {\n        return 0;\n      }\n      if (this.cycle.elapsed + this.currentExerciseTime <= 0) {\n        return 0;\n      }\n      const perc = (this.cycle.elapsed + this.currentExerciseTime) / this.cycle.duration * 100;\n      if (perc > 100) {\n        return 100;\n      }\n      return perc;\n    },\n    /* Single exercise time\n    currentPercent: function () {\n      if (this.current < 0) {\n        return 0;\n      }\n      if (this.currentTime < 0) {\n        return 0;\n      }\n      const phasesNumber = this.exercisescount;\n      const sidePerc = 100 / this.exercisescount;\n      const phasePerc = this.current === 0 ? 0 : ((this.current / this.exercisescount) * 100);\n      const phaePercTime = (sidePerc * (this.currentTime / this.currentExercise.durationMs * 100)) / 100;\n      const perc = phasePerc + phaePercTime;\n      if (perc > 100) {\n        return 100;\n      }\n      return perc;\n    },\n    */\n    currentUploadProgress: function () {\n      const perc = (this.uploadProgress) * 100;\n      if (perc > 100) {\n        return 100;\n      }\n      return perc;\n    },\n    totalTime: function () {\n      return this.exercises.reduce(function (carry, item) {\n        return carry + item.duration;\n      }, 0) + (this.holdMs / 1000);\n    },\n    totalTimeMs: function () {\n      return this.exercises.reduce(function (carry, item) {\n        return carry + (item.duration * 1000);\n      }, 0) + this.holdMs;\n    }\n  },\n  watch: {\n    'current': function () {\n      if (this.current >= 0) {\n        const currentCycle = this.cycle.current;\n        if (currentCycle !== this.currentExercise.iteration) {\n          this.cycle.current = this.currentExercise.iteration;\n          this.cycle.elapsed = 0;\n          this.cycle.duration = this.getCurrentExercise.exercises.reduce((carry, exe) => {\n            if (exe.iteration === this.cycle.current) {\n              return carry + exe.durationMs;\n            }\n            return carry;\n          }, 0);\n        }\n      }\n    }\n  },\n  methods: {\n    ...mapActions({\n      addDoneExercise: 'addDoneExercise',\n      updateExercise: 'updateExercise'\n    }),\n    convertMsHHMMSS(val) {\n      let hhmmss = new Date(val).toISOString().substr(11, 8)\n      return (hhmmss.indexOf('00:') === 0) ? hhmmss.substr(3) : hhmmss\n    },\n    timerChange(progress) {\n      if (this.delay === true) {\n        this.delayTime -= progress.interval;\n        if ((progress.elapsed + progress.interval) > this.delayBreathTime) {\n          //console.log('Durata esercizio corrente > di duration', this.currentTime, this.currentExercise.durationMs);\n          //Invoke timer End?\n          this.$forceNextTick(() => {\n            this.$refs.stepcountdown.end();\n          });\n        }\n        return\n      }\n      this.currentExerciseTime += progress.interval;\n      /*console.log('check seconds: ', new Date().getTime() / 1000,\n        this.currentExercise.durationMs,\n        progress.totalMilliseconds,\n        progress.elapsed,\n        this.totalRunningTime\n      );\n       */\n      if (this.currentExercise.hold === false) {\n        this.currentProgress = 100 - (progress.totalSeconds / this.currentExercise.duration * 100);\n        this.currentRemaining = progress.totalSeconds;\n        this.currentTime = (this.currentExercise.durationMs) - progress.totalMilliseconds; //Compute difference in ms since start\n      } else {\n        this.currentProgress = 100;\n        this.holdMs += progress.interval;\n\n      }\n\n      if (this.currentExercise.pause === false) {\n        //this.totalRunningTime += progress.interval; //sum interval step\n        this.holdProgress += progress.interval;\n        const _percent = ((this.totalRunningTime + this.currentExerciseTime) / this.totalTimeMs * 100);\n        this.overallProgress = _percent > 100 ? 100 : _percent;\n      }\n      if (this.currentExercise.hold === false && (progress.elapsed + progress.interval) > this.currentExercise.durationMs) {\n        //console.log('Durata esercizio corrente > di duration', this.currentTime, this.currentExercise.durationMs);\n        //Invoke timer End?\n        this.$forceNextTick(() => {\n          this.$refs.stepcountdown.end();\n        });\n      }\n    },\n    finishDelay() {\n      this.$refs.stepcountdown.end();\n      this.$anime({\n        targets: '.exercise_delay_info',\n        opacity: [1, 0],\n        duration: 500,\n        delay: 250,\n        easing: 'easeInOutQuad',\n        complete: () => {\n          this.delay = false;\n          this.$nextTick(() => {\n            this.startRealExercise();\n          });\n        }\n      });\n    },\n    holdEnd() {\n      //console.log('finish hold');\n      this.$refs.stepcountdown.end();\n    },\n    timerEnd(enddata) {\n      if (this.delay === true) {\n        this.delayTime -= enddata.interval;\n        this.$forceNextTick(() => {\n          this.finishDelay();\n        })\n        return;\n      }\n      //console.log('check seconds: ', new Date().getTime() / 1000);\n      this.currentProgress = 0;\n      this.currentTime = 0;\n\n      this.totalRunningTime += this.currentExercise.durationMs; //Aggiungi la dimensione dell'esercizio alla somma;\n      this.cycle.elapsed += this.currentExercise.durationMs;\n      //this.$anime.remove('#exerciseTitle');\n      this.recordingPhasesDuration[this.current] = new Date().getTime() - this.recordingPhasesDuration[this.current];\n      if (this.currentExercise.hold === true) {\n        this.holdMsFragment[this.current] = new Date().getTime() - this.holdMsFragment[this.current];\n      }\n      console.log('END EXERCISE check seconds: ', new Date().getTime() / 1000, this.recordingPhasesDuration[this.current]);\n      this.$nextTick(() => {\n        this.current++;\n        this.currentExerciseTime = 0;\n        if (this.currentExercise.pause === false) {\n          this.realCurrent++;\n        }\n        this.currentRemaining = this.currentExercise.duration;\n        [...document.querySelectorAll('.faded')].forEach((item) => {\n          item.classList.remove('faded');\n        });\n        if (this.current < this.exercisescount) {\n          requestAnimationFrame(() => {\n            this.manageExercise();\n          })\n        } else {\n          this.uploadProgress = 0;\n          this.finish = true;\n          this.finishExercise();\n        }\n      })\n    },\n    leaveMe() {\n      this.$gtag('event', 'click', {\n        'event_label': 'StopRecording',\n        'event_category': 'Exercises',\n        'non_interaction': true\n      })\n      this.$analytics.logEvent('exercise_quit', {\n        \"id\": this.getCurrentExercise.id,\n        \"name\": this.getCurrentExercise.title,\n        \"program_id\": this.getCurrentExercise.program_id || null,\n        \"type\": this.getCurrentExercise.type,\n      })\n      this.intervals.map((interval) => {\n        try {\n          clearTimeout(interval)\n        } catch (e) {\n        }\n      });\n\n      this.$refs.stepcountdown.abort();\n      if (document.querySelector('#__nuxt')) {\n        document.querySelector('#__nuxt').classList.add('quit');\n      }\n      this.exerciseStepBack()\n    },\n    getRotation(index) {\n      if (index === 0) {\n        return \"transform:rotate(0deg);\";\n      }\n      //Get deg for position\n      const angles = 360 / (this.exercisescount) * (index);\n      return \"transform:rotate(\" + angles + \"deg);\";\n    },\n    imageError() {\n      this.phasebutton.phaseimage = require(\"~/assets/images/errorlogo.png\");\n    },\n    prevStep() {\n\n      if (this.about.show) {\n        this.closeInfo();\n        return;\n      }\n\n      this.intervals.map((interval) => {\n        try {\n          clearTimeout(interval)\n        } catch (e) {\n        }\n      });\n      this.$refs.stepcountdown.abort();\n      this.$router.back();\n      this.$gtag('event', 'click', {\n        'event_label': 'StopRecording',\n        'event_category': 'Exercises',\n        'non_interaction': true\n      })\n    },\n    nextStep() {\n      this.$root.$emit('showPager', {\"show\": false});\n      let suffix = this.buildSuffix();\n      if(suffix.length>0) {\n        suffix = \"/\" + suffix\n      }\n      this.$router.push($nuxt.localePath(\"/ml/greetings/\" + this.exid + suffix));\n    },\n    finishExercise() {\n      this.timeEnd = new Date().getTime();\n      this.$anime.remove('.breath_item');\n      if (document.querySelector(\"div.breath_item\")) {\n        document.querySelector(\"div.breath_item\").classList.remove('animating');\n      }\n      this.$nextTick(() => {\n        const mergeAnimation = Object.assign({\n          targets: '.breath_item',\n          loop: false,\n          easing: 'easeInOutQuad',\n          duration: 3000,\n          begin: function () {\n            if (document.querySelector(\"div.breath_item\")) {\n              document.querySelector(\"div.breath_item\").classList.add('animating');\n            }\n          },\n          complete: function () {\n            if (document.querySelector(\"div.breath_item\")) {\n              document.querySelector(\"div.breath_item\").classList.remove('animating');\n            }\n          }\n        }, this.$animationHelper.pulse);\n        this.$anime(mergeAnimation);\n      });\n\n      Object.keys(this.recordingPhasesDuration).map((v) => {\n        this.recordingPhasesDuration[v] = this.recordingPhasesDuration[v] > 0 ? this.recordingPhasesDuration[v] / 1000 : 0;\n      });\n      let heldTimeCount = 0;\n      let heldTimeDuration = 0;\n      Object.keys(this.recordingPhasesDuration).map((v) => {\n        this.recordingPhasesDuration[v] = this.recordingPhasesDuration[v] > 0 ? this.recordingPhasesDuration[v] / 1000 : 0;\n      });\n      Object.keys(this.holdMsFragment).map((v) => {\n        heldTimeCount += 1;\n        heldTimeDuration += this.holdMsFragment[v] > 0 ? this.holdMsFragment[v] / 1000 : 0;\n      });\n      let exerciseValue = {\n        exerciseStarts: this.timeStart / 1000,\n        exerciseEnds: this.timeEnd / 1000,\n        pauseTime: this.timePauseGap > 0 ? this.timePauseGap / 1000 : 0,\n        totalComputedDuration: (this.timeEnd - this.timeStart) / 1000,\n        estimatedDuration: this.estimatedDuration,\n        /*apiDuration: this.getCurrentExercise.duration,*/\n        clientPhases: this.recordingPhasesDuration,\n        totalHeldTime: this.holdMs > 0 ? this.holdMs / 1000 : 0,\n        averageHeldTime: this.holdMs > 0 ?(this.holdMs / heldTimeCount) / 1000 : 0\n      }\n      const uploadFake = 1000;\n      const progressInterval = setInterval(() => {\n        this.uploadProgress += 0.20;\n      }, uploadFake / 4)\n      this.intervals.push(setTimeout(() => {\n        clearInterval(progressInterval);\n        this.sendRecord(null, exerciseValue);\n      }, uploadFake));\n\n    },\n    sendRecord(blob, exerciseSummary) {\n      this.uploadProgress = 0;\n      //console.log('start sendRecord');\n      this.loading = true;\n      const today = new Date();\n      const _userID = this.$auth.user ? (this.$auth.user._id || this.$auth.user.userId) : today.getMilliseconds();\n      let passed = false;\n      this.$exerciseManager.completeExercise(\n        this.getCurrentExercise,\n        (progress) => {\n          this.uploadProgress = (progress.loaded / progress.total) - 0.05;\n        },\n        null,\n        exerciseSummary\n      ).then((r) => {\n        this.uploadProgress = 1;\n        if (r.exercise && r.response && r.exercise.completed) {\n          passed = true;\n        } else {\n          passed = $nuxt.$t(\"errors.global.msg_restapi\");\n        }\n        console.log('got record result', r);\n      }).catch((e) => {\n        console.error(\"Errore invio api [breathing_exercises]:\", e);\n        this.$captureException(e);\n        passed = $nuxt.$t(\"errors.global.title\");\n        this.$analytics.logEvent(\"error\", {\n          \"title\": 'cannot send exercise'\n        });\n      }).finally(() => {\n        if (passed === true) {\n          if (this.isCurrentUserGuest) {\n            this.addDoneExercise(1);\n          }\n          this.nextStep();\n        } else {\n          //Show Error?\n          this.$root.$emit('showError', {\n            hasretry: true,\n            title: $nuxt.$t(\"errors.global.uhoh\"),\n            error: passed,\n            click: () => {\n              this.startExercises();\n              return true;\n            },\n            resetEvent: function () {\n              this.exerciseStepBack()\n              return true;\n            }\n          });\n        }\n      });\n    },\n    closeInfo() {\n      this.about.show = false;\n      this.$refs.stepcountdown.start();\n      const elapsedTime = new Date().getTime() - this.timePauseStart;\n      this.timePauseGap += elapsedTime;\n      console.log('countdown resumed total Pause: ', this.timePauseGap);\n    },\n    openInfoDialog() {\n      return;\n      this.$refs.stepcountdown.pause();\n      this.timePauseStart = new Date().getTime();\n      console.log('countdown paused');\n      this.about.show = true;\n    },\n    manageExercise() {\n      //console.log('init exercise', this.current);\n      this.$anime.remove('.breath_item');\n      if (document.querySelector(\"div.breath_item\")) {\n        document.querySelector(\"div.breath_item\").classList.remove('animating');\n      }\n      [...document.querySelectorAll('.faded')].forEach((item) => {\n        item.classList.remove('faded');\n      });\n      this.recordingPhasesDuration[this.current] = new Date().getTime();\n      if (this.currentExercise.hold) {\n        this.holdProgress = 0;\n        this.holdMsFragment[this.current] = new Date().getTime();\n      }\n      if (this.current >= 0) {\n        this.estimatedDuration += (this.currentExercise.hold ? 0 : this.currentExercise.duration);\n        //console.log('ready to start new Exercise', new Date().getTime() / 1000, this.currentExercise.durationMs);\n        this.$refs.stepcountdown.restart();\n\n        const mergeAnimation = Object.assign({\n          targets: '.breath_item',\n          loop: (this.currentExercise.hold),\n          easing: 'easeOutSine',\n          duration: this.currentExercise.hold ? 3000 : ((this.currentExercise.durationMs) - 50),\n          begin: function () {\n            if (document.querySelector(\"div.breath_item\")) {\n              document.querySelector(\"div.breath_item\").classList.add('animating');\n            }\n          },\n          complete: function () {\n            if (document.querySelector(\"div.breath_item\")) {\n              document.querySelector(\"div.breath_item\").classList.remove('animating');\n            }\n          }\n        }, this.currentExercise.animation)\n\n\n        if (this.currentExercise.pause === false) {\n          requestAnimationFrame(() => {\n            this.$anime(mergeAnimation);\n          })\n        }\n      }\n    },\n    startTimer() {\n      this.intervals.push(setTimeout(() => {\n        this.timer++;\n        if (this.finish === false) {\n          this.startTimer();\n        }\n      }, 1000));\n    },\n\n    startExercises() {\n      this.$analytics.logEvent('exercise_begin_recording', {\n        \"id\": this.getCurrentExercise.id,\n        \"name\": this.getCurrentExercise.title,\n        \"program_id\": this.getCurrentExercise.program_id || null,\n        \"type\": this.getCurrentExercise.type,\n      })\n      this.$exerciseManager.startExercise(this.getCurrentExercise);\n      this.$analytics.setScreenName(this.getCurrentExercise.title + \" \" + this.getCurrentExercise.type + \" page\");\n      this.$gtag('event', 'click', {\n        'event_label': 'BeginRecording',\n        'event_category': 'Exercises',\n        'non_interaction': true\n      })\n      //compute height for all titles (prevent bounce):\n      this.delay = true;\n      this.delayTime = breathInDelay;\n      this.current = 0;\n      this.realCurrent = 0;\n      this.overallProgress = 0;\n      this.holdMs = 0;\n      this.currentExerciseTime = 0;\n      this.overallRemaining = this.totalTimeMs;\n      this.finish = false;\n      this.cycle.current = 0;\n      this.cycle.duration = 0;\n      this.cycle.elapsed = 0;\n      this.$set(this, \"recordingPhasesDuration\", {});\n      this.totalRunningTime = 0;\n      this.current = 0;\n      this.realCurrent = 0;\n      //console.log(this.getCurrentExercise, this.overallRemaining, this.estimatedDuration, this.totalTimeMs);\n      [...document.querySelectorAll('.faded')].forEach((item) => {\n        item.classList.remove('faded');\n      });\n      this.$forceNextTick(() => {\n        this.$refs.stepcountdown.restart();\n      })\n\n    },\n    startRealExercise() {\n      this.setupAll()\n    },\n    setupAll() {\n      /* resetta i contatori*/\n      this.$nuxt.$loading.finish();\n      this.timeStart = 0;\n      this.timeEnd = 0;\n      this.estimatedDuration = 0;\n      this.timePauseStart = 0;\n      this.timePauseGap = 0;\n      this.holdMs = 0;\n\n      this.currentTime = 0;\n      this.timeStart = new Date().getTime();\n      [...document.querySelectorAll('.faded')].forEach((item) => {\n        item.classList.remove('faded');\n      });\n      console.log('ready to Record', new Date().getTime() / 1000, this.estimatedDuration);\n      this.manageExercise();\n    }\n  },\n  mounted() {\n    this.delayTime = breathInDelay;\n    this.delay = true;\n    if (!this.exercise) {\n      this.$router.replace($nuxt.localePath(\"/ml/exercises/\" + this.exid));\n    }\n    this.interval = 250;\n\n    //Start exercises...\n    this.timer = 0;\n    this.$root.$emit('showPager', {\"show\": false});\n    let maxH = [...document.querySelectorAll('.fakeTitles')].reduce((carry, item) => {\n      //console.log('nf', item, item.offsetHeight, item.clientHeight, item.scrollHeight, item.innerHTML);\n      return Math.max(carry, Math.max(item.offsetHeight, item.clientHeight, item.scrollHeight));\n    }, 0);\n    if (document.querySelector('#exerciseTitle')) {\n      document.querySelector('#exerciseTitle').style.height = maxH + 'px';\n    }\n    this.preload = false;\n    this.$nextTick(() => {\n      this.$root.$emit('setNextText', this.$t('generic.next'));\n      this.startExercises();\n    });\n\n  }\n}\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./runnersilent.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./runnersilent.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./runnersilent.vue?vue&type=template&id=63e65a5a\"\nimport script from \"./runnersilent.vue?vue&type=script&lang=js\"\nexport * from \"./runnersilent.vue?vue&type=script&lang=js\"\nimport style0 from \"./runnersilent.vue?vue&type=style&index=0&id=63e65a5a&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {Exerciseanimationprogress: require('/Users/francescolotruglio/Lavori/VoiceMed/VoiceMedSdk-Sources/voicemed-layoutsdk/components/exerciseanimationprogress.vue').default,Infodialog: require('/Users/francescolotruglio/Lavori/VoiceMed/VoiceMedSdk-Sources/voicemed-layoutsdk/components/infodialog.vue').default,FullpageCard: require('/Users/francescolotruglio/Lavori/VoiceMed/VoiceMedSdk-Sources/voicemed-layoutsdk/components/fullpage-card.vue').default})\n"],"sourceRoot":""}