{"version":3,"sources":["webpack:///./pages/ml/exerciseexecutor/survey.vue","webpack:///./pages/ml/exerciseexecutor/survey.vue?1097","webpack:///./pages/ml/exerciseexecutor/survey.vue?d6b8"],"names":["name","mixins","basepage","data","survey","progress","total","current","replies","next","prev","tags","finish","success","challenges","requested","list","challengeprogress","exid","this","$route","params","id","programid","fromprogram","withindex","backto","exerciseThumb","loaded","ended","transition","mode","css","beforeEnter","el","$anime","set","scale","opacity","enter","done","targets","duration","easing","complete","leave","document","body","classList","remove","watch","_this","console","log","$set","cQuestion","getCurrentExercise","questionnaire","questions","isScreen","type","isText","_options","options","find","v","key","tag","computed","_objectSpread","mapGetters","getCurrentUser","getExercises","isCurrentUserGuest","welcomeImage","_welcomeImage","challengeImage","_challengeImage","currentCardType","length","_q","overprogress","exercise","methods","mapActions","setCurrentExerciseIndex","setCurrentExerciseById","setCurrentUser","setIsGuest","addDoneExercise","setCurrentExerciseByData","checkOptionTag","option","repliedQuestion","prevStep","pop","exitClick","nextStep","_this2","push","preserveNext","completed","$root","$emit","$nextTick","suffix","buildSuffix","$router","$nuxt","localePath","passed","additionalData","questionnaireAnswers","questionnaireTags","Object","keys","forEach","questionIndex","tmpQ","parseInt","reply","item","_found","$exerciseManager","completeExercise","then","r","response","$t","catch","e","error","$captureException","$analytics","logEvent","finally","hasretry","title","leaveBtn","click","startAgain","resetEvent","exerciseStepBack","program_id","querySelector","add","init","Array","isArray","warn","handleBack","retrieveCurrentExerciseAndSet","_this3","hasJoinedProgramById","_joinProgram","getProgramById","exercises","filter","i","program_index","mounted","_this4","window","testPP","$capacitor","isNativePlatform","$backEmitter","callback","hasNext","hasInfo","hasBack","show","startExercise","setScreenName","beforeDestroy","component","_vm","_c","_self","class","scopedSlots","_u","fn","staticClass","_v","_s","toFixed","attrs","proxy","model","value","$$v","expression","_l","question","idx","_e","_defineProperty","on","$event","domProps","text","thumbnail","screenContent","nuxtloading","installComponents","FullpageCard","default"],"mappings":"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","file":"75e0b42.js","sourcesContent":["\nimport basepage from \"~/mixins.js/exercisepage\";\nimport {mapActions, mapGetters} from 'vuex'\nimport {Wave} from \"@foobar404/wave\";\n\nexport default {\n  name: 'surveyPlayer',\n  mixins: [basepage],\n  data() {\n    return {\n      survey: {\n        progress: 0,\n        total: 0,\n        current: 0,\n        replies: {},\n        next: -1,\n        prev: [],\n        tags: {}\n      },\n      finish: false,\n      success: false,\n      challenges: {\n        requested: false,\n        list: [],\n        challengeprogress: 0\n      },\n      exid: (this.$route.params.id),\n      programid: (this.$route.params.fromprogram || false),\n      withindex: (this.$route.params.withindex || false),\n      backto: (this.$route.params.backto || false),\n      name: \"postPlayer\",\n      exerciseThumb: null,\n      loaded: false,\n      ended: false,\n    }\n  },\n  transition: {\n    name: 'fade',\n    mode: 'out-in',\n    css: false,\n    beforeEnter(el) {\n      this.$anime.set(el, {\n        scale: 1,\n        opacity: 0\n      })\n    },\n    enter(el, done) {\n      this.$anime({\n        targets: el,\n        opacity: [0, 1],\n        duration: 500,\n        easing: 'easeInOutSine',\n        complete: done\n      })\n    },\n    leave(el, done) {\n      this.$anime({\n        targets: el,\n        opacity: [1, 0],\n        duration: 500,\n        easing: 'easeInOutSine',\n        complete: done\n      });\n      document.body.classList.remove('bodyblock')\n    }\n  },\n  /*\n  beforeRouteLeave(_to, _from, next) {\n\n  },*/\n  watch: {\n    \"survey.current\": function () {\n      console.log('change current Question');\n      this.survey.next = -1; //Reset next on each change\n      if (this.survey.current === 0) {\n        this.$set(this.survey, 'prev', []);\n      }\n      const cQuestion = this.getCurrentExercise.questionnaire.questions[this.survey.current];\n      if (cQuestion) {\n        let isScreen = (cQuestion.type && (cQuestion.type === 'screen')) ? true : false;\n        let isText = (cQuestion.type && (cQuestion.type === 'open' || cQuestion.type === 'openext')) ? true : false;\n\n        if (this.survey.replies[this.survey.current]) {\n          //Check if there is a reply, if yes, ensure next & tag:\n          if (isScreen) {\n            this.survey.replies[this.survey.current] = true;\n          } else if(isText){\n            //Dont' touch value\n          } else {\n            const _options = cQuestion.options.find((v) => v.key === this.survey.replies[this.survey.current]);\n            console.log('got picked option', _options);\n            if (_options.next) {\n              this.survey.next = _options.next;\n            }\n            if (_options.tag) {\n              this.survey.tags[this.survey.current] = _options.tag;\n            }\n          }\n        }\n        if ((isScreen||isText) && cQuestion.next) {\n          this.survey.next = cQuestion.next\n        }\n      }\n    }\n  },\n  computed: {\n    ...mapGetters({\n      getCurrentUser: 'getCurrentUser',\n      getExercises: 'getExercises',\n      getCurrentExercise: 'getCurrentExercise',\n      isCurrentUserGuest: 'isCurrentUserGuest'\n    }),\n    welcomeImage() {\n      return _welcomeImage;\n    },\n    challengeImage() {\n      return _challengeImage;\n    },\n\n    currentCardType() {\n      if (!this.getCurrentExercise) {\n        return null\n      }\n      if (!this.getCurrentExercise.questionnaire) {\n        return null;\n      }\n      if (this.survey.current >= this.getCurrentExercise.questionnaire.length) {\n        return null;\n      }\n      const _q = this.getCurrentExercise.questionnaire.questions[this.survey.current];\n      if (_q && _q.type) {\n        return _q.type;\n      }\n      return \"radio\"\n    },\n    overprogress() {\n      return this.survey.current / this.survey.total * 100;\n    },\n    exercise() {\n      return this.getCurrentExercise\n    },\n  },\n  methods: {\n    ...mapActions({\n      setCurrentExerciseIndex: 'setCurrentExerciseIndex',\n      setCurrentExerciseById: 'setCurrentExerciseById',\n      setCurrentUser: 'setCurrentUser',\n      setIsGuest: 'setIsGuest',\n      addDoneExercise: 'addDoneExercise',\n      setCurrentExerciseByData: 'setCurrentExerciseByData',\n    }),\n\n    checkOptionTag(option) {\n      console.log('got option pick:', option);\n      if (option.tag) {\n        this.survey.tags[this.survey.current] = option.tag;\n      } else {\n        this.survey.tags[this.survey.current] = false;\n      }\n      if (option.next) {\n        this.survey.next = option.next\n      } else {\n        this.survey.next = -1\n      }\n    },\n    repliedQuestion() {\n      const cQuestion = this.getCurrentExercise.questionnaire.questions[this.survey.current];\n      if (cQuestion) {\n        let isScreen = (cQuestion.type && (cQuestion.type === 'screen')) ? true : false;\n        if (isScreen) {\n          //Screen question never block flow\n          return false;\n        }\n      }\n      if (typeof this.survey.replies[this.survey.current] === \"undefined\") {\n        return true\n      }\n      return false;\n    },\n    prevStep() {\n      if (this.survey.prev.length > 0) {\n        this.survey.current = this.survey.prev.pop();\n        return;\n      }\n      if (this.survey.current > 0) {\n        this.survey.current -= 1;\n        return\n      }\n      this.exitClick();\n    },\n    nextStep() {\n      this.survey.prev.push(this.survey.current);\n      console.log('ready to move Next', this.survey.next)\n      if(this.survey.next !== -2) {\n        if (this.survey.next > -1 && this.survey.next <= this.survey.total - 1) {\n          //Set current as index in next:\n          console.log('check passed', this.survey.next)\n          if (this.currentCardType === 'screen') {\n            this.survey.replies[this.survey.current] = true;\n          }\n          const preserveNext = this.survey.next;\n          console.log('set next as ', preserveNext)\n          this.survey.current = preserveNext;\n          return;\n        }\n\n        if (this.survey.current < this.survey.total - 1) {\n          this.survey.current += 1;\n          return;\n        }\n      }\n\n      if (this.isCurrentUserGuest) {\n        this.getCurrentExercise.completed = true;\n        this.$root.$emit('completedExercise', this.getCurrentExercise);\n        this.$nextTick(() => {\n          this.$root.$emit('showPager', {\"show\": false});\n          let suffix = this.buildSuffix();\n          if(suffix.length>0) {\n            suffix = \"/\" + suffix\n          }\n          this.$router.push($nuxt.localePath(\"/ml/greetings/\" + this.exid + suffix));\n        });\n        return;\n      }\n\n      let passed = false;\n      const additionalData = {\n        questionnaireAnswers: {},\n        questionnaireTags: {}\n      }\n      Object.keys(this.survey.replies).forEach((questionIndex) => {\n        let tmpQ = this.getCurrentExercise.questionnaire.questions[parseInt(questionIndex)];\n        if (!tmpQ) {\n          return;\n        }\n        if (tmpQ.type === 'open' || tmpQ.type === 'openext') {\n          additionalData.questionnaireAnswers[questionIndex] = (this.survey.replies[questionIndex])\n        } else if (tmpQ.type === 'screen') {\n          additionalData.questionnaireAnswers[questionIndex] = (true)\n        } else {\n          const reply = tmpQ.options.find((item) => item.key == this.survey.replies[questionIndex])\n          if (reply) {\n            additionalData.questionnaireAnswers[questionIndex] = (reply)\n          } else {\n            //If question was skipped...\n            additionalData.questionnaireAnswers[questionIndex] = (null);\n          }\n        }\n      })\n\n\n      Object.keys(this.survey.tags).forEach((questionIndex) => {\n        let tmpQ = this.survey.tags[questionIndex]\n        if (!tmpQ) {\n          return;\n        }\n        let _found = typeof additionalData.questionnaireTags[tmpQ] !== 'undefined' ? additionalData.questionnaireTags[tmpQ] : 0;\n        _found += 1;\n        additionalData.questionnaireTags[tmpQ] = _found;\n      })\n\n      console.log('ready to send quest replies', additionalData.questionnaireAnswers, additionalData.questionnaireTags);\n      this.$exerciseManager.completeExercise(this.getCurrentExercise, null, null, additionalData).then((r) => {\n        console.log('got record result', r);\n        if (r.exercise && r.response && r.exercise.completed) {\n          passed = true;\n          this.getCurrentExercise.completed = r.exercise.completed;\n        } else {\n          passed = $nuxt.$t('errors.global.msg_restapi');\n        }\n      }).catch((e) => {\n        console.error(\"Errore invio api [breathing_exercises_video]:\", e);\n        this.$captureException(e);\n        passed = $nuxt.$t('errors.global.title');\n        this.$analytics.logEvent(\"error\", {\n          \"title\": 'cannot send exercise video'\n        });\n      }).finally(() => {\n        if (passed === true) {\n          this.addDoneExercise(1);\n          this.$nextTick(() => {\n            this.$root.$emit('showPager', {\"show\": false});\n            let suffix = this.buildSuffix();\n            if(suffix.length>0) {\n              suffix = \"/\" + suffix\n            }\n            this.$router.push($nuxt.localePath(\"/ml/greetings/\" + this.exid + suffix));\n          });\n        } else {\n          //Show Error?\n          this.$root.$emit('showError', {\n            hasretry: true,\n            title: \"Uh-oh!<br/>\",\n            error: passed,\n            leaveBtn: this.$t('generic.startanyway'),\n            click: () => {\n              this.startAgain();\n              return true;\n            },\n            resetEvent: function () {\n              this.exerciseStepBack()\n              return true;\n            }\n          });\n        }\n      });\n    },\n    exitClick() {\n      this.$analytics.logEvent('exercise_quit', {\n        \"id\": this.getCurrentExercise.id,\n        \"name\": this.getCurrentExercise.title,\n        \"program_id\": this.getCurrentExercise.program_id || null,\n        \"type\": this.getCurrentExercise.type,\n      })\n      if (document.querySelector('#__nuxt')) {\n        document.querySelector('#__nuxt').classList.add('quit');\n      }\n      this.exerciseStepBack()\n    },\n    init: function () {\n      console.log('ready for exercise..', this.getCurrentExercise)\n      if (this.getCurrentExercise.questionnaire.questions && Array.isArray(this.getCurrentExercise.questionnaire.questions)) {\n        this.survey.total = this.getCurrentExercise.questionnaire.questions.length;\n        this.survey.progress = 0;\n        this.survey.current = 0;\n        this.survey.next = -1;\n        this.survey.prev = [];\n        this.loaded = true\n      } else {\n        this.$root.$emit('showToast', $nuxt.$t('errors.global.msg_noquestions'), 'error');\n        console.warn('cannot find exercise ', this.exid);\n        this.exerciseStepBack()\n      }\n    },\n    handleBack() {\n      console.log('got backbutton');\n      this.prevStep()\n    },\n    retrieveCurrentExerciseAndSet() {\n      if (this.hasJoinedProgramById(this.programid)) {\n        const _joinProgram = this.getProgramById(this.programid);\n        if (this.withindex > -1) {\n          const list = _joinProgram.exercises.filter((i) => i.id === this.exid && i.program_index == this.withindex);\n          if (list.length > 0) {\n            this.setCurrentExerciseByData(list[0])\n          }\n        } else {\n          this.setCurrentExerciseByData(null)\n        }\n      } else {\n        this.setCurrentExerciseById(this.exid);\n      }\n    }\n  },\n  mounted() {\n    window.testPP = this;\n    if (this.$capacitor && this.$capacitor.isNativePlatform()) {\n      this.$backEmitter.callback = this.handleBack;\n    }\n    if (this.exid) {\n      this.retrieveCurrentExerciseAndSet();\n      if (this.getCurrentExercise) {\n        console.log(this.getCurrentExercise);\n        this.init()\n      } else {\n        console.warn('cannot find exercise ', this.exid);\n        this.exerciseStepBack()\n      }\n      this.$nextTick(() => {\n        this.name = \"surveyPlayer\";\n        this.hasNext = false;\n        this.hasInfo = false;\n        this.hasBack = false;\n        this.$root.$emit('showPager', {show: false});\n        this.$root.$emit('showOverlay', {show: false});\n        this.$analytics.logEvent('exercise_reading', {\n          \"id\": this.getCurrentExercise.id,\n          \"name\": this.getCurrentExercise.title,\n          \"program_id\": this.getCurrentExercise.program_id || null,\n          \"program_name\": this.hasJoinedProgramById(this.getCurrentExercise.program_id) ?\n            this.getProgramById(this.getCurrentExercise.program_id).name : null,\n          \"type\": this.getCurrentExercise.type,\n        })\n        this.$exerciseManager.startExercise(this.getCurrentExercise);\n        this.$analytics.setScreenName(this.getCurrentExercise.title + \" survey page\");\n      });\n    } else {\n      console.warn('cannot find exercise[2] ', this.exid);\n      this.exerciseStepBack()\n    }\n  },\n  beforeDestroy: function () {\n    if (this.$capacitor && this.$capacitor.isNativePlatform()) {\n      console.log('remove backbutton');\n      this.$backEmitter.callback = null\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./survey.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./survey.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./survey.vue?vue&type=template&id=46fd325e\"\nimport script from \"./survey.vue?vue&type=script&lang=js\"\nexport * from \"./survey.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {FullpageCard: require('/Users/francescolotruglio/Lavori/VoiceMed/VoiceMedSdk-Sources/voicemed-layoutsdk/components/fullpage-card.vue').default})\n"],"sourceRoot":""}