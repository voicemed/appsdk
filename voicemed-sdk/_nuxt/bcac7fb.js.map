{"version":3,"sources":["webpack:///./pages/ml/exerciseexecutor/runner.vue?9824","webpack:///./pages/ml/exerciseexecutor/runner.vue?8cf8","webpack:///./pages/ml/exerciseexecutor/runner.vue","webpack:///./pages/ml/exerciseexecutor/runner.vue?44b9","webpack:///./pages/ml/exerciseexecutor/runner.vue?f0a0","webpack:///./mixins.js/basepage.js","webpack:///./components/infodialog.vue?a773","webpack:///./components/infodialog.vue","webpack:///./components/infodialog.vue?c289","webpack:///./components/countdown.vue","webpack:///./components/countdown.vue?cd31","webpack:///./components/countdown.vue?6c73","webpack:///./components/exerciseanimationprogress.vue","webpack:///./components/exerciseanimationprogress.vue?fb08","webpack:///./components/exerciseanimationprogress.vue?ee9d","webpack:///./assets/images/sine.svg","webpack:///./assets/images/errorwifi.png","webpack:///./assets/images/error_execution.png","webpack:///./assets/images/error_mic.png","webpack:///./assets/images/error_noise.png","webpack:///./assets/images/error_wifi.png","webpack:///./assets/images/error_10014.png","webpack:///./assets/images/error_10016.png","webpack:///./assets/images/error_10019.png","webpack:///./pages/ml/exerciseexecutor/runner.vue?6661","webpack:///./components/inputmicrophone.vue","webpack:///./components/inputmicrophone.vue?c6e8","webpack:///./components/inputmicrophone.vue?a022","webpack:///./components/inputmicrophonebig.vue","webpack:///./components/inputmicrophonebig.vue?278e","webpack:///./components/inputmicrophonebig.vue?8e1f","webpack:///./components/completitionfailed.vue","webpack:///./components/completitionfailed.vue?703f","webpack:///./components/completitionfailed.vue?b968"],"names":["___CSS_LOADER_API_IMPORT___","___CSS_LOADER_GET_URL_IMPORT___","___CSS_LOADER_URL_IMPORT_0___","___CSS_LOADER_EXPORT___","i","___CSS_LOADER_URL_REPLACEMENT_0___","push","module","locals","exports","breathInDelay","errorMapping","name","mixins","basepage","components","Quitexercisedialog","CountDownItem","beforeRouteLeave","to","from","next","this","$closeStream","data","audioLevels","peakLevel","averageLevel","deviceInfo","showErrorData","errorMappedCode","errorTries","amplitude","average","audioInput","intervals","delay","delayTime","preload","exid","$route","params","id","programid","fromprogram","withindex","backto","currentExerciseTime","sendHistory","blob","summary","current","duration","elapsed","about","show","computed","_objectSpread","mapGetters","getCurrentUser","getExercises","getCurrentExercise","isCurrentUserGuest","localCurrentUser","$nuxt","$config","env","environment","indexOf","$useractions","retrieveMeta","delayBreathTime","exercise","exercises","computedDuration","Array","isArray","reduce","carry","exe","exercisescount","length","exercisescountReal","filter","e","pause","currentExercise","nextExercise","timestring","Date","totalRunningTime","toISOString","substr","remainingString","_ret","estimatedDuration","overallRemainingString","totalTimeMs","currentPercent","cycle","perc","currentUploadProgress","uploadProgress","totalTime","item","nuxtloading","$loading","loading","watch","_this","iteration","durationMs","methods","mapActions","addDoneExercise","updateExercise","holdEnd","_this2","$refs","stepcountdown","abort","currentProgress","currentTime","recordingPhasesDuration","getTime","realCurrent","currentRemaining","getExercisePhaseDuration","_toConsumableArray","document","querySelectorAll","forEach","classList","remove","requestAnimationFrame","manageExercise","finish","finishExercise","convertMsHHMMSS","val","hhmmss","timerChange","progress","_this3","exDurationMs","exDuration","interval","$forceNextTick","end","totalSeconds","totalMilliseconds","_percent","overallProgress","finishDelay","_this4","$anime","targets","opacity","easing","complete","$nextTick","startRealExercise","timerEnd","enddata","_this5","leaveMe","_this6","exercisequit","open","map","clearTimeout","$analytics","logEvent","title","program_id","type","$capacitor","isNativePlatform","start","$airlyn","removeAllListeners","stopRecording","finally","$gtag","querySelector","add","exerciseStepBack","audio","audioRecorder","stop","getRotation","index","imageError","phasebutton","phaseimage","require","prevStep","_this7","closeInfo","$router","back","nextStep","$root","$emit","suffix","buildSuffix","localePath","_this8","timeEnd","mergeAnimation","Object","assign","loop","begin","$animationHelper","pulse","completeError","withData","errorCode","parseInt","errorPanel","setTimeout","link","getElementById","downloadLastRecord","_this9","fileName","$exerciseManager","formatDateYmd","$writePublicBlob","then","r","$t","catch","completeRetry","startExercises","sendRecord","exerciseSummary","_this10","_userID","retrieveID","passed","recordResponse","file","File","lastModified","now","currentUser","meta","completeExercise","loaded","total","response","completed","$captureException","sendRecordOld","_this11","Promise","resolve","reject","url","window","URL","webkitURL","createObjectURL","href","download","click","gotData","buffers","_this12","exportMonoWAV","exerciseValue","exerciseStarts","timeStart","exerciseEnds","pauseTime","timePauseGap","totalComputedDuration","clientPhases","waveMime","waveDuration","_this13","resumeRecording","elapsedTime","timePauseStart","hasretry","error","resetEvent","openInfoDialog","pauseRecording","_this15","value","_this16","_this17","keys","v","msDuration","mimeType","$base64ToBlob","recordDataBase64","manageMicError","getBuffers","isMs","arguments","undefined","subtype","Math","min","maxSetDuration","_this18","restart","currentExDuration","animationType","animation","startTimer","_this19","timer","_this20","setScreenName","startExercise","overallRemaining","$set","_this21","checkMicPerm","result","setupAll","exception","initMicrophone","stream","inputPoint","audioContext","createGain","realAudioInput","createMediaStreamSource","connect","disconnect","convertToMono","$Recorder","worker","$worker","createRecorderWorker","clear","record","input","splitter","createChannelSplitter","merger","createChannelMerger","_this22","addListener","info","peakPower","averagePower","deviceMicMultiplier","getPlatform","startRecording","$enumerateMediaDevices","mediaDevices","$initAudio","AudioContext","mounted","_this23","replace","maxH","max","offsetHeight","clientHeight","scrollHeight","style","height","$deviceInfo","getInfoObject","_uuid","currentUUID","deviceId","deviceFamily","platform","osVersion","manufacturer","overrideTester","component","_vm","_c","_self","staticClass","attrs","scopedSlots","_u","key","fn","on","showQuitDialog","_v","domProps","_s","_e","staticStyle","class","thumb","_l","ex","description","proxy","ceil","cycles","model","callback","$$v","expression","getElapsed","ref","aboutImage","thumbnail","$event","resetQuitDialog","installComponents","Inputmicrophone","default","Inputmicrophonebig","Exerciseanimationprogress","Infodialog","Completitionfailed","FullpageCard","transition","mode","css","beforeEnter","el","contains","startPoint","set","scale","translateX","enter","done","leave","translateY","afterLeave","hasBack","hasNext","hasInfo","updateExternalLink","getCurrentPagerHeight","isVoicemed","isAirlyn","defaultHomeUrl","setCurrentPage","setCurrentPagerHeight","confirmQuitDialog","closeExercise","suffixes","programCheck","join","hasJoinedProgramById","$store","getters","getProgramJoinedAtById","getProgramById","getOverallProgressProgramById","getDoneCountByProgramId","getNextExerciseByProgramId","getExercisetocompleteCountProgramById","getExercisecompletedCountProgramById","printDeviceError","prefix","clickEvent","toLowerCase","state","showError","printDeviceErrorOLD","openPermissionPanel","retryBtn","manageCamError","manageMicCamError","swipeEvent","attachSwipeListener","addEventListener","detachSwipeListeners","removeEventListener","fixWindowVariables","variable","top","consumeExternalLink","stopPropagation","preventDefault","_href","target","getAttribute","innerText","$browser","_anchor","_url","beforeMount","beforeDestroy","updated","dynamicTexts","text","$appConfiguration","getText","props","String","contentclasses","infoImage","showSuperTitle","Boolean","thumbInTitle","showDialog","closeClick","_t","EVENT_ABORT","EVENT_PROGRESS","EVENT_START","EVENT_VISIBILITY_CHANGE","Number","timerLength","reverse","Function","emits","EVENT_END","counting","requestId","endTime","floor","$props","deep","immediate","handler","handleVisibilityChange","beforeUnmount","visibilityState","continue","init","prev","step","range","cancelAnimationFrame","update","exerciseSteps","startPercent","doneClass","maxPercent","runningPercent","primaryColor","content","__esModule","bar1","bar2","bar3","threshold","currentAverage","round","currentAmplitude","bars","maxBars","fullValue","random","b","idx","_errorImage","_errorExecution","_errorMic","_errorNoise","_errorWifi","_error10014","_error10016","_error10019","tries","phase","warnpopup","canDownloadAudio","errorImage","errorTitle","errorMessage","requestDownload","closeAnyWay","nextClick"],"mappings":"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","file":"bcac7fb.js","sourcesContent":["export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--3-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??ref--3-oneOf-1-2!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./runner.vue?vue&type=style&index=0&id=14aa5949&prod&lang=css\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"../../../assets/images/sine.svg\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(function(i){return i[1]});\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".sine_merger{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \")}\", \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {};\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","\nimport basepage from \"~/mixins.js/basepage\";\nimport CountDownItem from \"~/components/countdown\";\nimport {mapActions, mapGetters} from 'vuex'\nimport Quitexercisedialog from \"~/components/quitexercisedialog.vue\";\n\nconst breathInDelay = 3000;\n\nconst titleFromCenter = {\n  targets: \"#exerciseTitle\",\n  translateY: ['+200%', '0%'],\n  opacity: [0, 1],\n  easing: 'easeInOutQuad',\n  duration: 500\n};\nconst titleExit = {\n  targets: \"#exerciseTitle\",\n  opacity: [1, 0],\n  easing: 'easeInOutQuad',\n  duration: 100\n};\n\nconst errorMapping = {\n  /*se vuoi error_restapi o non trovato*/\n  10010: \"incorrect_execution\", /*Generic error*/\n  10011: \"no_audio\", /*Audio file is empty*/\n  10012: \"no_audio\", /*Audio file is flat*/\n  10013: \"incorrect_execution\", /*Sampling rate does not match the requirement: 44.1 kHz*/\n  10014: \"error_10014\", /*Requested sounds have not been detected*/\n  10015: \"\", /*not in use, generic error*/\n  10016: \"error_10016\", /*not in use, generic error*/\n  10017: \"too_noise\", /*Recording environment is too noisy*/\n  10018: \"no_audio\", /*Microphones hole was covered*/\n  10019: \"error_10019\", /*not in use, generic error*/\n  10020: \"error_10020\", /*not in use, generic error*/\n  10021: \"\", /*not in use, generic error*/\n  10022: \"\", /*not in use, generic error*/\n  10023: \"\", /*not in use, generic error*/\n  10024: \"\", /*not in use, generic error*/\n  10025: \"\", /*not in use, generic error*/\n  10026: \"\", /*not in use, generic error*/\n  10027: \"\", /*not in use, generic error*/\n  10028: \"\", /*not in use, generic error*/\n  10029: \"\", /*not in use, generic error*/\n\n}\n\n\nexport default {\n  name: 'ml_exercise',\n  mixins: [basepage],\n  components: {\n    Quitexercisedialog,\n    CountDownItem\n  },\n  beforeRouteLeave(to, from, next) {\n    this.$closeStream();\n    next();\n  },\n  data() {\n    return {\n      audioLevels: {\n        peakLevel: 0,\n        averageLevel: 0\n      },\n      deviceInfo: {},\n      showErrorData: false,\n      errorMappedCode: \"\",\n      errorTries: 0,\n      amplitude: 0,\n      average: 0,\n      audioInput: {},\n      intervals: [],\n      delay: true,\n      delayTime: 0,\n      preload: true,\n      exid: (this.$route.params.id),\n      programid: (this.$route.params.fromprogram || false),\n      withindex: (this.$route.params.withindex || false),\n      backto: (this.$route.params.backto || false),\n      \"name\": \"ml_exercise\",\n      \"hasBack\": true,\n      \"hasNext\": false,\n      \"current\": -1,\n      \"realCurrent\": -1,\n      \"timer\": 0,\n      \"startCountdown\": 3,\n      \"finish\": false,\n      \"uploadProgress\": 0,\n      \"currentTime\": 0,\n      \"currentRemaining\": 0,\n      \"overallRemaining\": 0,\n      \"currentProgress\": 0,\n      currentExerciseTime: 0,\n      \"overallProgress\": 0,\n      \"totalRunningTime\": 0,\n      \"timeStart\": 0,\n      \"timeEnd\": 0,\n      \"timePauseStart\": 0,\n      \"timePauseGap\": 0,\n      \"estimatedDuration\": 0,\n      'audio': {\n        \"audioContext\": null,\n        \"audioInput\": null,\n        \"realAudioInput\": null,\n        \"inputPoint\": null,\n        \"audioRecorder\": null,\n        \"stereo\": false\n      },\n      sendHistory: {\n        blob: null,\n        summary: null,\n      },\n      'cycle': {\n        current: -1,\n        duration: 0,\n        elapsed: 0,\n      },\n      'recordingPhasesDuration': {},\n      'interval': 250,\n      about: {\n        show: false\n      },\n    }\n  },\n  computed: {\n    ...mapGetters({\n      getCurrentUser: 'getCurrentUser',\n      getExercises: 'getExercises',\n      getCurrentExercise: 'getCurrentExercise',\n      isCurrentUserGuest: 'isCurrentUserGuest'\n    }),\n    localCurrentUser() {\n      if ($nuxt.$config.env.environment.indexOf('library') > -1) {\n        return $nuxt.$useractions.retrieveMeta();\n      } else {\n        return this.getCurrentUser;\n      }\n    },\n    delayBreathTime() {\n      return breathInDelay\n    },\n    exercise() {\n      return this.getCurrentExercise\n    },\n    exercises() {\n      if (this.exercise) {\n        return this.exercise.exercises;\n      }\n      return [];\n    },\n    computedDuration() {\n      if (this.getCurrentExercise && Array.isArray(this.getCurrentExercise.exercises)) {\n        return this.getCurrentExercise.exercises.reduce((carry, exe) => {\n          return 0 + (exe.duration || 0);\n        }, 0);\n      }\n      return false;\n    },\n    /*\n    estimatedDuration() {\n      if (this.getCurrentExercise && this.getCurrentExercise.duration) {\n        return this.getCurrentExercise.duration;\n      }\n      if (this.getCurrentExercise && Array.isArray(this.getCurrentExercise.exercises)) {\n        return this.computedDuration;\n      }\n      return false\n    },\n    */\n    exercisescount: function () {\n      if (this.exercise) {\n        return this.exercise.exercises.length;\n      }\n      return 0;\n    },\n    exercisescountReal: function () {\n      if (this.exercise) {\n        return this.exercise.exercises.filter((e) => e.pause === false).length;\n      }\n      return 0;\n    },\n    currentExercise: function () {\n      if (this.current >= 0 && this.current < this.exercisescount) {\n        return this.exercise.exercises[this.current];\n      }\n      if (this.exercisescount > 0) {\n        return this.exercise.exercises[0];\n      }\n      return false;\n    },\n    nextExercise: function () {\n      if ((this.current + 1) >= 0 && (this.current + 1) < this.exercisescount) {\n        return this.exercise.exercises[this.current + 1];\n      }\n      return false;\n    },\n    timestring: function () {\n      return new Date(this.totalRunningTime).toISOString().substr(14, 5)\n    },\n    remainingString: function () {\n      const _ret = (this.estimatedDuration * 1000) - this.totalRunningTime;\n      return \"-\" + new Date(_ret).toISOString().substr(14, 5)\n    },\n    overallRemainingString: function () {\n      const _ret = (this.totalTimeMs) - (this.totalRunningTime + this.currentExerciseTime);\n      return \"-\" + new Date(_ret).toISOString().substr(14, 5)\n    },\n    currentPercent: function () {\n      /* CurrentCycle version */\n      if (this.cycle.duration <= 0) {\n        return 0;\n      }\n      if (this.cycle.elapsed + this.currentExerciseTime <= 0) {\n        return 0;\n      }\n      const perc = (this.cycle.elapsed + this.currentExerciseTime) / this.cycle.duration * 100;\n      if (perc > 100) {\n        return 100;\n      }\n      return perc;\n    },\n    /* Single exercise time\n    currentPercent: function () {\n      if (this.current < 0) {\n        return 0;\n      }\n      if (this.currentExerciseTime <= 0) {\n        return 0;\n      }\n      const perc = this.currentExerciseTime / this.currentExercise.durationMs * 100;\n      if (perc > 100) {\n        return 100;\n      }\n      return perc;\n    },\n    */\n    currentUploadProgress: function () {\n      const perc = (this.uploadProgress) * 100;\n      if (perc > 100) {\n        return 100;\n      }\n      return perc;\n    },\n    totalTime: function () {\n      return this.exercises.reduce(function (carry, item) {\n        return carry + item.duration;\n      }, 0);\n    },\n    totalTimeMs: function () {\n      return this.exercises.reduce(function (carry, item) {\n        return carry + ((item.duration > 0 ? item.duration : 0) * 1000);\n      }, 0);\n    },\n    nuxtloading() {\n      return $nuxt.$loading.loading\n    },\n  },\n  watch: {\n    'current': function () {\n      if (this.current >= 0) {\n        //console.log('check cycle', this.cycle);\n        const currentCycle = this.cycle.current;\n        if (currentCycle !== this.currentExercise.iteration) {\n          //console.log('new cycle', currentCycle);\n          this.cycle.current = this.currentExercise.iteration;\n          this.cycle.elapsed = 0;\n          this.cycle.duration = this.getCurrentExercise.exercises.reduce((carry, exe) => {\n            if (exe.iteration === this.cycle.current) {\n              return carry + exe.durationMs;\n            }\n            return carry;\n          }, 0);\n          //console.log('cycle inited', this.cycle)\n        }\n      }\n    }\n  },\n  methods: {\n    ...mapActions({\n      addDoneExercise: 'addDoneExercise',\n      updateExercise: 'updateExercise'\n    }),\n    holdEnd() {\n      //console.log('finish hold');\n      //this.$refs.stepcountdown.end();\n      this.$refs.stepcountdown.abort();\n      this.currentProgress = 0;\n      this.currentTime = 0;\n      this.totalRunningTime += this.currentExercise.durationMs; //Aggiungi la dimensione dell'esercizio alla somma;\n      this.cycle.elapsed += this.currentExercise.durationMs;\n      //this.$anime.remove('#exerciseTitle');\n      this.recordingPhasesDuration[this.current] = new Date().getTime() - this.recordingPhasesDuration[this.current];\n      //console.log('END EXERCISE check seconds: ', new Date().getTime() / 1000, this.recordingPhasesDuration[this.current]);\n      this.current++;\n      this.currentExerciseTime = 0;\n      if (this.currentExercise.pause === false) {\n        this.realCurrent++;\n      }\n\n      this.currentRemaining = this.getExercisePhaseDuration(false);\n\n      [...document.querySelectorAll('.faded')].forEach((item) => {\n        item.classList.remove('faded');\n      });\n      if (this.current < this.exercisescount) {\n        requestAnimationFrame(() => {\n          this.manageExercise();\n        })\n      } else {\n        this.uploadProgress = 0;\n        this.finish = true;\n        this.finishExercise();\n      }\n\n    },\n    convertMsHHMMSS(val) {\n      let hhmmss = new Date(val).toISOString().substr(11, 8)\n      return (hhmmss.indexOf('00:') === 0) ? hhmmss.substr(3) : hhmmss\n    },\n    timerChange(progress) {\n\n      const exDurationMs = this.getExercisePhaseDuration(true);\n      const exDuration = this.getExercisePhaseDuration(false);\n\n      if (this.delay === true) {\n        this.delayTime -= progress.interval;\n\n        if ((progress.elapsed + progress.interval) > exDurationMs) {\n          //console.log('Durata esercizio corrente > di duration', this.currentTime, this.currentExercise.durationMs);\n          //Invoke timer End?\n          this.$forceNextTick(() => {\n            this.$refs.stepcountdown.end();\n          });\n        }\n\n        return\n      }\n      this.currentExerciseTime += progress.interval;\n      /*console.log('check seconds: ', new Date().getTime() / 1000,\n        this.currentExercise.durationMs,\n        progress.totalMilliseconds,\n        progress.elapsed,\n        this.totalRunningTime,\n        this.currentExerciseTime\n      );\n       */\n      this.currentProgress = 100 - (progress.totalSeconds / exDuration * 100);\n      this.currentRemaining = progress.totalSeconds;\n      this.currentTime = (exDurationMs) - progress.totalMilliseconds; //Compute difference in ms since start\n      if (this.currentExercise.pause === false) {\n        //this.totalRunningTime += progress.interval; //sum interval step\n        const _percent = ((this.totalRunningTime + this.currentExerciseTime) / this.totalTimeMs * 100);\n        this.overallProgress = _percent > 100 ? 100 : _percent;\n      }\n      if ((progress.elapsed + progress.interval) > exDurationMs) {\n        //console.log('Durata esercizio corrente > di duration', this.currentTime, this.currentExercise.durationMs);\n        //Invoke timer End?\n        this.$forceNextTick(() => {\n          this.$refs.stepcountdown.end();\n        });\n      }\n    },\n    finishDelay() {\n      this.$refs.stepcountdown.end();\n      this.$anime({\n        targets: '.exercise_delay_info',\n        opacity: [1, 0],\n        duration: 500,\n        delay: 250,\n        easing: 'easeInOutQuad',\n        complete: () => {\n          this.delay = false;\n          this.$nextTick(() => {\n            this.startRealExercise();\n          });\n        }\n      });\n    },\n    timerEnd(enddata) {\n      if (this.delay === true) {\n        this.delayTime -= enddata.interval;\n        this.$forceNextTick(() => {\n          this.finishDelay();\n        })\n        return;\n      }\n      //console.log('check seconds: ', new Date().getTime() / 1000);\n      this.currentProgress = 0;\n      this.currentTime = 0;\n      this.totalRunningTime += this.currentExercise.durationMs; //Aggiungi la dimensione dell'esercizio alla somma;\n      this.cycle.elapsed += this.currentExercise.durationMs;\n      //this.$anime.remove('#exerciseTitle');\n      this.recordingPhasesDuration[this.current] = new Date().getTime() - this.recordingPhasesDuration[this.current];\n      //console.log('END EXERCISE check seconds: ', new Date().getTime() / 1000, this.recordingPhasesDuration[this.current]);\n      this.current++;\n      this.currentExerciseTime = 0;\n      if (this.currentExercise.pause === false) {\n        this.realCurrent++;\n      }\n\n      this.currentRemaining = this.getExercisePhaseDuration(false);\n\n      [...document.querySelectorAll('.faded')].forEach((item) => {\n        item.classList.remove('faded');\n      });\n      if (this.current < this.exercisescount) {\n        requestAnimationFrame(() => {\n          this.manageExercise();\n        })\n      } else {\n        this.uploadProgress = 0;\n        this.finish = true;\n        this.finishExercise();\n      }\n    },\n    leaveMe() {\n      this.exercisequit.open = false;\n      this.intervals.map((interval) => {\n        try {\n          clearTimeout(interval)\n        } catch (e) {\n        }\n      });\n\n      this.$analytics.logEvent('exercise_quit', {\n        \"id\": this.getCurrentExercise.id,\n        \"name\": this.getCurrentExercise.title,\n        \"program_id\": this.getCurrentExercise.program_id || null,\n        \"type\": this.getCurrentExercise.type,\n      })\n      this.$refs.stepcountdown.abort();\n      //Se stai registrando devi interrompere tutto.\n      if (this.$capacitor.isNativePlatform()) {\n        this.$nuxt.$loading.start();\n\n        $nuxt.$airlyn.removeAllListeners();\n        this.$airlyn.stopRecording().finally(() => {\n          this.$nuxt.$loading.finish();\n          this.$gtag('event', 'click', {\n            'event_label': 'StopRecording',\n            'event_category': 'Exercises',\n            'non_interaction': true\n          })\n          if (document.querySelector('#__nuxt')) {\n            document.querySelector('#__nuxt').classList.add('quit');\n          }\n          this.exerciseStepBack()\n        })\n      } else {\n        this.$closeStream();\n        if (this.audio && this.audio.audioRecorder) {\n          this.audio.audioRecorder.stop();\n        }\n        this.$gtag('event', 'click', {\n          'event_label': 'StopRecording',\n          'event_category': 'Exercises',\n          'non_interaction': true\n        })\n        if (document.querySelector('#__nuxt')) {\n          document.querySelector('#__nuxt').classList.add('quit');\n        }\n        this.exerciseStepBack()\n      }\n\n\n    },\n    getRotation(index) {\n      if (index === 0) {\n        return \"transform:rotate(0deg);\";\n      }\n      //Get deg for position\n      const angles = 360 / (this.exercisescount) * (index);\n      return \"transform:rotate(\" + angles + \"deg);\";\n    },\n    imageError() {\n      this.phasebutton.phaseimage = require(\"~/assets/images/errorlogo.png\");\n    },\n    prevStep() {\n\n      if (this.about.show) {\n        this.closeInfo();\n        return;\n      }\n\n      this.intervals.map((interval) => {\n        try {\n          clearTimeout(interval)\n        } catch (e) {\n        }\n      });\n\n      this.$refs.stepcountdown.abort();\n      //Se stai registrando devi interrompere tutto.\n      if (this.$capacitor.isNativePlatform()) {\n        this.$nuxt.$loading.start();\n        this.$airlyn.stopRecording().finally(() => {\n          this.$nuxt.$loading.finish();\n          this.$router.back();\n          this.$gtag('event', 'click', {\n            'event_label': 'StopRecording',\n            'event_category': 'Exercises',\n            'non_interaction': true\n          })\n        })\n      } else {\n        this.$closeStream();\n        if (this.audio && this.audio.audioRecorder) {\n          this.audio.audioRecorder.stop();\n        }\n        this.$router.back();\n        this.$gtag('event', 'click', {\n          'event_label': 'StopRecording',\n          'event_category': 'Exercises',\n          'non_interaction': true\n        })\n      }\n\n\n    },\n    nextStep() {\n      this.$root.$emit('showPager', {\"show\": false});\n      let suffix = this.buildSuffix();\n      if (suffix.length > 0) {\n        suffix = \"/\" + suffix\n      }\n      this.$router.push($nuxt.localePath(\"/ml/greetings/\" + this.exid + suffix));\n    },\n    finishExercise() {\n      requestAnimationFrame(() => {\n        $nuxt.$loading.start();\n      });\n      this.timeEnd = new Date().getTime();\n      this.$anime.remove('.breath_item');\n      if (document.querySelector(\"div.breath_item\")) {\n        document.querySelector(\"div.breath_item\").classList.remove('animating');\n      }\n      //Stop recording\n      this.stopRecording();\n      this.$nextTick(() => {\n        const mergeAnimation = Object.assign({\n          targets: '.breath_item',\n          loop: false,\n          /*easing: 'easeInOutQuad',*/\n          duration: 3000,\n          begin: function () {\n            if (document.querySelector(\"div.breath_item\")) {\n              document.querySelector(\"div.breath_item\").classList.add('animating');\n            }\n          },\n          complete: function () {\n            if (document.querySelector(\"div.breath_item\")) {\n              document.querySelector(\"div.breath_item\").classList.remove('animating');\n            }\n          }\n        }, this.$animationHelper.pulse);\n        this.$anime(mergeAnimation);\n      });\n    },\n    completeError(withData) {\n      console.log('show new error panels with info', withData);\n      let errorCode = 0;\n      let statusCode = 0;\n      if (withData && typeof withData !== 'undefined' && withData !== null) {\n        if (typeof withData['statusCode'] !== 'undefined') {\n          statusCode = parseInt(withData['statusCode']);\n        }\n        if (typeof withData['breathingServiceSoundCode'] !== 'undefined') {\n          errorCode = parseInt(withData['breathingServiceSoundCode']);\n        }\n      }\n      if (errorCode > 10029) {\n        //Codice di successo, ritorna.. (in futuro\n      }\n      let errorPanel = typeof errorMapping[errorCode] !== 'undefined' ? errorMapping[errorCode] : \"\";\n      if (errorPanel.length <= 0) {\n        errorPanel = \"error_restapi\";\n      }\n      this.errorMappedCode = errorPanel\n      console.log('show new error panels with info', errorCode, statusCode);\n      this.showErrorData = true;\n      this.$nextTick(() => {\n        setTimeout(() => {\n          console.log('Error downloader show');\n          var link = document.getElementById(\"error_downloader\");\n          /*\n          var url = (window.URL || window.webkitURL).createObjectURL(this.sendHistory.blob);\n          link.href = url;\n          link.download = 'output_exercise.wav';\n           */\n          if (link) {\n            link.classList.remove(\"hidden\");\n          }\n        }, 500);\n      })\n    },\n    downloadLastRecord() {\n      console.log('retry request download last blob....');\n      //this.$root.$emit('showToast', this.$t('generic.registrationstoredindocuments'), 'success');\n      try {\n        const now = this.$exerciseManager.formatDateYmd(new Date());\n        const fileName = 'recording_' + now + '.wav';\n        this.$writePublicBlob(this.sendHistory.blob, fileName).then((r) => {\n          console.warn(\"RES di download\", r);\n          this.$root.$emit('showToast', this.$t('generic.registrationstoredindocuments', {\"file\": fileName}), 'success');\n        }).catch((e) => {\n          console.error(\"Errore di download\", e);\n          this.$root.$emit('showToast', this.$t('generic.registrationstoredindocuments_error'), 'error');\n        })\n        console.log('download sent to instance');\n      } catch (e) {\n        console.error(\"Errore di download\", e);\n        this.$root.$emit('showToast', this.$t('generic.registrationstoredindocuments_error'), 'error');\n      }\n    },\n    completeRetry() {\n      if (this.getCurrentExercise) {\n        //Verifica il codice di errore:\n        if (typeof this.getCurrentExercise['breathingServiceSoundCode'] !== 'undefined') {\n          let errorCode = parseInt(this.getCurrentExercise['breathingServiceSoundCode']);\n          if (errorCode < 10029) {\n            //Rifai l'intero esercizio:\n            this.showErrorData = false;\n            this.startExercises();\n            return;\n          }\n        }\n      }\n      this.errorTries += 1;\n      this.showErrorData = false;\n      this.sendRecord(this.sendHistory.blob, this.sendHistory.summary);\n    },\n    sendRecord(blob, exerciseSummary) {\n      this.sendHistory.blob = blob;\n      this.sendHistory.summary = exerciseSummary;\n      /*\n       this.completeError();\n       return;\n\n             var url = (window.URL || window.webkitURL).createObjectURL(blob);\n             var link = document.getElementById(\"downloader\");\n             link.href = url;\n             link.download = 'output_exercise.wav';\n             link.click();\n      */\n      this.uploadProgress = 0;\n      //console.log('start sendRecord');\n      this.loading = true;\n      const today = new Date();\n      const _userID = this.$useractions.retrieveID();\n      let passed = false;\n      let recordResponse = null;\n      const fileName = this.exid + '_recording_' + _userID + '.wav';\n      const file = new File([blob], fileName, {type: 'audio/x-wav', lastModified: Date.now()})\n      let currentUser = false;\n      if (this.localCurrentUser) {\n        currentUser = this.localCurrentUser;\n      }\n      if (this.deviceInfo && currentUser) {\n        currentUser.meta.deviceInfo = this.deviceInfo\n      }\n      console.log(currentUser, this.localCurrentUser)\n\n      this.$exerciseManager.completeExercise(\n        this.getCurrentExercise,\n        (progress) => {\n          this.uploadProgress = (progress.loaded / progress.total) - 0.05;\n        },\n        file,\n        (typeof exerciseSummary !== 'undefined' ? exerciseSummary : {}),\n        currentUser || false\n      ).then((r) => {\n        this.uploadProgress = 1;\n        if (r.exercise && r.response && r.exercise.completed) {\n          let errorCode = 50000;\n          if (typeof r['breathingServiceSoundCode'] !== 'undefined') {\n            errorCode = parseInt(r['breathingServiceSoundCode']);\n          }\n          if (typeof r.exercise['breathingServiceSoundCode'] !== 'undefined') {\n            errorCode = parseInt(r.exercise['breathingServiceSoundCode']);\n          }\n          //Simula success\n          if (errorCode > 10029) {\n            passed = true;\n          } else {\n            recordResponse = r.exercise;\n            passed = $nuxt.$t(\"errors.global.msg_restapi\");\n          }\n        } else {\n          recordResponse = r.exercise;\n          passed = $nuxt.$t(\"errors.global.msg_restapi\");\n        }\n        //console.log('got record result', r);\n      }).catch((e) => {\n        if (e && e.response && e.response.data) {\n          recordResponse = e.response.data;\n        }\n        console.error(\"Errore invio api [breathing_exercises]:\", e);\n        this.$analytics.logEvent(\"error\", {\n          \"title\": 'cannot send exercise'\n        });\n        this.$captureException(e);\n        passed = $nuxt.$t(\"errors.global.title\");\n      }).finally(() => {\n        //TEST FORZA SUCCESS\n        $nuxt.$loading.finish();\n\n        if (passed === true) {\n          if (this.isCurrentUserGuest) {\n            this.addDoneExercise(1);\n          }\n          this.nextStep();\n        } else {\n          //Show Error?\n          this.completeError(recordResponse);\n          return;\n          /*\n          this.$root.$emit('showError', {\n            hasretry: true,\n            title: $nuxt.$t(\"errors.global.uhoh\"),\n            error: passed,\n            click: () => {\n              this.startExercises();\n              return true;\n            },\n            resetEvent: function () {\n              $nuxt.$router.replace(\"/user/today\");\n              return true;\n            }\n          });\n          */\n        }\n      });\n    },\n    sendRecordOld(blob) {\n      this.uploadProgress = 0;\n      new Promise((resolve, reject) => {\n        var url = (window.URL || window.webkitURL).createObjectURL(blob);\n        var link = document.getElementById(\"downloader\");\n        link.href = url;\n        link.download = 'output_exercise.wav';\n        link.click();\n\n        this.intervals.push(setTimeout(() => {\n          this.uploadProgress = 100;\n          resolve();\n        }, 8000))\n\n      }).then(() => {\n        //console.log('wrapped!');\n        this.nextStep();\n      }).catch((e) => {\n        //show error in base al valore di E....\n        //console.log('Fake finishe exercise error', e);\n        this.$captureException(e);\n      });\n    },\n    gotData(buffers) {\n      this.audio.audioRecorder.exportMonoWAV((blob) => {\n        this.$closeStream(); //Ferma gli stream di registrazione non servono pi\n        let exerciseValue = {\n          exerciseStarts: this.timeStart / 1000,\n          exerciseEnds: this.timeEnd / 1000,\n          pauseTime: this.timePauseGap > 0 ? this.timePauseGap / 1000 : 0,\n          totalComputedDuration: (this.timeEnd - this.timeStart) / 1000,\n          estimatedDuration: this.estimatedDuration,\n          /*apiDuration: this.getCurrentExercise.duration,*/\n          clientPhases: this.recordingPhasesDuration,\n          waveMime: \"audio/wav\",\n          waveDuration: -1\n        }\n        this.sendRecord(blob, exerciseValue)\n      });\n    },\n    closeInfo() {\n      this.about.show = false;\n      this.resumeRecording().then((r) => {\n        this.$refs.stepcountdown.start();\n        const elapsedTime = new Date().getTime() - this.timePauseStart;\n        this.timePauseGap += elapsedTime;\n        console.log('countdown resumed total Pause: ', this.timePauseGap);\n      }).catch((e) => {\n        this.$airlyn.stopRecording().then((r) => {\n          console.log('azzera registrazione', r);\n        }).catch((e) => {\n          console.log('errore azzera registrazione', e);\n        })\n        console.log('non riesco a ripristinare esercizio...');\n        this.$root.$emit('showError', {\n          hasretry: true,\n          title: $nuxt.$t(\"errors.global.uhoh\"),\n          error: $nuxt.$t(\"errors.global.msg_storeexercise\"),\n          click: () => {\n            this.startExercises();\n            return true;\n          },\n          resetEvent: function () {\n            this.exerciseStepBack()\n            return true;\n          }\n        });\n      })\n    },\n    openInfoDialog() {\n      return;\n      //Verifica se siamo in registrazione:\n      if (this.$capacitor.isNativePlatform()) {\n        this.$airlyn.getCurrentStatus().then((r) => {\n          console.log('got recording status', r);\n          if (r && r.status === 0) {\n            this.pauseRecording().then((r) => {\n              this.$refs.stepcountdown.pause();\n              this.timePauseStart = new Date().getTime();\n              console.log('countdown paused');\n              this.about.show = true;\n            }).catch((e) => {\n              console.log('non riesco a mettere in pausa...');\n              alert('Cannot open info while exercise is running');\n            })\n          }\n        }).catch((e) => {\n          console.error(\"Cannot get status\", e);\n        });\n      } else {\n        alert('Cannot open info while exercise is running');\n      }\n    },\n    pauseRecording() {\n      return new Promise((resolve, reject) => {\n        if (this.$capacitor.isNativePlatform()) {\n          this.$airlyn.pauseRecording().then((r) => {\n            if (r && r.value === true) {\n              resolve(true);\n\n            } else {\n              reject(false)\n            }\n          }).catch((e) => {\n            console.error(\"Cannot pause, \", e);\n            reject(false)\n          });\n        }\n      })\n    },\n    resumeRecording() {\n      return new Promise((resolve, reject) => {\n        if (this.$capacitor.isNativePlatform()) {\n          this.$airlyn.resumeRecording().then((r) => {\n            if (r && r.value === true) {\n              resolve(true);\n            } else {\n              reject(false)\n            }\n          }).catch((e) => {\n            console.error(\"Cannot resume, \", e);\n            reject(false)\n          });\n        }\n      })\n    },\n    stopRecording() {\n      this.$gtag('event', 'click', {\n        'event_label': 'FinishRecording',\n        'event_category': 'Exercises',\n        'non_interaction': true\n      });\n      Object.keys(this.recordingPhasesDuration).map((v) => {\n        this.recordingPhasesDuration[v] = this.recordingPhasesDuration[v] > 0 ? this.recordingPhasesDuration[v] / 1000 : 0;\n      });\n      let exerciseValue = {\n        exerciseStarts: this.timeStart / 1000,\n        exerciseEnds: this.timeEnd / 1000,\n        pauseTime: this.timePauseGap > 0 ? this.timePauseGap / 1000 : 0,\n        totalComputedDuration: (this.timeEnd - this.timeStart) / 1000,\n        estimatedDuration: this.estimatedDuration,\n        /*apiDuration: this.getCurrentExercise.duration,*/\n        clientPhases: this.recordingPhasesDuration\n      }\n      if (this.$capacitor.isNativePlatform()) {\n        this.$airlyn.removeAllListeners();\n        this.$airlyn.stopRecording().then((r) => {\n          if (r && r.value) {\n            exerciseValue.waveDuration = r.value.msDuration > 0 ? r.value.msDuration / 1000 : 0;\n            exerciseValue.waveMime = r.value.mimeType;\n            //console.log('ready to store file for sending...', r.value.mimeType, exerciseValue);\n            const blob = this.$base64ToBlob(r.value.recordDataBase64, r.value.mimeType);\n            this.sendRecord(blob, exerciseValue)\n          } else {\n            console.error('(catch)Errore stop :', e);\n            this.manageMicError({\"name\": $nuxt.$t(\"errors.global.msg_retrieverecording\"), error: e}, null, function () {\n              this.exerciseStepBack()\n              return true;\n            });\n          }\n        }).catch((e) => {\n          $nuxt.$loading.finish();\n          console.error('(catch)Errore stop :', e);\n          this.manageMicError({\"name\": $nuxt.$t(\"errors.global.msg_retrieverecording\"), error: e}, null, function () {\n            this.exerciseStepBack()\n            return true;\n          });\n        }).finally(() => {\n\n        });\n      } else {\n        this.audio.audioRecorder.stop();\n        this.audio.audioRecorder.getBuffers(this.gotData);\n      }\n    },\n    getExercisePhaseDuration(isMs = false) {\n      //console.log('richiesto max duration',this.getCurrentExercise,this.currentExercise);\n      if (!this.getCurrentExercise) {\n        return 0;\n      }\n      if (this.getCurrentExercise.subtype === 'dob' && this.currentExercise) {\n        return Math.min(this.currentExercise.maxSetDuration, 120) * (isMs ? 1000 : 1);\n      }\n      if (!this.currentExercise) {\n        return 0;\n      }\n      if (isMs) {\n        return this.currentExercise.durationMs;\n      }\n      return this.currentExercise.duration;\n    },\n    manageExercise() {\n      //console.log('init exercise', this.current);\n\n      this.$anime.remove('.breath_item');\n      if (document.querySelector(\"div.breath_item\")) {\n        document.querySelector(\"div.breath_item\").classList.remove('animating');\n      }\n      this.recordingPhasesDuration[this.current] = new Date().getTime();\n      if (this.current >= 0) {\n        this.estimatedDuration += this.getExercisePhaseDuration(false);\n        //console.log('ready to start new Exercise', new Date().getTime() / 1000, this.currentExercise.durationMs, this.currentExercise.animationType);\n        this.$refs.stepcountdown.restart();\n        let currentExDuration = this.getExercisePhaseDuration(true);\n        if (this.nextExercise) {\n          if (this.nextExercise.animationType == 'hold') {\n            currentExDuration += this.nextExercise.durationMs\n          }\n        }\n        const mergeAnimation = Object.assign({\n          targets: '.breath_item',\n          loop: false,\n          easing: 'easeOutSine',\n          duration: (currentExDuration) - 50,\n          begin: function () {\n            if (document.querySelector(\"div.breath_item\")) {\n              document.querySelector(\"div.breath_item\").classList.add('animating');\n            }\n          },\n          complete: function () {\n            if (document.querySelector(\"div.breath_item\")) {\n              document.querySelector(\"div.breath_item\").classList.remove('animating');\n            }\n          }\n        }, this.currentExercise.animation)\n\n\n        if (this.currentExercise.pause === false) {\n          requestAnimationFrame(() => {\n            this.$anime(mergeAnimation);\n          })\n        }\n\n      }\n    },\n    startTimer() {\n      this.intervals.push(setTimeout(() => {\n        this.timer++;\n        if (this.finish === false) {\n          this.startTimer();\n        }\n      }, 1000));\n    },\n\n    startExercises() {\n      this.$analytics.logEvent('exercise_begin_recording', {\n        \"id\": this.getCurrentExercise.id,\n        \"name\": this.getCurrentExercise.title,\n        \"program_id\": this.getCurrentExercise.program_id || null,\n        \"type\": this.getCurrentExercise.type,\n      })\n      this.$analytics.setScreenName(this.getCurrentExercise.title + \" \" + this.getCurrentExercise.type + \" page\");\n      this.$gtag('event', 'click', {\n        'event_label': 'BeginRecording',\n        'event_category': 'Exercises',\n        'non_interaction': true\n      })\n      this.$exerciseManager.startExercise(this.getCurrentExercise);\n      //compute height for all titles (prevent bounce):\n      this.delay = true;\n      this.delayTime = breathInDelay;\n      this.current = 0;\n      this.realCurrent = 0;\n      this.overallProgress = 0;\n      this.currentExerciseTime = 0;\n      this.overallRemaining = this.totalTimeMs;\n      this.finish = false;\n      this.cycle.current = 0;\n      this.cycle.duration = 0;\n      this.cycle.elapsed = 0;\n      this.$set(this, \"recordingPhasesDuration\", {});\n\n      //console.log(this.getCurrentExercise, this.overallRemaining, this.estimatedDuration, this.totalTimeMs);\n      [...document.querySelectorAll('.faded')].forEach((item) => {\n        item.classList.remove('faded');\n      });\n      this.$forceNextTick(() => {\n        this.$refs.stepcountdown.restart();\n      })\n\n    },\n    startRealExercise() {\n      if (this.$capacitor.isNativePlatform()) {\n        this.$airlyn.checkMicPerm().then((r) => {\n          if (r && r.result === true) {\n            this.totalRunningTime = 0;\n            this.current = 0;\n            this.realCurrent = 0;\n            this.setupAll();\n          } else {\n            const e = {\n              \"name\": $nuxt.$t(\"errors.global.msg_notallowed\"),\n              exception: r\n            }\n            this.manageMicError(e, null, function () {\n              this.exerciseStepBack()\n              return true;\n            });\n          }\n        }).catch((e) => {\n          console.error(\"Permission request fails\", e)\n          this.manageMicError({\n            \"name\": $nuxt.$t(\"errors.global.msg_notallowed\"),\n            exception: e\n          }, null, function () {\n            this.exerciseStepBack()\n            return true;\n          });\n        });\n      } else {\n        this.intervals.push(setTimeout(() => {\n          this.totalRunningTime = 0;\n          this.current = 0;\n          this.realCurrent = 0;\n          this.setupAll();\n        }, 1000));\n      }\n    },\n    initMicrophone(stream) {\n      this.audio.inputPoint = this.audio.audioContext.createGain();\n      this.audio.realAudioInput = this.audio.audioContext.createMediaStreamSource(stream);\n      this.audio.audioInput = this.audio.realAudioInput;\n      this.audio.audioInput.connect(this.audio.inputPoint);\n      this.audio.realAudioInput.disconnect();\n      this.audio.audioInput = this.convertToMono(this.audio.realAudioInput);\n      this.audio.audioInput.connect(this.audio.inputPoint);\n      //Create recorder\n      this.audio.audioRecorder = new this.$Recorder(this.audio.inputPoint, {worker: this.$worker.createRecorderWorker()});\n      this.audio.audioRecorder.clear();\n      this.audio.audioRecorder.record();\n      this.currentTime = 0;\n      this.timeStart = new Date().getTime();\n      [...document.querySelectorAll('.faded')].forEach((item) => {\n        item.classList.remove('faded');\n      });\n      this.manageExercise();\n      //this.startTimer(); >> trovare soluzione pi efficace per gestire tutto.\n    },\n    convertToMono(input) {\n      var splitter = this.audio.audioContext.createChannelSplitter(2);\n      var merger = this.audio.audioContext.createChannelMerger(2);\n      input.connect(splitter);\n      splitter.connect(merger, 0, 0);\n      splitter.connect(merger, 0, 1);\n      return merger;\n    },\n    setupAll() {\n      this.$closeStream();\n      /* resetta i contatori*/\n      this.timeStart = 0;\n      this.timeEnd = 0;\n      this.estimatedDuration = 0;\n      this.timePauseStart = 0;\n      this.timePauseGap = 0;\n\n      if (this.$capacitor.isNativePlatform()) {\n        //console.log('request Start Recording', new Date().getTime() / 1000, this.estimatedDuration);\n        $nuxt.$airlyn.addListener('airlynUpdateMeters', (info) => {\n//console.log('got meters',/*info.peakPowers, */ $nuxt.$normalizeLevels(info.peakPowers));\n          //console.warn('got meters', info);\n          if (info) {\n            if (info.peakPower) {\n              this.audioLevels.peakLevel = info.peakPower\n            }\n            if (info.averagePower) {\n              const deviceMicMultiplier = this.$capacitor.getPlatform() === 'ios' ? 200 : 150;\n              this.audioLevels.averageLevel = info.averagePower\n              this.amplitude = info.peakPower * deviceMicMultiplier //Fix issue percent in base 0.x\n              this.average = info.averagePower * deviceMicMultiplier //Fix issue percent in base 0.x\n            }\n          }\n\n        });\n        $nuxt.$airlyn.addListener('airlynUpdateMic', (info) => {\n          console.log('got mic INFO', info);\n          if (info) {\n            this.audioInput = info;\n          }\n        });\n        this.$airlyn.startRecording().then((r) => {\n          if (r && r.value === true) {\n            this.currentTime = 0;\n            this.timeStart = new Date().getTime();\n            [...document.querySelectorAll('.faded')].forEach((item) => {\n              item.classList.remove('faded');\n            });\n            //console.log('ready to Record', new Date().getTime() / 1000, this.estimatedDuration);\n            this.manageExercise();\n          } else {\n            console.error('(then)Errore start :', r);\n            this.manageMicError({\"name\": $nuxt.$t(\"errors.global.msg_startrecording\")}, null, function () {\n              this.exerciseStepBack()\n              return true;\n            });\n          }\n        }).catch((e) => {\n          console.error('(catch)Errore start :', e);\n          this.manageMicError({\"name\": $nuxt.$t(\"errors.global.msg_startrecording\"), error: e}, null, function () {\n            this.exerciseStepBack()\n            return true;\n          });\n        });\n      } else {\n        this.$enumerateMediaDevices().then((mediaDevices) => {\n          //console.log('got devices', mediaDevices);\n          return this.$initAudio(mediaDevices).then((stream) => {\n            window.stream = stream;\n            if (null == this.audio.audioContext) {\n              this.audio.audioContext = new AudioContext();\n            }\n            this.initMicrophone(stream);\n          });\n        }).catch((e) => {\n          console.error('errore init microfono non gestito', e);\n          this.$captureException(e);\n          this.manageMicError(e);\n          this.manageMicError(e, null, function () {\n            this.exerciseStepBack()\n            return true;\n          });\n        }).finally(() => {\n          //console.log('audio ready, start!');\n          this.$nuxt.$loading.finish();\n        });\n      }\n    }\n  },\n  mounted() {\n    this.delayTime = breathInDelay;\n    this.delay = true;\n    if (!this.exercise) {\n      this.$router.replace($nuxt.localePath(\"/ml/exercises/\" + this.exid));\n    }\n    this.interval = 250;\n    //Start exercises...\n    this.timer = 0;\n    this.$root.$emit('showPager', {\"show\": false});\n    let maxH = [...document.querySelectorAll('.fakeTitles')].reduce((carry, item) => {\n      //console.log('nf', item, item.offsetHeight, item.clientHeight, item.scrollHeight, item.innerHTML);\n      return Math.max(carry, Math.max(item.offsetHeight, item.clientHeight, item.scrollHeight));\n    }, 0);\n    if (document.querySelector('#exerciseTitle')) {\n      document.querySelector('#exerciseTitle').style.height = maxH + 'px';\n    }\n    this.preload = false;\n    this.$nextTick(() => {\n      this.$root.$emit('setNextText', this.$t('generic.next'));\n      this.startExercises();\n    });\n    this.$deviceInfo.getInfoObject().then((r) => {\n      const _uuid = this.$deviceInfo.currentUUID;\n      this.deviceInfo = {\n        deviceId: _uuid,\n        deviceFamily: r.platform || \"\",\n        osVersion: r.osVersion || \"\",\n        manufacturer: r.manufacturer || \"\"\n      };\n\n    });\n    window.overrideTester = this;\n  }\n}\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./runner.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./runner.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./runner.vue?vue&type=template&id=14aa5949\"\nimport script from \"./runner.vue?vue&type=script&lang=js\"\nexport * from \"./runner.vue?vue&type=script&lang=js\"\nimport style0 from \"./runner.vue?vue&type=style&index=0&id=14aa5949&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {Inputmicrophone: require('/Users/francescolotruglio/Lavori/VoiceMed/VoiceMedSdk-Sources/voicemed-layoutsdk/components/inputmicrophone.vue').default,Inputmicrophonebig: require('/Users/francescolotruglio/Lavori/VoiceMed/VoiceMedSdk-Sources/voicemed-layoutsdk/components/inputmicrophonebig.vue').default,Exerciseanimationprogress: require('/Users/francescolotruglio/Lavori/VoiceMed/VoiceMedSdk-Sources/voicemed-layoutsdk/components/exerciseanimationprogress.vue').default,Infodialog: require('/Users/francescolotruglio/Lavori/VoiceMed/VoiceMedSdk-Sources/voicemed-layoutsdk/components/infodialog.vue').default,Completitionfailed: require('/Users/francescolotruglio/Lavori/VoiceMed/VoiceMedSdk-Sources/voicemed-layoutsdk/components/completitionfailed.vue').default,Quitexercisedialog: require('/Users/francescolotruglio/Lavori/VoiceMed/VoiceMedSdk-Sources/voicemed-layoutsdk/components/quitexercisedialog.vue').default,FullpageCard: require('/Users/francescolotruglio/Lavori/VoiceMed/VoiceMedSdk-Sources/voicemed-layoutsdk/components/fullpage-card.vue').default})\n","import {mapGetters, mapActions} from 'vuex'\n\nexport default {\n  name: 'basePage',\n  transition: {\n    name: 'slide',\n    mode: 'out-in',\n    css: false,\n    beforeEnter(el) {\n      if (document.querySelector('#__nuxt').classList.contains('quit')) {\n        return\n      }\n      const startPoint = document.querySelector('#__nuxt').classList.contains('back') ? '-100%' : '100%';\n      this.$anime.set(el, {\n        scale: 1,\n        opacity: 0,\n        translateX: startPoint\n      })\n    },\n    enter(el, done) {\n      const startPoint = document.querySelector('#__nuxt').classList.contains('back') ? '-100%' : '100%';\n      this.$anime({\n        targets: el,\n        opacity: [0, 1],\n        translateX: [startPoint, \"0\"],\n        duration: 500,\n        easing: 'easeInOutSine',\n        complete: done\n      })\n    },\n    leave(el, done) {\n      if (document.querySelector('#__nuxt').classList.contains('quit')) {\n        this.$anime({\n          targets: el,\n          /*opacity: [1, 0],*/\n          translateY: [0, '100%'],\n          duration: 500,\n          easing: 'easeInOutSine',\n          complete: done\n        });\n        return\n      }\n      const startPoint = document.querySelector('#__nuxt').classList.contains('back') ? '100%' : '-100%';\n      this.$anime({\n        targets: el,\n        opacity: [1, 0],\n        translateX: [\"0\", startPoint],\n        duration: 500,\n        easing: 'easeInOutSine',\n        complete: done\n      });\n    },\n    afterLeave(el) {\n      document.querySelector('#__nuxt').classList.remove('quit');\n      document.querySelector('#__nuxt').classList.remove('back');\n    }\n  },\n  data() {\n    return {\n      \"name\": \"basePage\",\n      exid: (this.$route.params.id),\n      programid: (this.$route.params.fromprogram || false),\n      withindex: (this.$route.params.withindex || -1),\n      backto: (this.$route.params.backto || false),\n      hasBack: false,\n      hasNext: false,\n      hasInfo: false,\n      exercisequit: {\n        open: false\n      }\n    }\n  },\n  watch: {\n    'about.show': function () {\n      this.$nextTick(() => {\n        this.updateExternalLink();\n      })\n    }\n  },\n  computed: {\n    ...mapGetters({\n      getCurrentPagerHeight: 'getCurrentPagerHeight'\n    }),\n    isVoicemed() {\n      return $nuxt.$config.env.environment.indexOf('voicemed_') > -1\n    },\n    isAirlyn() {\n      return $nuxt.$config.env.environment.indexOf('voicemed_') < 0\n    },\n    nuxtloading() {\n      return $nuxt.$loading.loading\n    },\n    defaultHomeUrl() {\n      //We know that we can customize the opening url:\n      return \"/\";\n      if (this.isAirlyn) {\n        return \"/\";\n      }\n      if (this.isVoicemed) {\n        return \"/\";\n      }\n    }\n  },\n  methods: {\n    ...mapActions({\n      setCurrentPage: 'setCurrentPage',\n      setCurrentPagerHeight: 'setCurrentPagerHeight'\n    }),\n    showQuitDialog() {\n      console.log('mi chiedi di uscire')\n      this.exercisequit.open = true;\n      console.log('cok ci sono', this.exercisequit.open)\n    },\n    resetQuitDialog() {\n      this.exercisequit.open = false;\n    },\n    confirmQuitDialog() {\n\n      this.exercisequit.open = false;\n      this.$analytics.logEvent('exercise_quit', {\n        \"id\": this.getCurrentExercise.id,\n        \"name\": this.getCurrentExercise.title,\n        \"program_id\": this.getCurrentExercise.program_id || null,\n        \"type\": this.getCurrentExercise.type,\n      })\n      if (document.querySelector('#__nuxt')) {\n        document.querySelector('#__nuxt').classList.add('quit');\n      }\n      this.exerciseStepBack()\n    },\n    exerciseStepBack() {\n      console.log('exit test', this.backto, this.programid)\n      if (this.backto == \"standalone\" || this.backto == \"challengemode\") {\n        $nuxt.$airlyn.finishExercise({\"reason\": 'user-cancelled', \"result\": {}}).finally(() => {\n          console.log('exercise finished by user')\n        });\n        $nuxt.$airlyn.closeExercise().finally(() => {\n          console.log('exercise closed, success')\n        });\n        return\n      }\n      if (this.backto == 'today') {\n        $nuxt.$router.replace($nuxt.localePath(\"/user/today\"));\n        return\n      }\n      if (this.backto == 'discovery') {\n        $nuxt.$router.replace($nuxt.localePath(\"/home\"));\n        return\n      }\n      if (this.programid) {\n        if (this.programid == \"-1\" || this.programid == -1 || this.programid == \"false\" || this.programid == false) {\n          $nuxt.$router.replace($nuxt.localePath(\"/user/today\"));\n        } else {\n          $nuxt.$router.replace($nuxt.localePath(\"/ml/programs/\" + this.programid));\n        }\n        return\n      }\n\n      $nuxt.$router.replace($nuxt.localePath(\"/user/today\"));\n    },\n    buildSuffix() {\n      let suffixes = [];\n      const programCheck = this.programid ? this.programid : false;\n      suffixes.push(programCheck !== '-1' ? programCheck : false);\n      suffixes.push(this.withindex ? this.withindex : \"-1\")\n      suffixes.push(this.backto ? this.backto : false)\n      return suffixes.join(\"/\")\n    }, hasJoinedProgramById(id) {\n      return this.$nuxt.$store.getters.hasJoinedProgramById(id)\n    },\n    getProgramJoinedAtById(id) {\n      return this.$nuxt.$store.getters.getProgramJoinedAtById(id)\n    },\n    getProgramById(id) {\n      return this.$nuxt.$store.getters.getProgramById(id)\n    },\n    getOverallProgressProgramById(id) {\n      return this.$nuxt.$store.getters.getOverallProgressProgramById(id)\n    },\n    getDoneCountByProgramId(id) {\n      return this.$nuxt.$store.getters.getDoneCountByProgramId(id)\n    },\n    getNextExerciseByProgramId(id) {\n      return this.$nuxt.$store.getters.getNextExerciseByProgramId(id)\n    },\n    getExercisetocompleteCountProgramById(id) {\n      return this.$nuxt.$store.getters.getExercisetocompleteCountProgramById(id)\n    },\n    getExercisecompletedCountProgramById(id) {\n      return this.$nuxt.$store.getters.getExercisecompletedCountProgramById(id)\n    },\n    printDeviceError(prefix, error, clickEvent, resetEvent) {\n      this.$analytics.logEvent(\"permission_error\", {\n        \"title\": 'errors.' + prefix + \".\" + error.name.toLowerCase() + \".title\",\n        \"kind\": prefix\n      });\n      console.error('Got device error', error)\n      if (error && (error.name === \"NotAllowedError\" || error.name === \"NotFoundError\" || error.exception.state == \"denied\" || error.exception.state == \"DENIED\")) {\n        this.$root.$emit('showPermssionError', true)\n        return\n      }\n\n      this.showError(\n        this.$t('errors.generic.title'),\n        this.$t('errors.generic.description'),\n        clickEvent,\n        resetEvent\n      );\n    },\n    printDeviceErrorOLD(prefix, error, clickEvent, resetEvent) {\n      this.$analytics.logEvent(\"permission_error\", {\n        \"title\": 'errors.' + prefix + \".\" + error.name.toLowerCase() + \".title\",\n        \"kind\": prefix\n      });\n      console.error('Got device error', error)\n      if (error.exception && prefix == \"mic\") {\n        if (error.exception.state == \"denied\" || error.exception.state == \"DENIED\") {\n          error.name = \"DeniedError\";\n          this.$root.$emit('showError', {\n            title: this.$t('errors.' + prefix + \".\" + error.name.toLowerCase() + \".title\"),\n            error: this.$t('errors.' + prefix + \".\" + error.name.toLowerCase() + \".description\"),\n            hasretry: true,\n            click: function () {\n              $nuxt.$airlyn.openPermissionPanel().then((r) => {\n                console.log('got openPermission Panel then', r, JSON.stringify(r))\n              }).catch((e) => {\n                console.log('got openPermission Panel catch', e, JSON.stringify(e))\n              }).finally(() => {\n                //esegui comunque il reset event...\n                if (typeof resetEvent == 'function') {\n                  console.log('dopo il setting riport cmq a inizio')\n                  resetEvent()\n                }\n              })\n              return true\n            },\n            resetEvent: resetEvent || function () {\n            },\n            retryBtn: \"Settings\"\n          });\n          return\n        }\n      }\n      if (error && (error.name === \"NotAllowedError\" || error.name === \"NotFoundError\")) {\n        //Permission error\n        this.showError(\n          this.$t('errors.' + prefix + \".\" + error.name.toLowerCase() + \".title\"),\n          this.$t('errors.' + prefix + \".\" + error.name.toLowerCase() + \".description\"),\n          clickEvent,\n          resetEvent\n        );\n        return\n      }\n      this.showError(\n        this.$t('errors.generic.title'),\n        this.$t('errors.generic.description'),\n        clickEvent,\n        resetEvent\n      );\n    },\n    manageMicError(e, clickEvent, resetEvent) {\n      this.printDeviceError('mic', e, clickEvent, resetEvent);\n    },\n    manageCamError(e, clickEvent, resetEvent) {\n      this.printDeviceError('cam', e, clickEvent, resetEvent);\n    },\n    manageMicCamError(e, clickEvent, resetEvent) {\n      this.printDeviceError('miccam', e, clickEvent, resetEvent);\n    },\n    showError(title, error, clickEvent, resetEvent) {\n      this.$root.$emit('showError', {\n        title: title,\n        error: error,\n        hasretry: clickEvent !== null ? true : false,\n        click: clickEvent || function () {\n        },\n        resetEvent: resetEvent || function () {\n        }\n      });\n    },\n    swipeEvent(e) {\n      //console.log(e.target); // element that was swiped\n      //console.log(e.detail); // see event data below\n      this.$root.$emit(\"swipe\", e);\n    },\n    attachSwipeListener() {\n      document.addEventListener('swiped-left', this.swipeEvent);\n      document.addEventListener('swiped-right', this.swipeEvent);\n    },\n    detachSwipeListeners() {\n      document.removeEventListener('swiped-left', this.swipeEvent);\n      document.removeEventListener('swiped-right', this.swipeEvent);\n    },\n    fixWindowVariables(variable) {\n      if (typeof window[variable] === 'undefined') {\n        if (window.top[variable] !== 'undefined') {\n          window[variable] = window.top[variable];\n        }\n      }\n    },\n    consumeExternalLink(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      const _href = e.target.getAttribute('href');\n      const _title = e.target.getAttribute('title') || e.target.innerText;\n      console.log('richiesto', _href);\n      this.$browser.open({url: _href});\n      //this.openBrowser({url:_href,title:_title})\n      return false;\n    },\n    updateExternalLink() {\n      [...document.querySelectorAll(\"a:not(.vm_managed)\")].forEach((_anchor) => {\n        if (_anchor.getAttribute('href') !== 'undefined') {\n          const _url = _anchor.getAttribute('href');\n          if (_url.length >= 1 && _url.substr(0, 1) === \"/\") {\n            //Url interno\n            return;\n          }\n          if (_url.length >= 1 && _url.substr(0, 1) === \"#\") {\n            //Url interno\n            return;\n          }\n          if ((_url.length >= 8 && _url.substr(0, 8) === \"https://\") || (_url.length >= 7 && _url.substr(0, 8) === \"http://\")) {\n            //Url estero:\n            _anchor.classList.add('vm_managed');\n            _anchor.removeEventListener('click', this.consumeExternalLink);\n            _anchor.addEventListener('click', this.consumeExternalLink)\n            return;\n          }\n        }\n      })\n    }\n  },\n  beforeMount() {\n    console.log('PRE loaded base Page')\n\n    console.log('fix loading variables');\n      ['currentChallenge','currentExercise', 'currentVMToken', 'currentVMKey', 'currentVMUrl'].forEach((item) => {\n      this.fixWindowVariables(item);\n    })\n\n    this.setCurrentPage(this);\n  },\n  beforeDestroy() {\n    this.detachSwipeListeners();\n  },\n\n  updated() {\n    console.warn('pagina aggiornata');\n    this.updateExternalLink();\n  },\n  mounted() {\n    console.log('loaded base Page')\n    //Init Preferences if app is native:\n    console.log('try Load index', this.name, this.dynamicTexts);\n    if (this.dynamicTexts && Object.keys(this.dynamicTexts).length > 0) {\n      Object.keys(this.dynamicTexts).map((text) => {\n        this.$appConfiguration.getText(text).then((r) => {\n          this.dynamicTexts[text] = r;\n        }).catch((e) => {\n          this.dynamicTexts[text] = this.$t(this.name + '.' + text);\n        })\n      })\n    }\n    if (this.getCurrentPagerHeight !== null && document.querySelector('.v-main__wrap > div.pager')) {\n      console.log('some one request new height: ', this.getCurrentPagerHeight);\n      //document.querySelector('.v-main__wrap > div.pager').style.height = this.getCurrentPagerHeight + \"px\";\n    }\n    this.$nextTick(() => {\n      //Start swipe features:\n      this.attachSwipeListener();\n      if (this.getCurrentPagerHeight === null) {\n        if (document.querySelector('.v-main__wrap > div.pager')) {\n          this.setCurrentPagerHeight(Math.max(document.querySelector('.v-main__wrap > div.pager').clientHeight, document.querySelector('.v-main__wrap > div.pager').offsetHeight));\n        }\n      }\n    });\n  }\n\n}\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./infodialog.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./infodialog.vue?vue&type=script&lang=js\"","\nexport default {\n  props: {\n    title: {\n      type: String,\n      default: \"Info\"\n    },\n    transition: {\n      type: String,\n      default: \"dialog-bottom-transition\"\n    },\n    contentclasses: {\n      type: String,\n      default: \"\"\n    },\n    description: {\n      type: String,\n      default: \"Info text\"\n    },\n    infoImage: {\n      type: String,\n      default: null\n    },\n    showSuperTitle: {\n      type: Boolean,\n      default: true\n    },\n    thumbInTitle: {\n      type: Boolean,\n      default: true\n    },\n    show: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {}\n  },\n  computed: {\n    showDialog: function () {\n      return this.show;\n    }\n  },\n  methods : {\n    closeClick(e) {\n      this.$emit('close',e);\n    }\n  },\n  mounted() {\n  }\n}\n","import { render, staticRenderFns } from \"./infodialog.vue?vue&type=template&id=cf9e9cc0\"\nimport script from \"./infodialog.vue?vue&type=script&lang=js\"\nexport * from \"./infodialog.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {FullpageCard: require('/Users/francescolotruglio/Lavori/VoiceMed/VoiceMedSdk-Sources/voicemed-layoutsdk/components/fullpage-card.vue').default})\n","\nconst MILLISECONDS_SECOND = 1000;\nconst EVENT_ABORT = 'abort';\nconst EVENT_END = 'end';\nconst EVENT_PROGRESS = 'progress';\nconst EVENT_START = 'start';\nconst EVENT_VISIBILITY_CHANGE = 'visibilitychange';\n\nexport default {\n  name: \"CountDown\",\n  props: {\n    interval: {\n      type: Number,\n      default: 1000\n    },\n    timerLength: {\n      type: Number,\n      default: 10000\n    },\n    reverse: {\n      type: Boolean,\n      default: false\n    },\n    now: {\n      type: Function,\n      default: () => Date.now(),\n    },\n    emits: {\n      EVENT_ABORT,\n      EVENT_END,\n      EVENT_PROGRESS,\n      EVENT_START\n    }\n  },\n  data() {\n    return {\n      counting: false,\n      totalMilliseconds: 0,\n      requestId: 0,\n      endTime: 0,\n      elapsed: 0\n    }\n  },\n  computed: {\n    totalSeconds() {\n      return Math.floor(this.totalMilliseconds / MILLISECONDS_SECOND);\n    }\n  },\n  watch: {\n    $props: {\n      deep: true,\n      immediate: true,\n      handler() {\n        this.totalMilliseconds = this.timerLength;\n        this.endTime = this.now() + this.timerLength;\n        //this.start();\n      }\n    },\n  },\n  mounted() {\n    document.addEventListener(EVENT_VISIBILITY_CHANGE, this.handleVisibilityChange);\n  },\n\n  beforeUnmount() {\n    document.removeEventListener(EVENT_VISIBILITY_CHANGE, this.handleVisibilityChange);\n    this.pause();\n  },\n  methods: {\n    restart() {\n      this.totalMilliseconds = this.timerLength;\n      this.endTime = this.now() + this.timerLength;\n      this.elapsed = 0;\n      this.start();\n    },\n    start() {\n      if (this.counting) {\n        return;\n      }\n      this.counting = true;\n      this.$emit(EVENT_START);\n      if (document.visibilityState === 'visible') {\n        this.continue();\n      }\n    },\n    getElapsed() {\n      return this.elapsed;\n    },\n    continue() {\n      if (!this.counting) {\n        return;\n      }\n      const delay = Math.min(this.totalMilliseconds, this.interval);\n      if (delay > 0) {\n        let init;\n        let prev;\n        const step = (now) => {\n          if (!init) {\n            init = now;\n          }\n          if (!prev) {\n            prev = now;\n          }\n          const range = now - init;\n          if (range >= delay || range + ((now - prev) / 2) >= delay) {\n            this.progress();\n          } else {\n            this.requestId = requestAnimationFrame(step);\n          }\n          prev = now;\n        };\n        this.requestId = requestAnimationFrame(step);\n      } else {\n        this.end();\n      }\n    },\n    pause() {\n      cancelAnimationFrame(this.requestId);\n    },\n    progress() {\n      if (!this.counting) {\n        return;\n      }\n      this.totalMilliseconds -= this.interval;\n      this.elapsed += this.interval;\n      if (this.totalMilliseconds > 0) {\n        this.$emit(EVENT_PROGRESS, {\n          totalSeconds: this.totalSeconds,\n          totalMilliseconds: this.totalMilliseconds,\n          interval: this.interval,\n          elapsed: this.elapsed\n        });\n      }\n      this.continue();\n    },\n    abort() {\n      if (!this.counting) {\n        return;\n      }\n      this.pause();\n      this.counting = false;\n      this.$emit(EVENT_ABORT);\n    },\n    end() {\n      if (!this.counting) {\n        return;\n      }\n      this.pause();\n      this.counting = false;\n      this.$emit(EVENT_END, {\n        totalSeconds: this.totalSeconds,\n        totalMilliseconds: this.totalMilliseconds,\n        interval: this.interval,\n        elapsed: this.elapsed\n      });\n      this.totalMilliseconds = 0;\n    },\n    update() {\n      if (this.counting) {\n        this.totalMilliseconds = Math.max(0, this.endTime - this.now());\n      }\n    },\n    handleVisibilityChange() {\n      switch (document.visibilityState) {\n        case 'visible':\n          this.update();\n          this.continue();\n          break;\n        case 'hidden':\n          this.pause();\n          break;\n        default:\n      }\n    }\n  }\n\n\n}\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./countdown.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./countdown.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./countdown.vue?vue&type=template&id=e4d0548a\"\nimport script from \"./countdown.vue?vue&type=script&lang=js\"\nexport * from \"./countdown.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n  export default {\n    props: {\n      value : {\n        type:Number,\n        default:0\n      },\n      exerciseSteps:{\n        type:Number,\n        default:1\n      },\n      startPercent: {\n        type:Number,\n        default: 0\n      },\n      doneClass: {\n        type:String,\n        default:'done'\n      },\n      maxPercent : {\n        type:Number,\n        default: 1\n      },\n      runningPercent: {\n        type:Number,\n        default: 0\n      }\n    },\n    computed : {\n      primaryColor() {\n        return $nuxt.$config.env.environment.indexOf('voicemed_')>-1?\"#EC483F\":\"#848CE6\";\n      },\n      exercisescount() {\n        return this.exerciseSteps\n      },\n      currentExercise() {\n        return this.value\n      },\n      currentPercent() {\n        return this.runningPercent\n      }\n    },\n    methods: {\n      getRotation(index) {\n        if(index === 0) {\n          return \"transform:rotate(0deg);\";\n        }\n        //Get deg for position\n        const angles = 360/(this.exercisescount)*(index);\n        return \"transform:rotate(\"+angles+\"deg);\";\n      },\n    }\n  }\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./exerciseanimationprogress.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./exerciseanimationprogress.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./exerciseanimationprogress.vue?vue&type=template&id=106df5ae\"\nimport script from \"./exerciseanimationprogress.vue?vue&type=script&lang=js\"\nexport * from \"./exerciseanimationprogress.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/sine.8ad1fba.svg\";","module.exports = __webpack_public_path__ + \"img/errorwifi.d845bd4.png\";","module.exports = __webpack_public_path__ + \"img/error_execution.90c4571.png\";","module.exports = __webpack_public_path__ + \"img/error_mic.5252992.png\";","module.exports = __webpack_public_path__ + \"img/error_noise.52c5439.png\";","module.exports = __webpack_public_path__ + \"img/error_wifi.b15e92b.png\";","module.exports = __webpack_public_path__ + \"img/error_10014.443c6ef.png\";","module.exports = __webpack_public_path__ + \"img/error_10016.b9666b8.png\";","module.exports = __webpack_public_path__ + \"img/error_10019.48b94bb.png\";","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??ref--3-oneOf-1-2!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./runner.vue?vue&type=style&index=0&id=14aa5949&prod&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"a529fb26\", content, false, {\"sourceMap\":false});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??ref--3-oneOf-1-2!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./runner.vue?vue&type=style&index=0&id=14aa5949&prod&lang=css\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??ref--3-oneOf-1-2!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./runner.vue?vue&type=style&index=0&id=14aa5949&prod&lang=css\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","\nexport default {\n  props: {\n    amplitude: {\n      type: Number,\n      default: false\n    },\n    average: {\n      type: Number,\n      default: false\n    }\n  },\n  data() {\n    return {\n      bar1: 0,\n      bar2: 0,\n      bar3: 0,\n      threshold: 1.2\n    }\n  },\n  computed: {\n    currentAverage: function () {\n      if (this.average < 15) { //Azzera suoni impercettibili\n        return\n      }\n      let isOdd = false;\n      if (Math.round(this.average / 10) % 2 == 1) {\n        isOdd = true;\n      }\n      return Math.round(this.average)\n    },\n    currentAmplitude: function () {\n      if (this.amplitude < 15) { //Azzera suoni impercettibili\n        this.bar1 = 0;\n        this.bar2 = 0;\n        this.bar3 = 0;\n        return\n      }\n      //Bar2  la centrale,\n      //Bar 1 e 3 sempre uguali\n      if (Math.round(this.amplitude / 10) % 2 == 1) {\n        this.bar1 = Math.min(this.amplitude * this.threshold / 2, 10)\n        this.bar2 = Math.min(this.amplitude * this.threshold, 60)\n        this.bar3 = Math.min(this.amplitude * this.threshold / 2, 10)\n      } else {\n        this.bar1 = Math.min(this.amplitude * this.threshold, 60)\n        this.bar2 = Math.min(this.amplitude * this.threshold / 2, 10)\n        this.bar3 = Math.min(this.amplitude * this.threshold, 60)\n      }\n    }\n  }\n}\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./inputmicrophone.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./inputmicrophone.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./inputmicrophone.vue?vue&type=template&id=6ef9d0b2\"\nimport script from \"./inputmicrophone.vue?vue&type=script&lang=js\"\nexport * from \"./inputmicrophone.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nconst barNumber = 13;\nexport default {\n  props: {\n    amplitude: {\n      type: Number,\n      default: false\n    },\n    average: {\n      type: Number,\n      default: false\n    }\n  },\n  data() {\n    return {\n      bars: [],\n      threshold: 1.2\n    }\n  },\n  mounted() {\n    this.$set(this,'bars',[]);\n    for (let i = 0; i < this.maxBars; i++) {\n      this.bars.push(0);\n    }\n  },\n  computed: {\n    maxBars: function () {\n      return barNumber;\n    },\n    currentAverage: function () {\n      if (this.average < 15) { //Azzera suoni impercettibili\n        return\n      }\n      let isOdd = false;\n      if (Math.round(this.average / 10) % 2 == 1) {\n        isOdd = true;\n      }\n      return Math.round(this.average)\n    },\n    currentAmplitude: function () {\n      if (this.amplitude < 15) { //Azzera suoni impercettibili\n        for (var i = 0; i < this.bars.length; i++) {\n          this.bars[i] = 0\n        }\n        return\n      }\n      //Bar 7 valore max\n      //Bar 6->0 decrescente\n      //Bar 8->max decrescente\n      //Bar2  la centrale,\n      //Bar 1 e 3 sempre uguali\n      const amplitude = this.amplitude * this.threshold;\n      if (Math.round(this.amplitude / 10) % 2 == 1) {\n        const fullValue = Math.min(amplitude, 60);\n        this.bars[6] = fullValue;\n        for (var i = 0; i < 6; i++) {\n          let range = [(i+1) * 16, Math.min(100,(i + 2) * 16)];\n          let perc = Math.random() * (range[0] - range[1]) + range[1];\n          this.bars[5 - i] = Math.min(10, fullValue * (perc / 100))\n          this.bars[7 + i] = Math.min(10, fullValue * (perc / 100))\n\n        }\n      } else {\n        const fullValue = amplitude\n        this.bars[6] = Math.min(amplitude / 2, 10)\n        for (var i = 0; i < 6; i++) {\n          let range = [(i+1) * 16, Math.min(100,(i + 2) * 16)];\n          let perc = 100 - (Math.random() * (range[0] - range[1]) + range[1]);\n          this.bars[5 - i] = Math.min(60, fullValue * (perc / 100))\n          this.bars[7 + i] = Math.min(60, fullValue * (perc / 100))\n        }\n      }\n    }\n  }\n}\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./inputmicrophonebig.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./inputmicrophonebig.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./inputmicrophonebig.vue?vue&type=template&id=8b4f1200\"\nimport script from \"./inputmicrophonebig.vue?vue&type=script&lang=js\"\nexport * from \"./inputmicrophonebig.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\nconst _errorImage = require(\"~/assets/images/errorwifi.png\");\nconst _errorExecution = require(\"~/assets/images/error_execution.png\");\nconst _errorMic = require(\"~/assets/images/error_mic.png\");\nconst _errorNoise = require(\"~/assets/images/error_noise.png\");\nconst _errorWifi = require(\"~/assets/images/error_wifi.png\");\nconst _error10014 = require(\"~/assets/images/error_10014.png\");\nconst _error10016 = require(\"~/assets/images/error_10016.png\");\nconst _error10019 = require(\"~/assets/images/error_10019.png\");\nconst maxTries = 5;\n\nexport default {\n  props: {\n    show: {\n      type: Boolean,\n      default: false\n    },\n    error: {\n      type: String,\n      default: \"error_restapi\"\n    },\n    tries: {\n      type: Number,\n      default: 0\n    }\n  },\n  data() {\n    return {\n      phase: 1,\n      warnpopup: false\n    }\n  },\n  computed: {\n    environment: function() {\n      if($nuxt.$config.env.environment.indexOf('library') > -1) {\n        return \"library\";\n      }\n      return \"app\";\n    },\n    showDialog: function () {\n      if (this.tries >= maxTries) {\n        this.phase = 2;\n      }\n      return this.show;\n    },\n    canDownloadAudio() {\n      if (this.error == \"error_restapi\") {\n        return true\n      }\n      return false\n    },\n    errorImage() {\n      if (this.error == \"error_restapi\") {\n        return _errorWifi;\n      }\n      if (this.error == \"incorrect_execution\") {\n        return _errorExecution;\n      }\n      if (this.error == \"no_audio\") {\n        return _errorMic;\n      }\n      if (this.error == \"too_noise\") {\n        return _errorNoise;\n      }\n      if (this.error == \"error_10014\") {\n        return _error10014;\n      }\n      if (this.error == \"error_10016\") {\n        return _error10016;\n      }\n      if (this.error == \"error_10019\") {\n        return _error10019;\n      }\n      if (this.error == \"error_10020\") {\n        return _error10019;\n      }\n      return _errorImage;\n    },\n    errorTitle() {\n      if (this.error == \"error_10014\" || this.error == \"error_10016\" || this.error == \"error_10019\"|| this.error == \"error_10020\") {\n        return 'completitionfailed.' + this.error + '.title';\n      }\n      if (this.error == \"error_restapi\" || this.error == \"incorrect_execution\" || this.error == \"no_audio\" || this.error == \"too_noise\") {\n        return 'completitionfailed.' + this.error + '.title';\n      }\n      return 'completitionfailed.title_' + this.phase;\n    },\n    errorMessage() {\n      if (this.error == \"error_10014\" || this.error == \"error_10016\" || this.error == \"error_10019\"|| this.error == \"error_10020\") {\n        return 'completitionfailed.' + this.error + '.message';\n      }\n      if (this.error == \"error_restapi\" || this.error == \"incorrect_execution\" || this.error == \"no_audio\" || this.error == \"too_noise\") {\n        return 'completitionfailed.' + this.error + '.message';\n    }\n      return 'completitionfailed.msg_' + this.phase;\n    }\n\n  },\n  methods: {\n    requestDownload(e) {\n      console.log('some one requests a download');\n      this.$emit('blobdownload', e);\n    },\n    closeClick(e) {\n      //Home loose every thing, get back to home\n      if (this.phase === 1) {\n        //show popup sample\n        this.warnpopup = true;\n        return;\n      }\n      this.closeAnyWay(e);\n    },\n    closeAnyWay(e) {\n      this.$emit('close', e);\n      $nuxt.$router.replace($nuxt.localePath(\"/home\"));\n    },\n    nextClick(e) {\n      this.$emit('retry', e);\n    }\n\n  },\n  mounted() {\n\n  }\n}\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./completitionfailed.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./completitionfailed.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./completitionfailed.vue?vue&type=template&id=72049a04\"\nimport script from \"./completitionfailed.vue?vue&type=script&lang=js\"\nexport * from \"./completitionfailed.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}