{"version":3,"sources":["webpack:///./pages/index.vue","webpack:///./pages/index.vue?d750","webpack:///./pages/index.vue?b245","webpack:///./mixins.js/basepage.js"],"names":["name","mixins","basepage","transition","beforeMount","this","$analytics","setScreenName","mounted","_this","window","currentVMToken","$keepawakemanager","$deviceInfo","getInfo","then","r","deviceInfo","$exerciseManager","setDeviceCode","component","_c","_self","staticClass","_v","mode","css","beforeEnter","el","document","querySelector","classList","contains","startPoint","$anime","set","scale","opacity","translateX","enter","done","targets","duration","easing","complete","leave","translateY","afterLeave","remove","data","exid","$route","params","id","programid","fromprogram","withindex","backto","hasBack","hasNext","hasInfo","exercisequit","open","watch","$nextTick","updateExternalLink","computed","_objectSpread","mapGetters","getCurrentPagerHeight","isVoicemed","$nuxt","$config","env","environment","indexOf","isAirlyn","nuxtloading","$loading","loading","defaultHomeUrl","methods","mapActions","setCurrentPage","setCurrentPagerHeight","showQuitDialog","resetQuitDialog","confirmQuitDialog","logEvent","getCurrentExercise","title","program_id","type","add","exerciseStepBack","$airlyn","finishExercise","finally","closeExercise","$router","replace","localePath","buildSuffix","suffixes","programCheck","push","join","hasJoinedProgramById","$store","getters","getProgramJoinedAtById","getProgramById","getOverallProgressProgramById","getDoneCountByProgramId","getNextExerciseByProgramId","getExercisetocompleteCountProgramById","getExercisecompletedCountProgramById","printDeviceError","prefix","error","clickEvent","resetEvent","toLowerCase","exception","state","showError","$t","$root","$emit","printDeviceErrorOLD","hasretry","click","openPermissionPanel","catch","e","retryBtn","manageMicError","manageCamError","manageMicCamError","swipeEvent","attachSwipeListener","addEventListener","detachSwipeListeners","removeEventListener","fixWindowVariables","variable","top","consumeExternalLink","stopPropagation","preventDefault","_href","target","getAttribute","innerText","$browser","url","_this2","_toConsumableArray","querySelectorAll","forEach","_anchor","_url","length","substr","_this3","item","beforeDestroy","updated","_this4","dynamicTexts","Object","keys","map","text","$appConfiguration","getText","Math","max","clientHeight","offsetHeight"],"mappings":"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","file":"c7d5620.js","sourcesContent":["\nimport basepage from \"~/mixins.js/basepage.js\";\nimport {mapActions, mapGetters} from 'vuex'\n\nexport default {\n  name: 'welcome',\n  mixins: [basepage],\n  transition: {\n    name: 'fade'\n  },\n  beforeMount() {\n\n    console.log('sono la index opening');\n    this.$analytics.setScreenName(\"WelcomeSDKPage\");\n  },\n  mounted() {\n    console.log('ready to load airlyn features');\n    if (window.currentVMToken) {\n      console.log('Current VM Token', window.currentVMToken)\n    }\n    console.log('Check environment ready:', window.currentExercise, window.currentChallenge, window.currentVMToken)\n    this.$keepawakemanager();\n\n    this.$deviceInfo.getInfo().then((r) => {\n      this.deviceInfo = r;\n      this.$exerciseManager.setDeviceCode(r);\n    });\n\n  }\n}\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5f3e5a19\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import {mapGetters, mapActions} from 'vuex'\n\nexport default {\n  name: 'basePage',\n  transition: {\n    name: 'slide',\n    mode: 'out-in',\n    css: false,\n    beforeEnter(el) {\n      if (document.querySelector('#__nuxt').classList.contains('quit')) {\n        return\n      }\n      const startPoint = document.querySelector('#__nuxt').classList.contains('back') ? '-100%' : '100%';\n      this.$anime.set(el, {\n        scale: 1,\n        opacity: 0,\n        translateX: startPoint\n      })\n    },\n    enter(el, done) {\n      const startPoint = document.querySelector('#__nuxt').classList.contains('back') ? '-100%' : '100%';\n      this.$anime({\n        targets: el,\n        opacity: [0, 1],\n        translateX: [startPoint, \"0\"],\n        duration: 500,\n        easing: 'easeInOutSine',\n        complete: done\n      })\n    },\n    leave(el, done) {\n      if (document.querySelector('#__nuxt').classList.contains('quit')) {\n        this.$anime({\n          targets: el,\n          /*opacity: [1, 0],*/\n          translateY: [0, '100%'],\n          duration: 500,\n          easing: 'easeInOutSine',\n          complete: done\n        });\n        return\n      }\n      const startPoint = document.querySelector('#__nuxt').classList.contains('back') ? '100%' : '-100%';\n      this.$anime({\n        targets: el,\n        opacity: [1, 0],\n        translateX: [\"0\", startPoint],\n        duration: 500,\n        easing: 'easeInOutSine',\n        complete: done\n      });\n    },\n    afterLeave(el) {\n      document.querySelector('#__nuxt').classList.remove('quit');\n      document.querySelector('#__nuxt').classList.remove('back');\n    }\n  },\n  data() {\n    return {\n      \"name\": \"basePage\",\n      exid: (this.$route.params.id),\n      programid: (this.$route.params.fromprogram || false),\n      withindex: (this.$route.params.withindex || -1),\n      backto: (this.$route.params.backto || false),\n      hasBack: false,\n      hasNext: false,\n      hasInfo: false,\n      exercisequit: {\n        open: false\n      }\n    }\n  },\n  watch: {\n    'about.show': function () {\n      this.$nextTick(() => {\n        this.updateExternalLink();\n      })\n    }\n  },\n  computed: {\n    ...mapGetters({\n      getCurrentPagerHeight: 'getCurrentPagerHeight'\n    }),\n    isVoicemed() {\n      return $nuxt.$config.env.environment.indexOf('voicemed_') > -1\n    },\n    isAirlyn() {\n      return $nuxt.$config.env.environment.indexOf('voicemed_') < 0\n    },\n    nuxtloading() {\n      return $nuxt.$loading.loading\n    },\n    defaultHomeUrl() {\n      //We know that we can customize the opening url:\n      return \"/\";\n      if (this.isAirlyn) {\n        return \"/\";\n      }\n      if (this.isVoicemed) {\n        return \"/\";\n      }\n    }\n  },\n  methods: {\n    ...mapActions({\n      setCurrentPage: 'setCurrentPage',\n      setCurrentPagerHeight: 'setCurrentPagerHeight'\n    }),\n    showQuitDialog() {\n      console.log('mi chiedi di uscire')\n      this.exercisequit.open = true;\n      console.log('cok ci sono', this.exercisequit.open)\n    },\n    resetQuitDialog() {\n      this.exercisequit.open = false;\n    },\n    confirmQuitDialog() {\n\n      this.exercisequit.open = false;\n      this.$analytics.logEvent('exercise_quit', {\n        \"id\": this.getCurrentExercise.id,\n        \"name\": this.getCurrentExercise.title,\n        \"program_id\": this.getCurrentExercise.program_id || null,\n        \"type\": this.getCurrentExercise.type,\n      })\n      if (document.querySelector('#__nuxt')) {\n        document.querySelector('#__nuxt').classList.add('quit');\n      }\n      this.exerciseStepBack()\n    },\n    exerciseStepBack() {\n      console.log('exit test', this.backto, this.programid)\n      if (this.backto == \"standalone\" || this.backto == \"challengemode\") {\n        $nuxt.$airlyn.finishExercise({\"reason\": 'user-cancelled', \"result\": {}}).finally(() => {\n          console.log('exercise finished by user')\n        });\n        $nuxt.$airlyn.closeExercise().finally(() => {\n          console.log('exercise closed, success')\n        });\n        return\n      }\n      if (this.backto == 'today') {\n        $nuxt.$router.replace($nuxt.localePath(\"/user/today\"));\n        return\n      }\n      if (this.backto == 'discovery') {\n        $nuxt.$router.replace($nuxt.localePath(\"/home\"));\n        return\n      }\n      if (this.programid) {\n        if (this.programid == \"-1\" || this.programid == -1 || this.programid == \"false\" || this.programid == false) {\n          $nuxt.$router.replace($nuxt.localePath(\"/user/today\"));\n        } else {\n          $nuxt.$router.replace($nuxt.localePath(\"/ml/programs/\" + this.programid));\n        }\n        return\n      }\n\n      $nuxt.$router.replace($nuxt.localePath(\"/user/today\"));\n    },\n    buildSuffix() {\n      let suffixes = [];\n      const programCheck = this.programid ? this.programid : false;\n      suffixes.push(programCheck !== '-1' ? programCheck : false);\n      suffixes.push(this.withindex ? this.withindex : \"-1\")\n      suffixes.push(this.backto ? this.backto : false)\n      return suffixes.join(\"/\")\n    }, hasJoinedProgramById(id) {\n      return this.$nuxt.$store.getters.hasJoinedProgramById(id)\n    },\n    getProgramJoinedAtById(id) {\n      return this.$nuxt.$store.getters.getProgramJoinedAtById(id)\n    },\n    getProgramById(id) {\n      return this.$nuxt.$store.getters.getProgramById(id)\n    },\n    getOverallProgressProgramById(id) {\n      return this.$nuxt.$store.getters.getOverallProgressProgramById(id)\n    },\n    getDoneCountByProgramId(id) {\n      return this.$nuxt.$store.getters.getDoneCountByProgramId(id)\n    },\n    getNextExerciseByProgramId(id) {\n      return this.$nuxt.$store.getters.getNextExerciseByProgramId(id)\n    },\n    getExercisetocompleteCountProgramById(id) {\n      return this.$nuxt.$store.getters.getExercisetocompleteCountProgramById(id)\n    },\n    getExercisecompletedCountProgramById(id) {\n      return this.$nuxt.$store.getters.getExercisecompletedCountProgramById(id)\n    },\n    printDeviceError(prefix, error, clickEvent, resetEvent) {\n      this.$analytics.logEvent(\"permission_error\", {\n        \"title\": 'errors.' + prefix + \".\" + error.name.toLowerCase() + \".title\",\n        \"kind\": prefix\n      });\n      console.error('Got device error', error)\n      if (error && (error.name === \"NotAllowedError\" || error.name === \"NotFoundError\" || error.exception.state == \"denied\" || error.exception.state == \"DENIED\")) {\n        this.$root.$emit('showPermssionError', true)\n        return\n      }\n\n      this.showError(\n        this.$t('errors.generic.title'),\n        this.$t('errors.generic.description'),\n        clickEvent,\n        resetEvent\n      );\n    },\n    printDeviceErrorOLD(prefix, error, clickEvent, resetEvent) {\n      this.$analytics.logEvent(\"permission_error\", {\n        \"title\": 'errors.' + prefix + \".\" + error.name.toLowerCase() + \".title\",\n        \"kind\": prefix\n      });\n      console.error('Got device error', error)\n      if (error.exception && prefix == \"mic\") {\n        if (error.exception.state == \"denied\" || error.exception.state == \"DENIED\") {\n          error.name = \"DeniedError\";\n          this.$root.$emit('showError', {\n            title: this.$t('errors.' + prefix + \".\" + error.name.toLowerCase() + \".title\"),\n            error: this.$t('errors.' + prefix + \".\" + error.name.toLowerCase() + \".description\"),\n            hasretry: true,\n            click: function () {\n              $nuxt.$airlyn.openPermissionPanel().then((r) => {\n                console.log('got openPermission Panel then', r, JSON.stringify(r))\n              }).catch((e) => {\n                console.log('got openPermission Panel catch', e, JSON.stringify(e))\n              }).finally(() => {\n                //esegui comunque il reset event...\n                if (typeof resetEvent == 'function') {\n                  console.log('dopo il setting riport cmq a inizio')\n                  resetEvent()\n                }\n              })\n              return true\n            },\n            resetEvent: resetEvent || function () {\n            },\n            retryBtn: \"Settings\"\n          });\n          return\n        }\n      }\n      if (error && (error.name === \"NotAllowedError\" || error.name === \"NotFoundError\")) {\n        //Permission error\n        this.showError(\n          this.$t('errors.' + prefix + \".\" + error.name.toLowerCase() + \".title\"),\n          this.$t('errors.' + prefix + \".\" + error.name.toLowerCase() + \".description\"),\n          clickEvent,\n          resetEvent\n        );\n        return\n      }\n      this.showError(\n        this.$t('errors.generic.title'),\n        this.$t('errors.generic.description'),\n        clickEvent,\n        resetEvent\n      );\n    },\n    manageMicError(e, clickEvent, resetEvent) {\n      this.printDeviceError('mic', e, clickEvent, resetEvent);\n    },\n    manageCamError(e, clickEvent, resetEvent) {\n      this.printDeviceError('cam', e, clickEvent, resetEvent);\n    },\n    manageMicCamError(e, clickEvent, resetEvent) {\n      this.printDeviceError('miccam', e, clickEvent, resetEvent);\n    },\n    showError(title, error, clickEvent, resetEvent) {\n      this.$root.$emit('showError', {\n        title: title,\n        error: error,\n        hasretry: clickEvent !== null ? true : false,\n        click: clickEvent || function () {\n        },\n        resetEvent: resetEvent || function () {\n        }\n      });\n    },\n    swipeEvent(e) {\n      //console.log(e.target); // element that was swiped\n      //console.log(e.detail); // see event data below\n      this.$root.$emit(\"swipe\", e);\n    },\n    attachSwipeListener() {\n      document.addEventListener('swiped-left', this.swipeEvent);\n      document.addEventListener('swiped-right', this.swipeEvent);\n    },\n    detachSwipeListeners() {\n      document.removeEventListener('swiped-left', this.swipeEvent);\n      document.removeEventListener('swiped-right', this.swipeEvent);\n    },\n    fixWindowVariables(variable) {\n      if (typeof window[variable] === 'undefined') {\n        if (window.top[variable] !== 'undefined') {\n          window[variable] = window.top[variable];\n        }\n      }\n    },\n    consumeExternalLink(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      const _href = e.target.getAttribute('href');\n      const _title = e.target.getAttribute('title') || e.target.innerText;\n      console.log('richiesto', _href);\n      this.$browser.open({url: _href});\n      //this.openBrowser({url:_href,title:_title})\n      return false;\n    },\n    updateExternalLink() {\n      [...document.querySelectorAll(\"a:not(.vm_managed)\")].forEach((_anchor) => {\n        if (_anchor.getAttribute('href') !== 'undefined') {\n          const _url = _anchor.getAttribute('href');\n          if (_url.length >= 1 && _url.substr(0, 1) === \"/\") {\n            //Url interno\n            return;\n          }\n          if (_url.length >= 1 && _url.substr(0, 1) === \"#\") {\n            //Url interno\n            return;\n          }\n          if ((_url.length >= 8 && _url.substr(0, 8) === \"https://\") || (_url.length >= 7 && _url.substr(0, 8) === \"http://\")) {\n            //Url estero:\n            _anchor.classList.add('vm_managed');\n            _anchor.removeEventListener('click', this.consumeExternalLink);\n            _anchor.addEventListener('click', this.consumeExternalLink)\n            return;\n          }\n        }\n      })\n    }\n  },\n  beforeMount() {\n    console.log('PRE loaded base Page')\n\n    console.log('fix loading variables');\n      ['currentChallenge','currentExercise', 'currentVMToken', 'currentVMKey', 'currentVMUrl'].forEach((item) => {\n      this.fixWindowVariables(item);\n    })\n\n    this.setCurrentPage(this);\n  },\n  beforeDestroy() {\n    this.detachSwipeListeners();\n  },\n\n  updated() {\n    console.warn('pagina aggiornata');\n    this.updateExternalLink();\n  },\n  mounted() {\n    console.log('loaded base Page')\n    //Init Preferences if app is native:\n    console.log('try Load index', this.name, this.dynamicTexts);\n    if (this.dynamicTexts && Object.keys(this.dynamicTexts).length > 0) {\n      Object.keys(this.dynamicTexts).map((text) => {\n        this.$appConfiguration.getText(text).then((r) => {\n          this.dynamicTexts[text] = r;\n        }).catch((e) => {\n          this.dynamicTexts[text] = this.$t(this.name + '.' + text);\n        })\n      })\n    }\n    if (this.getCurrentPagerHeight !== null && document.querySelector('.v-main__wrap > div.pager')) {\n      console.log('some one request new height: ', this.getCurrentPagerHeight);\n      //document.querySelector('.v-main__wrap > div.pager').style.height = this.getCurrentPagerHeight + \"px\";\n    }\n    this.$nextTick(() => {\n      //Start swipe features:\n      this.attachSwipeListener();\n      if (this.getCurrentPagerHeight === null) {\n        if (document.querySelector('.v-main__wrap > div.pager')) {\n          this.setCurrentPagerHeight(Math.max(document.querySelector('.v-main__wrap > div.pager').clientHeight, document.querySelector('.v-main__wrap > div.pager').offsetHeight));\n        }\n      }\n    });\n  }\n\n}\n"],"sourceRoot":""}