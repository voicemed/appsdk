{"version":3,"sources":["webpack:///./pages/index.vue","webpack:///./pages/index.vue?d750","webpack:///./pages/index.vue?b245","webpack:///./mixins.js/basepage.js"],"names":["name","mixins","basepage","transition","beforeMount","console","log","this","$analytics","setScreenName","mounted","_this","window","currentVMToken","currentExercise","currentChallenge","$deviceInfo","getInfo","then","r","deviceInfo","$exerciseManager","setDeviceCode","component","_c","_self","staticClass","_v","mode","css","beforeEnter","el","document","querySelector","classList","contains","startPoint","$anime","set","scale","opacity","translateX","enter","done","targets","duration","easing","complete","leave","translateY","afterLeave","remove","data","exid","$route","params","id","programid","fromprogram","withindex","backto","hasBack","hasNext","hasInfo","computed","_objectSpread","mapGetters","getCurrentPagerHeight","isVoicemed","$nuxt","$config","env","environment","indexOf","isAirlyn","nuxtloading","$loading","loading","defaultHomeUrl","methods","mapActions","setCurrentPage","setCurrentPagerHeight","exerciseStepBack","$airlyn","finishExercise","finally","closeExercise","$router","replace","localePath","buildSuffix","suffixes","programCheck","push","join","hasJoinedProgramById","$store","getters","getProgramJoinedAtById","getProgramById","getOverallProgressProgramById","getDoneCountByProgramId","getNextExerciseByProgramId","getExercisetocompleteCountProgramById","getExercisecompletedCountProgramById","printDeviceError","prefix","error","clickEvent","resetEvent","logEvent","toLowerCase","exception","state","showError","$t","$root","$emit","printDeviceErrorOLD","title","hasretry","click","openPermissionPanel","JSON","stringify","catch","e","retryBtn","manageMicError","manageCamError","manageMicCamError","swipeEvent","attachSwipeListener","addEventListener","detachSwipeListeners","removeEventListener","fixWindowVariables","variable","top","forEach","item","beforeDestroy","_this2","dynamicTexts","Object","keys","length","map","text","$appConfiguration","getText","$nextTick","Math","max","clientHeight","offsetHeight"],"mappings":"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","file":"0a54741.js","sourcesContent":["\nimport basepage from \"~/mixins.js/basepage.js\";\nimport {mapActions, mapGetters} from 'vuex'\n\nexport default {\n  name: 'welcome',\n  mixins: [basepage],\n  transition: {\n    name: 'fade'\n  },\n  beforeMount() {\n\n    console.log('sono la index opening');\n    this.$analytics.setScreenName(\"WelcomeSDKPage\");\n  },\n  mounted() {\n    console.log('ready to load airlyn features');\n    if (window.currentVMToken) {\n      console.log('Current VM Token', window.currentVMToken)\n    }\n    console.log('Check environment ready:', window.currentExercise, window.currentChallenge, window.currentVMToken)\n\n    this.$deviceInfo.getInfo().then((r) => {\n      this.deviceInfo = r;\n      this.$exerciseManager.setDeviceCode(r);\n    });\n\n  }\n}\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=08271870\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import {mapGetters, mapActions} from 'vuex'\n\nexport default {\n  name: 'basePage',\n  transition: {\n    name: 'slide',\n    mode: 'out-in',\n    css: false,\n    beforeEnter(el) {\n      if (document.querySelector('#__nuxt').classList.contains('quit')) {\n        return\n      }\n      const startPoint = document.querySelector('#__nuxt').classList.contains('back') ? '-100%' : '100%';\n      this.$anime.set(el, {\n        scale: 1,\n        opacity: 0,\n        translateX: startPoint\n      })\n    },\n    enter(el, done) {\n      const startPoint = document.querySelector('#__nuxt').classList.contains('back') ? '-100%' : '100%';\n      this.$anime({\n        targets: el,\n        opacity: [0, 1],\n        translateX: [startPoint, \"0\"],\n        duration: 500,\n        easing: 'easeInOutSine',\n        complete: done\n      })\n    },\n    leave(el, done) {\n      if (document.querySelector('#__nuxt').classList.contains('quit')) {\n        this.$anime({\n          targets: el,\n          /*opacity: [1, 0],*/\n          translateY: [0, '100%'],\n          duration: 500,\n          easing: 'easeInOutSine',\n          complete: done\n        });\n        return\n      }\n      const startPoint = document.querySelector('#__nuxt').classList.contains('back') ? '100%' : '-100%';\n      this.$anime({\n        targets: el,\n        opacity: [1, 0],\n        translateX: [\"0\", startPoint],\n        duration: 500,\n        easing: 'easeInOutSine',\n        complete: done\n      });\n    },\n    afterLeave(el) {\n      document.querySelector('#__nuxt').classList.remove('quit');\n      document.querySelector('#__nuxt').classList.remove('back');\n    }\n  },\n  data() {\n    return {\n      \"name\": \"basePage\",\n      exid: (this.$route.params.id),\n      programid: (this.$route.params.fromprogram || false),\n      withindex: (this.$route.params.withindex || -1),\n      backto: (this.$route.params.backto || false),\n      hasBack: false,\n      hasNext: false,\n      hasInfo: false\n    }\n  },\n  computed: {\n    ...mapGetters({\n      getCurrentPagerHeight: 'getCurrentPagerHeight'\n    }),\n    isVoicemed() {\n      return $nuxt.$config.env.environment.indexOf('voicemed_') > -1\n    },\n    isAirlyn() {\n      return $nuxt.$config.env.environment.indexOf('voicemed_') < 0\n    },\n    nuxtloading() {\n      return $nuxt.$loading.loading\n    },\n    defaultHomeUrl() {\n      //We know that we can customize the opening url:\n      return \"/\";\n      if (this.isAirlyn) {\n        return \"/\";\n      }\n      if (this.isVoicemed) {\n        return \"/\";\n      }\n    }\n  },\n  methods: {\n    ...mapActions({\n      setCurrentPage: 'setCurrentPage',\n      setCurrentPagerHeight: 'setCurrentPagerHeight'\n    }),\n    exerciseStepBack() {\n      console.log('exit test', this.backto, this.programid)\n      if (this.backto == \"standalone\" || this.backto == \"challengemode\") {\n        $nuxt.$airlyn.finishExercise({\"reason\": 'user-cancelled', \"result\": {}}).finally(() => {\n          console.log('exercise finished by user')\n        });\n        $nuxt.$airlyn.closeExercise().finally(() => {\n          console.log('exercise closed, success')\n        });\n        return\n      }\n      if (this.backto == 'today') {\n        $nuxt.$router.replace($nuxt.localePath(\"/user/today\"));\n        return\n      }\n      if (this.backto == 'discovery') {\n        $nuxt.$router.replace($nuxt.localePath(\"/home\"));\n        return\n      }\n      if (this.programid) {\n        if (this.programid == \"-1\" || this.programid == -1 || this.programid == \"false\" || this.programid == false) {\n          $nuxt.$router.replace($nuxt.localePath(\"/user/today\"));\n        } else {\n          $nuxt.$router.replace($nuxt.localePath(\"/ml/programs/\" + this.programid));\n        }\n        return\n      }\n\n      $nuxt.$router.replace($nuxt.localePath(\"/user/today\"));\n    },\n    buildSuffix() {\n      let suffixes = [];\n      const programCheck = this.programid ? this.programid : false;\n      suffixes.push(programCheck !== '-1' ? programCheck : false);\n      suffixes.push(this.withindex ? this.withindex : \"-1\")\n      suffixes.push(this.backto ? this.backto : false)\n      return suffixes.join(\"/\")\n    }, hasJoinedProgramById(id) {\n      return this.$nuxt.$store.getters.hasJoinedProgramById(id)\n    },\n    getProgramJoinedAtById(id) {\n      return this.$nuxt.$store.getters.getProgramJoinedAtById(id)\n    },\n    getProgramById(id) {\n      return this.$nuxt.$store.getters.getProgramById(id)\n    },\n    getOverallProgressProgramById(id) {\n      return this.$nuxt.$store.getters.getOverallProgressProgramById(id)\n    },\n    getDoneCountByProgramId(id) {\n      return this.$nuxt.$store.getters.getDoneCountByProgramId(id)\n    },\n    getNextExerciseByProgramId(id) {\n      return this.$nuxt.$store.getters.getNextExerciseByProgramId(id)\n    },\n    getExercisetocompleteCountProgramById(id) {\n      return this.$nuxt.$store.getters.getExercisetocompleteCountProgramById(id)\n    },\n    getExercisecompletedCountProgramById(id) {\n      return this.$nuxt.$store.getters.getExercisecompletedCountProgramById(id)\n    },\n    printDeviceError(prefix, error, clickEvent, resetEvent) {\n      this.$analytics.logEvent(\"permission_error\", {\n        \"title\": 'errors.' + prefix + \".\" + error.name.toLowerCase() + \".title\",\n        \"kind\": prefix\n      });\n      console.error('Got device error', error)\n      if (error && (error.name === \"NotAllowedError\" || error.name === \"NotFoundError\" || error.exception.state == \"denied\" || error.exception.state == \"DENIED\")) {\n        this.$root.$emit('showPermssionError', true)\n        return\n      }\n\n      this.showError(\n        this.$t('errors.generic.title'),\n        this.$t('errors.generic.description'),\n        clickEvent,\n        resetEvent\n      );\n    },\n    printDeviceErrorOLD(prefix, error, clickEvent, resetEvent) {\n      this.$analytics.logEvent(\"permission_error\", {\n        \"title\": 'errors.' + prefix + \".\" + error.name.toLowerCase() + \".title\",\n        \"kind\": prefix\n      });\n      console.error('Got device error', error)\n      if (error.exception && prefix == \"mic\") {\n        if (error.exception.state == \"denied\" || error.exception.state == \"DENIED\") {\n          error.name = \"DeniedError\";\n          this.$root.$emit('showError', {\n            title: this.$t('errors.' + prefix + \".\" + error.name.toLowerCase() + \".title\"),\n            error: this.$t('errors.' + prefix + \".\" + error.name.toLowerCase() + \".description\"),\n            hasretry: true,\n            click: function () {\n              $nuxt.$airlyn.openPermissionPanel().then((r) => {\n                console.log('got openPermission Panel then', r, JSON.stringify(r))\n              }).catch((e) => {\n                console.log('got openPermission Panel catch', e, JSON.stringify(e))\n              }).finally(() => {\n                //esegui comunque il reset event...\n                if (typeof resetEvent == 'function') {\n                  console.log('dopo il setting riport cmq a inizio')\n                  resetEvent()\n                }\n              })\n              return true\n            },\n            resetEvent: resetEvent || function () {\n            },\n            retryBtn: \"Settings\"\n          });\n          return\n        }\n      }\n      if (error && (error.name === \"NotAllowedError\" || error.name === \"NotFoundError\")) {\n        //Permission error\n        this.showError(\n          this.$t('errors.' + prefix + \".\" + error.name.toLowerCase() + \".title\"),\n          this.$t('errors.' + prefix + \".\" + error.name.toLowerCase() + \".description\"),\n          clickEvent,\n          resetEvent\n        );\n        return\n      }\n      this.showError(\n        this.$t('errors.generic.title'),\n        this.$t('errors.generic.description'),\n        clickEvent,\n        resetEvent\n      );\n    },\n    manageMicError(e, clickEvent, resetEvent) {\n      this.printDeviceError('mic', e, clickEvent, resetEvent);\n    },\n    manageCamError(e, clickEvent, resetEvent) {\n      this.printDeviceError('cam', e, clickEvent, resetEvent);\n    },\n    manageMicCamError(e, clickEvent, resetEvent) {\n      this.printDeviceError('miccam', e, clickEvent, resetEvent);\n    },\n    showError(title, error, clickEvent, resetEvent) {\n      this.$root.$emit('showError', {\n        title: title,\n        error: error,\n        hasretry: clickEvent !== null ? true : false,\n        click: clickEvent || function () {\n        },\n        resetEvent: resetEvent || function () {\n        }\n      });\n    },\n    swipeEvent(e) {\n      //console.log(e.target); // element that was swiped\n      //console.log(e.detail); // see event data below\n      this.$root.$emit(\"swipe\", e);\n    },\n    attachSwipeListener() {\n      document.addEventListener('swiped-left', this.swipeEvent);\n      document.addEventListener('swiped-right', this.swipeEvent);\n    },\n    detachSwipeListeners() {\n      document.removeEventListener('swiped-left', this.swipeEvent);\n      document.removeEventListener('swiped-right', this.swipeEvent);\n    },\n    fixWindowVariables(variable) {\n      if (typeof window[variable] === 'undefined') {\n        if (window.top[variable] !== 'undefined') {\n          window[variable] = window.top[variable];\n        }\n      }\n    }\n  },\n  beforeMount() {\n    console.log('PRE loaded base Page')\n\n    console.log('fix loading variables');\n      ['currentChallenge','currentExercise', 'currentVMToken', 'currentVMKey', 'currentVMUrl'].forEach((item) => {\n      this.fixWindowVariables(item);\n    })\n\n    this.setCurrentPage(this);\n  },\n  beforeDestroy() {\n    this.detachSwipeListeners();\n  },\n  mounted() {\n    console.log('loaded base Page')\n    //Init Preferences if app is native:\n    console.log('try Load index', this.name, this.dynamicTexts);\n    if (this.dynamicTexts && Object.keys(this.dynamicTexts).length > 0) {\n      Object.keys(this.dynamicTexts).map((text) => {\n        this.$appConfiguration.getText(text).then((r) => {\n          this.dynamicTexts[text] = r;\n        }).catch((e) => {\n          this.dynamicTexts[text] = this.$t(this.name + '.' + text);\n        })\n      })\n    }\n    if (this.getCurrentPagerHeight !== null && document.querySelector('.v-main__wrap > div.pager')) {\n      console.log('some one request new height: ', this.getCurrentPagerHeight);\n      //document.querySelector('.v-main__wrap > div.pager').style.height = this.getCurrentPagerHeight + \"px\";\n    }\n    this.$nextTick(() => {\n      //Start swipe features:\n      this.attachSwipeListener();\n      if (this.getCurrentPagerHeight === null) {\n        if (document.querySelector('.v-main__wrap > div.pager')) {\n          this.setCurrentPagerHeight(Math.max(document.querySelector('.v-main__wrap > div.pager').clientHeight, document.querySelector('.v-main__wrap > div.pager').offsetHeight));\n        }\n      }\n    });\n  }\n\n}\n"],"sourceRoot":""}