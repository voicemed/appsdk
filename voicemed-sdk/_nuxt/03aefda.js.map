{"version":3,"sources":["webpack:///./mixins.js/basepage.js","webpack:///./components/infodialog.vue?a773","webpack:///./components/infodialog.vue","webpack:///./components/infodialog.vue?c289","webpack:///./mixins.js/exercisepage.js","webpack:///./pages/ml/exerciseexecutor/video.vue","webpack:///./pages/ml/exerciseexecutor/video.vue?1eed","webpack:///./pages/ml/exerciseexecutor/video.vue?c619"],"names":["name","transition","mode","css","beforeEnter","el","document","querySelector","classList","contains","startPoint","this","$anime","set","scale","opacity","translateX","enter","done","targets","duration","easing","complete","leave","translateY","afterLeave","remove","data","exid","$route","params","id","programid","fromprogram","withindex","backto","hasBack","hasNext","hasInfo","computed","_objectSpread","mapGetters","getCurrentPagerHeight","isVoicemed","$nuxt","$config","env","environment","indexOf","isAirlyn","nuxtloading","$loading","loading","defaultHomeUrl","methods","mapActions","setCurrentPage","setCurrentPagerHeight","exerciseStepBack","console","log","$airlyn","finishExercise","finally","closeExercise","$router","replace","localePath","buildSuffix","suffixes","programCheck","push","join","hasJoinedProgramById","$store","getters","getProgramJoinedAtById","getProgramById","getOverallProgressProgramById","getDoneCountByProgramId","getNextExerciseByProgramId","getExercisetocompleteCountProgramById","getExercisecompletedCountProgramById","printDeviceError","prefix","error","clickEvent","resetEvent","$analytics","logEvent","toLowerCase","exception","state","showError","$t","$root","$emit","printDeviceErrorOLD","title","hasretry","click","openPermissionPanel","then","r","JSON","stringify","catch","e","retryBtn","manageMicError","manageCamError","manageMicCamError","swipeEvent","attachSwipeListener","addEventListener","detachSwipeListeners","removeEventListener","fixWindowVariables","variable","window","top","beforeMount","_this","forEach","item","beforeDestroy","mounted","_this2","dynamicTexts","Object","keys","length","map","text","$appConfiguration","getText","style","height","$nextTick","Math","max","clientHeight","offsetHeight","props","type","String","default","contentclasses","description","infoImage","showSuperTitle","Boolean","thumbInTitle","show","showDialog","closeClick","component","_vm","_c","_self","attrs","model","value","callback","$$v","expression","scopedSlots","_u","key","fn","class","staticClass","_v","_e","domProps","_s","proxy","on","_t","installComponents","FullpageCard","mixins","basepage","getExercises","getCurrentExercise","exercise","warn","step","play","videofile","loaded","ended","currentTime","currentTimeS","uuid","video","undefined","totalDuration","about","body","skipTutorial","isCurrentUserGuest","convertTimeHHMMSS","playerId","currentPercent","perc","setCurrentExerciseIndex","setCurrentExerciseById","setCurrentUser","setIsGuest","addDoneExercise","setCurrentExerciseByData","nextStep","startMediaExcerise","backStep","exitClick","closeInfo","infoStep","playClick","prevStep","requestFullScreen","elem","getElementById","requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","webkitEnterFullScreen","generateUUID","c","random","toString","val","hhmmss","Date","toISOString","substr","pause","forwardClick","rewindClick","program_id","add","_handleLoaded","readyState","fixVideoHeight","videoWidth","videoHeight","parseInt","_handlePlayingUI","currTime","_handlePlayPause","_handleFullScreenMode","paused","_handleEnd","completed","suffix","passed","$exerciseManager","completeExercise","response","$captureException","leaveBtn","startAgain","finish","init","getVideo","$el","querySelectorAll","handleBack","retrieveCurrentExerciseAndSet","_this3","_joinProgram","list","exercises","filter","i","program_index","videoW","videoH","videoRatio","_videoContainer","_maxHeight","_maxWidth","clientWidth","_page","closest","_header","_footer","_runningTime","scrollHeight","_bodyHeight","min","overflow","width","load","_this4","$capacitor","isNativePlatform","$backEmitter","startExercise","setScreenName","$humanizeTime","ref","videoThumbnail","aboutImage","thumbnail","Infodialog"],"mappings":"8vBAEe,KACbA,KAAM,WACNC,WAAY,CACVD,KAAM,QACNE,KAAM,SACNC,KAAK,EACLC,YAAW,SAACC,GACV,IAAIC,SAASC,cAAc,WAAWC,UAAUC,SAAS,QAAzD,CAGA,IAAMC,EAAaJ,SAASC,cAAc,WAAWC,UAAUC,SAAS,QAAU,QAAU,OAC5FE,KAAKC,OAAOC,IAAIR,EAAI,CAClBS,MAAO,EACPC,QAAS,EACTC,WAAYN,GALd,CAOF,EACAO,MAAK,SAACZ,EAAIa,GACR,IAAMR,EAAaJ,SAASC,cAAc,WAAWC,UAAUC,SAAS,QAAU,QAAU,OAC5FE,KAAKC,OAAO,CACVO,QAASd,EACTU,QAAS,CAAC,EAAG,GACbC,WAAY,CAACN,EAAY,KACzBU,SAAU,IACVC,OAAQ,gBACRC,SAAUJ,GAEd,EACAK,MAAK,SAAClB,EAAIa,GACR,GAAIZ,SAASC,cAAc,WAAWC,UAAUC,SAAS,QACvDE,KAAKC,OAAO,CACVO,QAASd,EAETmB,WAAY,CAAC,EAAG,QAChBJ,SAAU,IACVC,OAAQ,gBACRC,SAAUJ,QAPd,CAWA,IAAMR,EAAaJ,SAASC,cAAc,WAAWC,UAAUC,SAAS,QAAU,OAAS,QAC3FE,KAAKC,OAAO,CACVO,QAASd,EACTU,QAAS,CAAC,EAAG,GACbC,WAAY,CAAC,IAAKN,GAClBU,SAAU,IACVC,OAAQ,gBACRC,SAAUJ,GARZ,CAUF,EACAO,WAAU,SAACpB,GACTC,SAASC,cAAc,WAAWC,UAAUkB,OAAO,QACnDpB,SAASC,cAAc,WAAWC,UAAUkB,OAAO,OACrD,GAEFC,KAAI,WACF,MAAO,CACL,KAAQ,WACRC,KAAOjB,KAAKkB,OAAOC,OAAOC,GAC1BC,UAAYrB,KAAKkB,OAAOC,OAAOG,cAAe,EAC9CC,UAAYvB,KAAKkB,OAAOC,OAAOI,YAAc,EAC7CC,OAASxB,KAAKkB,OAAOC,OAAOK,SAAU,EACtCC,SAAS,EACTC,SAAS,EACTC,SAAS,EAEb,EACAC,SAAQC,IAAA,GACHC,YAAW,CACZC,sBAAuB,2BACvB,IACFC,WAAU,WACR,OAAOC,MAAMC,QAAQC,IAAIC,YAAYC,QAAQ,cAAgB,CAC/D,EACAC,SAAQ,WACN,OAAOL,MAAMC,QAAQC,IAAIC,YAAYC,QAAQ,aAAe,CAC9D,EACAE,YAAW,WACT,OAAON,MAAMO,SAASC,OACxB,EACAC,eAAc,WAEZ,MAAO,GAOT,IAEFC,QAAOd,IAAA,GACFe,YAAW,CACZC,eAAgB,iBAChBC,sBAAuB,2BACvB,IACFC,iBAAgB,WAEd,GADAC,QAAQC,IAAI,YAAajD,KAAKwB,OAAQxB,KAAKqB,WACxB,cAAfrB,KAAKwB,OAOP,OANAS,MAAMiB,QAAQC,eAAe,CAAC,OAAU,iBAAkB,OAAU,CAAC,IAAIC,SAAQ,WAC/EJ,QAAQC,IAAI,4BACd,SACAhB,MAAMiB,QAAQG,gBAAgBD,SAAQ,WACpCJ,QAAQC,IAAI,2BACd,IAGiB,SAAfjD,KAAKwB,OAIU,aAAfxB,KAAKwB,OAILxB,KAAKqB,UACe,MAAlBrB,KAAKqB,YAAwC,GAAnBrB,KAAKqB,WAAqC,SAAlBrB,KAAKqB,WAA0C,GAAlBrB,KAAKqB,UACtFY,MAAMqB,QAAQC,QAAQtB,MAAMuB,WAAW,gBAEvCvB,MAAMqB,QAAQC,QAAQtB,MAAMuB,WAAW,gBAAkBxD,KAAKqB,YAKlEY,MAAMqB,QAAQC,QAAQtB,MAAMuB,WAAW,gBAZrCvB,MAAMqB,QAAQC,QAAQtB,MAAMuB,WAAW,UAJvCvB,MAAMqB,QAAQC,QAAQtB,MAAMuB,WAAW,eAiB3C,EACAC,YAAW,WACT,IAAIC,EAAW,GACTC,IAAe3D,KAAKqB,WAAYrB,KAAKqB,UAI3C,OAHAqC,EAASE,KAAsB,OAAjBD,GAAwBA,GACtCD,EAASE,KAAK5D,KAAKuB,UAAYvB,KAAKuB,UAAY,MAChDmC,EAASE,OAAK5D,KAAKwB,QAASxB,KAAKwB,QAC1BkC,EAASG,KAAK,IACvB,EAAGC,qBAAoB,SAAC1C,GACtB,OAAOpB,KAAKiC,MAAM8B,OAAOC,QAAQF,qBAAqB1C,EACxD,EACA6C,uBAAsB,SAAC7C,GACrB,OAAOpB,KAAKiC,MAAM8B,OAAOC,QAAQC,uBAAuB7C,EAC1D,EACA8C,eAAc,SAAC9C,GACb,OAAOpB,KAAKiC,MAAM8B,OAAOC,QAAQE,eAAe9C,EAClD,EACA+C,8BAA6B,SAAC/C,GAC5B,OAAOpB,KAAKiC,MAAM8B,OAAOC,QAAQG,8BAA8B/C,EACjE,EACAgD,wBAAuB,SAAChD,GACtB,OAAOpB,KAAKiC,MAAM8B,OAAOC,QAAQI,wBAAwBhD,EAC3D,EACAiD,2BAA0B,SAACjD,GACzB,OAAOpB,KAAKiC,MAAM8B,OAAOC,QAAQK,2BAA2BjD,EAC9D,EACAkD,sCAAqC,SAAClD,GACpC,OAAOpB,KAAKiC,MAAM8B,OAAOC,QAAQM,sCAAsClD,EACzE,EACAmD,qCAAoC,SAACnD,GACnC,OAAOpB,KAAKiC,MAAM8B,OAAOC,QAAQO,qCAAqCnD,EACxE,EACAoD,iBAAgB,SAACC,EAAQC,EAAOC,EAAYC,GAC1C5E,KAAK6E,WAAWC,SAAS,mBAAoB,CAC3C,MAAS,UAAYL,EAAS,IAAMC,EAAMrF,KAAK0F,cAAgB,SAC/D,KAAQN,IAEVzB,QAAQ0B,MAAM,mBAAoBA,IAC9BA,GAAyB,oBAAfA,EAAMrF,MAA6C,kBAAfqF,EAAMrF,MAAqD,UAAzBqF,EAAMM,UAAUC,OAA8C,UAAzBP,EAAMM,UAAUC,MAKzIjF,KAAKkF,UACHlF,KAAKmF,GAAG,wBACRnF,KAAKmF,GAAG,8BACRR,EACAC,GARA5E,KAAKoF,MAAMC,MAAM,sBAAsB,EAU3C,EACAC,oBAAmB,SAACb,EAAQC,EAAOC,EAAYC,GAM7C,GALA5E,KAAK6E,WAAWC,SAAS,mBAAoB,CAC3C,MAAS,UAAYL,EAAS,IAAMC,EAAMrF,KAAK0F,cAAgB,SAC/D,KAAQN,IAEVzB,QAAQ0B,MAAM,mBAAoBA,GAC9BA,EAAMM,WAAuB,OAAVP,IACQ,UAAzBC,EAAMM,UAAUC,OAA8C,UAAzBP,EAAMM,UAAUC,OAwBvD,OAvBAP,EAAMrF,KAAO,mBACbW,KAAKoF,MAAMC,MAAM,YAAa,CAC5BE,MAAOvF,KAAKmF,GAAG,UAAYV,EAAS,IAAMC,EAAMrF,KAAK0F,cAAgB,UACrEL,MAAO1E,KAAKmF,GAAG,UAAYV,EAAS,IAAMC,EAAMrF,KAAK0F,cAAgB,gBACrES,UAAU,EACVC,MAAO,WAYL,OAXAxD,MAAMiB,QAAQwC,sBAAsBC,MAAK,SAACC,GACxC5C,QAAQC,IAAI,gCAAiC2C,EAAGC,KAAKC,UAAUF,GACjE,IAAGG,OAAM,SAACC,GACRhD,QAAQC,IAAI,iCAAkC+C,EAAGH,KAAKC,UAAUE,GAClE,IAAG5C,SAAQ,WAEgB,mBAAdwB,IACT5B,QAAQC,IAAI,uCACZ2B,IAEJ,KACO,CACT,EACAA,WAAYA,GAAc,WAC1B,EACAqB,SAAU,cAKZvB,GAAyB,oBAAfA,EAAMrF,MAA6C,kBAAfqF,EAAMrF,KAUxDW,KAAKkF,UACHlF,KAAKmF,GAAG,wBACRnF,KAAKmF,GAAG,8BACRR,EACAC,GAZA5E,KAAKkF,UACHlF,KAAKmF,GAAG,UAAYV,EAAS,IAAMC,EAAMrF,KAAK0F,cAAgB,UAC9D/E,KAAKmF,GAAG,UAAYV,EAAS,IAAMC,EAAMrF,KAAK0F,cAAgB,gBAC9DJ,EACAC,EAUN,EACAsB,eAAc,SAACF,EAAGrB,EAAYC,GAC5B5E,KAAKwE,iBAAiB,MAAOwB,EAAGrB,EAAYC,EAC9C,EACAuB,eAAc,SAACH,EAAGrB,EAAYC,GAC5B5E,KAAKwE,iBAAiB,MAAOwB,EAAGrB,EAAYC,EAC9C,EACAwB,kBAAiB,SAACJ,EAAGrB,EAAYC,GAC/B5E,KAAKwE,iBAAiB,SAAUwB,EAAGrB,EAAYC,EACjD,EACAM,UAAS,SAACK,EAAOb,EAAOC,EAAYC,GAClC5E,KAAKoF,MAAMC,MAAM,YAAa,CAC5BE,MAAOA,EACPb,MAAOA,EACPc,SAAyB,OAAfb,EACVc,MAAOd,GAAc,WACrB,EACAC,WAAYA,GAAc,WAC1B,GAEJ,EACAyB,WAAU,SAACL,GAGThG,KAAKoF,MAAMC,MAAM,QAASW,EAC5B,EACAM,oBAAmB,WACjB3G,SAAS4G,iBAAiB,cAAevG,KAAKqG,YAC9C1G,SAAS4G,iBAAiB,eAAgBvG,KAAKqG,WACjD,EACAG,qBAAoB,WAClB7G,SAAS8G,oBAAoB,cAAezG,KAAKqG,YACjD1G,SAAS8G,oBAAoB,eAAgBzG,KAAKqG,WACpD,EACAK,mBAAkB,SAACC,QACe,IAArBC,OAAOD,IACa,cAAzBC,OAAOC,IAAIF,KACbC,OAAOD,GAAYC,OAAOC,IAAIF,GAGpC,IAEFG,YAAW,WAAI,IAADC,EAAA,KACZ/D,QAAQC,IAAI,wBAEZD,QAAQC,IAAI,yBACV,CAAC,kBAAmB,iBAAkB,eAAgB,gBAAgB+D,SAAQ,SAACC,GAC/EF,EAAKL,mBAAmBO,EAC1B,IAEAjH,KAAK6C,eAAe7C,KACtB,EACAkH,cAAa,WACXlH,KAAKwG,sBACP,EACAW,QAAO,WAAI,IAADC,EAAA,KACRpE,QAAQC,IAAI,oBAEZD,QAAQC,IAAI,iBAAkBjD,KAAKX,KAAMW,KAAKqH,cAC1CrH,KAAKqH,cAAgBC,OAAOC,KAAKvH,KAAKqH,cAAcG,OAAS,GAC/DF,OAAOC,KAAKvH,KAAKqH,cAAcI,KAAI,SAACC,GAClCN,EAAKO,kBAAkBC,QAAQF,GAAM/B,MAAK,SAACC,GACzCwB,EAAKC,aAAaK,GAAQ9B,CAC5B,IAAGG,OAAM,SAACC,GACRoB,EAAKC,aAAaK,GAAQN,EAAKjC,GAAGiC,EAAK/H,KAAO,IAAMqI,EACtD,GACF,IAEiC,OAA/B1H,KAAK+B,uBAAkCpC,SAASC,cAAc,+BAChED,SAASC,cAAc,6BAA6BiI,MAAMC,OAAS9H,KAAK+B,sBAAwB,MAElG/B,KAAK+H,WAAU,WAEbX,EAAKd,sBAC8B,OAA/Bc,EAAKrF,uBACHpC,SAASC,cAAc,8BACzBwH,EAAKtE,sBAAsBkF,KAAKC,IAAItI,SAASC,cAAc,6BAA6BsI,aAAcvI,SAASC,cAAc,6BAA6BuI,cAGhK,GACF,E,yDCnTqP,ECCxO,CACbC,MAAO,CACL7C,MAAO,CACL8C,KAAMC,OACNC,QAAS,QAEXjJ,WAAY,CACV+I,KAAMC,OACNC,QAAS,4BAEXC,eAAgB,CACdH,KAAMC,OACNC,QAAS,IAEXE,YAAa,CACXJ,KAAMC,OACNC,QAAS,aAEXG,UAAW,CACTL,KAAMC,OACNC,QAAS,MAEXI,eAAgB,CACdN,KAAMO,QACNL,SAAS,GAEXM,aAAc,CACZR,KAAMO,QACNL,SAAS,GAEXO,KAAM,CACJT,KAAMO,QACNL,SAAS,IAGbvH,KAAI,WACF,MAAO,CAAC,CACV,EACAY,SAAU,CACRmH,WAAY,WACV,OAAO/I,KAAK8I,IACd,GAEFnG,QAAU,CACRqG,WAAU,SAAChD,GACThG,KAAKqF,MAAM,QAAQW,EACrB,GAEFmB,QAAO,WACP,G,QC3CE8B,EAAY,YACd,GDRW,WAAkB,IAAIC,EAAI,KAAKC,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,WAAW,CAACE,MAAM,CAAC,WAAa,GAAG,eAAe,GAAG,WAAaH,EAAI5J,WAAW,WAAa,GAAG,gBAAgB,cAAc4J,EAAIV,gBAAgBc,MAAM,CAACC,MAAOL,EAAIH,WAAYS,SAAS,SAAUC,GAAMP,EAAIH,WAAWU,CAAG,EAAEC,WAAW,eAAe,CAACP,EAAG,gBAAgB,CAACQ,YAAYT,EAAIU,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,WAAW,MAAO,CAACX,EAAG,MAAM,CAACY,MAAM,EAAEb,EAAIP,eAAe,OAAO,WAAW,gBAAgBO,EAAIL,aAAa,OAAO,WAAW,mBAAmB,CAAEK,EAAIP,eAAgBQ,EAAG,MAAM,CAACa,YAAY,0BAA0B,CAACd,EAAIe,GAAG,WAAWf,EAAIgB,KAAKhB,EAAIe,GAAG,KAAMf,EAAIR,YAA8B,IAAnBQ,EAAIL,aAAqBM,EAAG,MAAM,CAACa,YAAY,aAAaX,MAAM,CAAC,IAAMH,EAAIR,aAAaQ,EAAIgB,KAAKhB,EAAIe,GAAG,KAAKd,EAAG,MAAM,CAACa,YAAY,gCAAgCG,SAAS,CAAC,UAAYjB,EAAIkB,GAAGlB,EAAI3D,YAAY,EAAE8E,OAAM,GAAM,CAACR,IAAI,OAAOC,GAAG,WAAW,MAAO,CAACX,EAAG,MAAM,CAACa,YAAY,uBAAuB,CAAEd,EAAIR,YAA8B,IAAnBQ,EAAIL,aAAsBM,EAAG,MAAM,CAACa,YAAY,aAAaX,MAAM,CAAC,IAAMH,EAAIR,aAAaQ,EAAIgB,KAAKhB,EAAIe,GAAG,KAAKd,EAAG,OAAO,CAACY,MAAM,CAACb,EAAIV,eAAgB,oBAAoB2B,SAAS,CAAC,UAAYjB,EAAIkB,GAAGlB,EAAIT,kBAAkB,EAAE4B,OAAM,GAAM,CAACR,IAAI,SAASC,GAAG,WAAW,MAAO,CAACX,EAAG,MAAM,CAACY,MAAM,CAAC,UAAU,CAACZ,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,SAAS,KAAO,IAAIiB,GAAG,CAAC,MAAQpB,EAAIF,aAAa,CAACE,EAAIqB,GAAG,YAAW,WAAW,MAAO,CAACpB,EAAG,SAAS,CAACD,EAAIe,GAAG,gBAAgBf,EAAIe,GAAG,KAAKd,EAAG,OAAO,CAACgB,SAAS,CAAC,UAAYjB,EAAIkB,GAAGlB,EAAI/D,GAAG,oBAAoB,KAAI,IAAI,GAAG,EAAEkF,OAAM,IAAO,MAAK,MAAS,EAC9/C,GACsB,ICSpB,EACA,KACA,KACA,MAIa,UAAApB,EAAiB,QAGhCuB,kBAAkBvB,EAAW,CAACwB,aAAc,EAAQ,KAAiHlC,S,4qBClBtJ,KACblJ,KAAM,SACNqL,OAAQ,CAACC,KACT/I,SAAQC,IAAA,GACHC,YAAW,CACZ8I,aAAc,eACdC,mBAAoB,wBACpB,IACFC,SAAQ,WACN,OAAO9K,KAAK6K,kBACd,IAEF1D,QAAO,WACLnE,QAAQC,IAAI,0BAA2BjD,KAAK4K,aAAc5K,KAAK6K,oBAE3D7K,KAAK4K,cAGP5H,QAAQ+H,KAAK,yCAEe,IAA3B/K,KAAK4K,aAAapD,QAGnBxE,QAAQ0B,MAAM,wCAGlB,E,mEC7BF,I,soBAIe,ICJqP,EDIrP,CACbrF,KAAM,cACNqL,OAAQ,CAACC,KACT3J,KAAI,WACF,MAAO,CACLgK,KAAM,EACN/J,KAAOjB,KAAKkB,OAAOC,OAAOC,GAC1BC,UAAYrB,KAAKkB,OAAOC,OAAOG,cAAe,EAC9CC,UAAYvB,KAAKkB,OAAOC,OAAOI,YAAc,EAC7CC,OAASxB,KAAKkB,OAAOC,OAAOK,SAAU,EACtCnC,KAAM,cACN4L,MAAM,EACNC,UAAW,KACXC,QAAQ,EACRC,OAAO,EACPC,YAAa,QACbC,aAAc,EACdC,KAAM,IACNC,WAAOC,EACPC,cAAe,EACfC,MAAO,CACL7C,MAAM,GAGZ,EACAxJ,WAAY,CACVD,KAAM,OACNE,KAAM,SACNC,KAAK,EACLC,YAAW,SAACC,GACVM,KAAKC,OAAOC,IAAIR,EAAI,CAClBS,MAAO,EACPC,QAAS,GAEb,EACAE,MAAK,SAACZ,EAAIa,GACRP,KAAKC,OAAO,CACVO,QAASd,EACTU,QAAS,CAAC,EAAG,GACbK,SAAU,IACVC,OAAQ,gBACRC,SAAUJ,GAEd,EACAK,MAAK,SAAClB,EAAIa,GACRP,KAAKC,OAAO,CACVO,QAASd,EACTU,QAAS,CAAC,EAAG,GACbK,SAAU,IACVC,OAAQ,gBACRC,SAAUJ,IAEZZ,SAASiM,KAAK/L,UAAUkB,OAAO,YACjC,GAMFa,SAAQC,IAAA,GACHC,YAAW,CACZ8I,aAAc,eACdC,mBAAoB,qBACpBgB,aAAc,eACdC,mBAAoB,wBACpB,IACFhB,SAAQ,WACN,OAAO9K,KAAK6K,kBACd,EACApK,SAAU,WACR,OAAOT,KAAKwL,MAAQxL,KAAK+L,kBAAkB/L,KAAK0L,eAAiB,EACnE,EACAM,SAAU,WACR,MAAO,UAAYhM,KAAKuL,IAC1B,EACAU,eAAc,WAEZ,GAAIjM,KAAK0L,eAAiB,EACxB,OAAO,EAET,GAA0B,IAAtB1L,KAAKsL,aACP,OAAO,EAGT,GAAItL,KAAKwL,MAAO,CAEd,IAAMU,EAAOlM,KAAKsL,aAAetL,KAAK0L,cAAgB,IACtD,OAAIQ,EAAO,IACF,IAEFA,CACT,CACA,OAAO,CACT,IAEFvJ,QAAOd,IAAA,GACFe,YAAW,CACZuJ,wBAAyB,0BACzBC,uBAAwB,yBACxBC,eAAgB,iBAChBC,WAAY,aACZC,gBAAiB,kBACjBC,yBAA0B,8BAC1B,IACFC,SAAQ,WAAI,IAAD1F,EAAA,KACN/G,KAAKgL,KAAK,IACXhL,KAAKgL,MAAM,EACXhL,KAAK+H,WAAU,WACbhB,EAAK2F,oBACP,IAEJ,EACAC,SAAQ,WACS,IAAZ3M,KAAKgL,KAIRhL,KAAKgL,KAAK,EAHRhL,KAAK4M,WAIT,EACAC,UAAS,WACP7M,KAAK2L,MAAM7C,MAAO,CACpB,EACAgE,SAAQ,WACF9M,KAAKiL,MACPjL,KAAK+M,YAEP/M,KAAK2L,MAAM7C,MAAO,CACpB,EACAkE,SAAQ,YACkB,IAApBhN,KAAK2L,MAAM7C,KAIf9I,KAAK4M,YAHH5M,KAAK6M,WAIT,EACAI,kBAAiB,WACf,IAAMC,EAAOvN,SAASwN,eAAenN,KAAKgM,UACtCkB,EAAKE,kBACPF,EAAKE,oBACIF,EAAKG,oBACdH,EAAKG,sBACIH,EAAKI,qBACdJ,EAAKI,uBACIJ,EAAKK,wBACdL,EAAKK,0BACIL,EAAKM,uBACdN,EAAKM,uBAET,EACAC,aAAY,WACV,MAAO,qBAAqBlK,QAAQ,SAAS,SAAUmK,GACrD,IAAO9H,EAGP,OAFAA,EAAoB,GAAhBoC,KAAK2F,SAAgB,GACf,MAAND,EAAY9H,EAAS,EAAJA,EAAU,GACtBgI,SAAS,GACpB,GACF,EACA7B,kBAAiB,SAAC8B,GAChB,IAAIC,EAAS,IAAIC,KAAW,IAANF,GAAYG,cAAcC,OAAO,GAAI,GAC3D,OAAkC,IAA1BH,EAAOzL,QAAQ,OAAgByL,EAAOG,OAAO,GAAKH,CAC5D,EACAf,UAAS,WACP/M,KAAKiL,MAAQjL,KAAKiL,KACdjL,KAAKiL,KACPjL,KAAKwL,MAAMP,OAEXjL,KAAKwL,MAAM0C,OAEf,EACAC,aAAY,WACVnO,KAAKwL,MAAMH,YAAcrL,KAAKwL,MAAMH,YAAc,GAClDrL,KAAKsL,aAAetL,KAAKwL,MAAMH,WACjC,EACA+C,YAAW,WACTpO,KAAKwL,MAAMH,YAAcrL,KAAKwL,MAAMH,YAAc,GAClDrL,KAAKsL,aAAetL,KAAKwL,MAAMH,WACjC,EACAuB,UAAS,WACP5M,KAAK6E,WAAWC,SAAS,gBAAiB,CACxC,GAAM9E,KAAK6K,mBAAmBzJ,GAC9B,KAAQpB,KAAK6K,mBAAmBtF,MAChC,WAAcvF,KAAK6K,mBAAmBwD,YAAc,KACpD,KAAQrO,KAAK6K,mBAAmBxC,OAE9B1I,SAASC,cAAc,YACzBD,SAASC,cAAc,WAAWC,UAAUyO,IAAI,QAElDtO,KAAK+C,kBACP,EACAwL,cAAe,WAETvO,KAAKwL,MAAMgD,YAAc,GAC3BxO,KAAKyO,eAAezO,KAAKwL,MAAMkD,WAAY1O,KAAKwL,MAAMmD,aACtD3O,KAAKmL,QAAS,EACdnL,KAAKwL,MAAM3L,UAAUkB,OAAO,QAC5Bf,KAAK0L,cAAgBkD,SAAS5O,KAAKwL,MAAM/K,UACtCT,KAAKgL,KAAK,GACXhL,KAAK+M,aAGP/M,KAAKoF,MAAMC,MAAM,YAAa,CAC5BG,UAAU,EACVD,MAAOtD,MAAMkD,GAAG,uBAChBT,MAAOzC,MAAMkD,GAAG,oCAChBM,MAAO,KACPb,WAAY,WAQV,OAPA3C,MAAMqB,QAAQC,QAAQtB,MAAMuB,WAAWxD,KAAK0C,iBAC5CT,MAAMiB,QAAQC,eAAe,CAAC,OAAS,sBAAsB,OAAS,CAAC,IAAIC,SAAQ,WACjFJ,QAAQC,IAAI,yCACd,IACAhB,MAAMiB,QAAQG,gBAAgBD,SAAQ,WACpCJ,QAAQC,IAAI,2BACd,KACO,CACT,GAGN,EACA4L,iBAAkB,SAAU7I,GAC1B,IAAI8I,EAAWF,SAAS5O,KAAKwL,MAAMH,aACnCrL,KAAKsL,aAAesD,SAAS5O,KAAKwL,MAAMH,aACxCrL,KAAKqL,YAAcrL,KAAK+L,kBAAkB/L,KAAK0L,cAAgBoD,EACjE,EACAC,iBAAkB,SAAU/I,GACX,UAAXA,EAAEqC,OAAkC,IAAdrI,KAAKiL,OAC7BjL,KAAKqL,YAAc,QACnBrL,KAAKiL,MAAO,EACZjI,QAAQC,IAAI,WAEhB,EACA+L,sBAAuB,SAAUhJ,GAC/B,IAAMkH,EAAOvN,SAASwN,eAAenN,KAAKgM,UACnCkB,EAAK7B,YAAc,IAAM6B,EAAK+B,SAAW/B,EAAK9B,OAAS8B,EAAKsB,WAAa,EAC9ExO,KAAKiL,MAAO,EAEZjL,KAAKiL,MAAO,CAEhB,EACAiE,WAAY,SAAUlJ,GAAI,IAADoB,EAAA,KAKvB,GAJApE,QAAQC,IAAI,eAAgB+C,GAC5BhG,KAAKiL,MAAO,EACZjL,KAAKoL,OAAQ,EAETpL,KAAK8L,mBAWP,OAVA9L,KAAK6K,mBAAmBsE,WAAY,EACpCnP,KAAKoF,MAAMC,MAAM,oBAAqBrF,KAAK6K,yBAC3C7K,KAAK+H,WAAU,WACbX,EAAKhC,MAAMC,MAAM,YAAa,CAAC,MAAQ,IACvC,IAAI+J,EAAShI,EAAK3D,cACf2L,EAAO5H,OAAO,IACf4H,EAAS,IAAMA,GAEjBhI,EAAK9D,QAAQM,KAAK3B,MAAMuB,WAAW,iBAAmB4D,EAAKnG,KAAOmO,GACpE,IAIF,IAAIC,GAAS,EACbrP,KAAKsP,iBAAiBC,iBAAiBvP,KAAK6K,mBAAoB,KAAM,MAAMlF,MAAK,SAACC,GAChF5C,QAAQC,IAAI,oBAAqB2C,GAC7BA,EAAEkF,UAAYlF,EAAE4J,UAAY5J,EAAEkF,SAASqE,WACzCE,GAAS,EACTjI,EAAKyD,mBAAmBsE,UAAYvJ,EAAEkF,SAASqE,WAE/CE,EAASpN,MAAMkD,GAAG,4BAEtB,IAAGY,OAAM,SAACC,GACRhD,QAAQ0B,MAAM,gDAAiDsB,GAC/DoB,EAAKqI,kBAAkBzJ,GACvBqJ,EAASpN,MAAMkD,GAAG,uBAClBiC,EAAKvC,WAAWC,SAAS,QAAS,CAChC,MAAS,8BAEb,IAAG1B,SAAQ,YACM,IAAXiM,GACFjI,EAAKmF,gBAAgB,GACrBnF,EAAKW,WAAU,WACbX,EAAKhC,MAAMC,MAAM,YAAa,CAAC,MAAQ,IACvC,IAAI+J,EAAShI,EAAK3D,cACf2L,EAAO5H,OAAO,IACf4H,EAAS,IAAMA,GAEjBhI,EAAK9D,QAAQM,KAAK3B,MAAMuB,WAAW,iBAAmB4D,EAAKnG,KAAOmO,GACpE,KAGAhI,EAAKhC,MAAMC,MAAM,YAAa,CAC5BG,UAAU,EACVD,MAAOtD,MAAMkD,GAAG,sBAChBT,MAAO2K,EACPK,SAAUtI,EAAKjC,GAAG,uBAClBM,MAAO,WAEL,OADA2B,EAAKuI,cACE,CACT,EACA/K,WAAY,WAMV,OALA3C,MAAMqB,QAAQC,QAAQtB,MAAMuB,WAAWxD,KAAK0C,iBAC5CT,MAAMiB,QAAQC,eAAe,CAAC,OAAS,uBAAuB,OAAS,CAACyM,QAAO,KAAQxM,SAAQ,WAC7FJ,QAAQC,IAAI,+CACd,KAEO,CACT,GAGN,GACF,EACA0M,WAAU,WACR3P,KAAKoL,OAAQ,EACVpL,KAAKwL,QACNxL,KAAKwL,MAAMH,YAAc,GAE3BrL,KAAKsL,aAAe,EACpBtL,KAAKiL,MAAO,CACd,EACA4E,KAAM,WACJ7P,KAAKoL,OAAQ,EACbpL,KAAKwL,MAAMjF,iBAAiB,aAAcvG,KAAK6O,kBAC/C7O,KAAKwL,MAAMjF,iBAAiB,aAAcvG,KAAKuO,eAC/CvO,KAAKwL,MAAMjF,iBAAiB,QAASvG,KAAK+O,kBAC1C/O,KAAKwL,MAAMjF,iBAAiB,OAAQvG,KAAK+O,kBACzC/O,KAAKwL,MAAMjF,iBAAiB,QAASvG,KAAKkP,YAC1ClP,KAAKwL,MAAMjF,iBAAiB,mBAAoBvG,KAAKgP,sBAEvD,EACAc,SAAU,WACR,OAAO9P,KAAK+P,IAAIC,iBAAiB,SAAS,EAC5C,EACAC,WAAU,WACRjQ,KAAKgN,UACP,EACAkD,8BAA6B,WAAI,IAADC,EAAA,KAC9B,GAAInQ,KAAK8D,qBAAqB9D,KAAKqB,WAAY,CAC7C,IAAM+O,EAAepQ,KAAKkE,eAAelE,KAAKqB,WAC9C,GAAIrB,KAAKuB,WAAa,EAAG,CACvB,IAAM8O,EAAOD,EAAaE,UAAUC,QAAO,SAACC,GAAC,OAAKA,EAAEpP,KAAO+O,EAAKlP,MAAQuP,EAAEC,eAAiBN,EAAK5O,SAAS,IACrG8O,EAAK7I,OAAS,GAChBxH,KAAKwM,yBAAyB6D,EAAK,GAEvC,MACErQ,KAAKwM,yBAAyB,KAElC,MACExM,KAAKoM,uBAAuBpM,KAAKiB,KAErC,EACAwN,eAAc,SAACiC,EAAQC,GACrB,IAAMC,EAAaF,EAASC,EACtBE,EAAkBlR,SAASwN,eAAe,uBAChD,GAAI0D,EAAiB,CACnB,IAAIC,EAAanR,SAASiM,KAAK1D,aAC3B6I,EAAYpR,SAASiM,KAAKoF,YACxBC,EAAQJ,EAAgBK,QAAQ,iBAChCC,EAAUF,EAAMrR,cAAc,cAC9BwR,EAAUH,EAAMrR,cAAc,cAC9ByR,EAAeJ,EAAMrR,cAAc,mBACrCuR,IACFL,GAA0BK,EAAQG,cAEhCF,IACFN,GAA0BM,EAAQE,cAIlCR,GADEO,EACwBA,EAAaC,aAEb,GAG5B,IAAMC,EACJvJ,KAAKwJ,IACHV,EACAG,EAAMK,eAAiBH,EAAUA,EAAQG,aAAe,IAAMF,EAAUA,EAAQE,aAAe,MAC5FD,EAAeA,EAAaC,aAAe,IAElDtO,QAAQC,IAAI,aAAcsO,EAAaT,EAAYG,EAAMK,eAAiBH,EAAUA,EAAQG,aAAe,IAAMF,EAAUA,EAAQE,aAAe,KAClJL,EAAMrR,cAAc,YAAYiI,MAAMC,OAAUyJ,EAAc,EAAK,KACnEN,EAAMrR,cAAc,YAAYiI,MAAM4J,SAAW,SAEjDZ,EAAgBhJ,MAAMC,OAASyJ,EAAc,KAC7CV,EAAgBhJ,MAAM6J,MAAQH,EAAcX,EAAa,KACzDK,EAAMrR,cAAc,YAAYC,UAAUkB,OAAO,cAC7CwQ,EAAcX,EAAaG,IAC7BE,EAAMrR,cAAc,YAAYC,UAAUyO,IAAI,cAC9CuC,EAAgBhJ,MAAM6J,MAAQX,EAAY,KAC1CF,EAAgBhJ,MAAMC,OAAUiJ,EAAYH,EAAc,KAG9D,CACF,EACAlE,mBAAkB,WAChB1M,KAAKwL,MAAQxL,KAAK8P,WAClB9P,KAAK6P,OACL7P,KAAKwL,MAAMmG,MACb,IAEFxK,QAAO,WAAI,IAADyK,EAAA,KACJ5R,KAAK6R,YAAc7R,KAAK6R,WAAWC,qBACrC9R,KAAK+R,aAAavI,SAAWxJ,KAAKiQ,YAEpCjQ,KAAKuL,KAAOvL,KAAKyN,eACbzN,KAAKiB,MACPjB,KAAKkQ,gCACDlQ,KAAK6K,mBACP7K,KAAKkL,UAAYlL,KAAK6K,mBAAmBW,OAEzCxI,QAAQ0B,MAAM,wBAAyB1E,KAAKiB,MAC5CgB,MAAMqB,QAAQC,QAAQtB,MAAMuB,WAAWxD,KAAK0C,iBAC5CT,MAAMiB,QAAQC,eAAe,CAAC,OAAS,qBAAqB,OAAS,CAAC,IAAIC,SAAQ,WAChFJ,QAAQC,IAAI,mCACd,IACAhB,MAAMiB,QAAQG,gBAAgBD,SAAQ,WACpCJ,QAAQC,IAAI,2BACd,KAEFjD,KAAK+H,WAAU,WACb6J,EAAKvS,KAAO,cAEZuS,EAAKxM,MAAMC,MAAM,YAAY,GAC7BuM,EAAKxM,MAAMC,MAAM,YAAa,CAACyD,MAAM,IACrC8I,EAAKxM,MAAMC,MAAM,cAAe,CAACyD,MAAM,IAEnC8I,EAAKpG,QACPoG,EAAK/M,WAAWC,SAAS,kBAAmB,CAC1C,GAAM8M,EAAK/G,mBAAmBzJ,GAC9B,KAAQwQ,EAAK/G,mBAAmBtF,MAChC,WAAcqM,EAAK/G,mBAAmBwD,YAAc,KACpD,aAAgBuD,EAAK9N,qBAAqB8N,EAAK/G,mBAAmBwD,YAChEuD,EAAK1N,eAAe0N,EAAK/G,mBAAmBwD,YAAYhP,KAAO,KACjE,KAAQuS,EAAK/G,mBAAmBxC,OAElCuJ,EAAKtC,iBAAiB0C,cAAcJ,EAAK/G,oBACzC+G,EAAK/M,WAAWoN,cAAcL,EAAK/G,mBAAmBtF,MAAQ,gBAGlE,MAEAvC,QAAQ0B,MAAM,2BAA4B1E,KAAKiB,MAC/CgB,MAAMqB,QAAQC,QAAQtB,MAAMuB,WAAWxD,KAAK0C,iBAC5CT,MAAMiB,QAAQC,eAAe,CAAC,OAAS,qBAAqB,OAAS,CAAC,IAAIC,SAAQ,WAChFJ,QAAQC,IAAI,mCACd,IACAhB,MAAMiB,QAAQG,gBAAgBD,SAAQ,WACpCJ,QAAQC,IAAI,2BACd,IAEJ,EACAiE,cAAe,WACTlH,KAAK6R,YAAc7R,KAAK6R,WAAWC,qBACrC9R,KAAK+R,aAAavI,SAAW,MAE3BxJ,KAAKwL,QACPxL,KAAKwL,MAAM/E,oBAAoB,aAAczG,KAAK6O,kBAClD7O,KAAKwL,MAAM/E,oBAAoB,aAAczG,KAAKuO,eAClDvO,KAAKwL,MAAM/E,oBAAoB,QAASzG,KAAK+O,kBAC7C/O,KAAKwL,MAAM/E,oBAAoB,OAAQzG,KAAK+O,kBAC5C/O,KAAKwL,MAAM/E,oBAAoB,QAASzG,KAAKkP,YAC7ClP,KAAKwL,MAAM/E,oBAAoB,mBAAoBzG,KAAKgP,uBAE5D,G,QExcE/F,EAAY,YACd,GFRW,WAAkB,IAAIC,EAAI,KAAKC,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,gBAAgB,CAACY,MAAM,CAAC,yBAAyB,sBAAsBb,EAAI8B,MAAM3B,MAAM,CAAC,YAAa,GAAOM,YAAYT,EAAIU,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,WAAW,MAAO,CAAEZ,EAAI8B,KAAK,EAAG7B,EAAG,QAAQ,CAACa,YAAY,aAAaX,MAAM,CAAC,gBAAgB,SAAS,QAAU,kBAAkB,CAACF,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,IAAIiB,GAAG,CAAC,MAAQpB,EAAI0D,YAAY,CAACzD,EAAG,SAAS,CAACD,EAAIe,GAAG,+BAA+B,GAAGf,EAAIe,GAAG,KAAMf,EAAI2B,mBAAoB1B,EAAG,MAAM,CAACa,YAAY,mBAAmB,CAACb,EAAG,OAAO,CAACgB,SAAS,CAAC,UAAYjB,EAAIkB,GAAGlB,EAAI2B,mBAAmBtF,YAAY2D,EAAIgB,KAAKhB,EAAIe,GAAG,KAAKd,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,IAAIiB,GAAG,CAAC,MAAQpB,EAAI4D,WAAW,CAAC3D,EAAG,SAAS,CAACD,EAAIe,GAAG,8BAA8B,IAAI,GAAGf,EAAIgB,KAAK,EAAEG,OAAM,GAAM,CAACR,IAAI,OAAOC,GAAG,WAAW,MAAO,CAACX,EAAG,aAAa,CAACE,MAAM,CAAC,OAAS,GAAG,KAAO,SAAS,CAAa,GAAVH,EAAI8B,KAAU7B,EAAG,MAAM,CAACa,YAAY,iBAAiB,CAACb,EAAG,MAAM,CAACa,YAAY,2BAA2B,CAACb,EAAG,MAAM,CAACY,MAAM,CAAC,4BAA6Bb,EAAI2B,mBAAmBxC,OAAO,CAACa,EAAIe,GAAG,SAASf,EAAIe,GAAG,KAAKd,EAAG,MAAM,CAACa,YAAY,uBAAuB,CAACb,EAAG,MAAM,CAACa,YAAY,mBAAmB,CAACd,EAAIe,GAAGf,EAAIkB,GAAGlB,EAAI2B,mBAAmBtF,UAAU2D,EAAIe,GAAG,KAAKd,EAAG,MAAM,CAACa,YAAY,mBAAmB,CAACb,EAAG,SAAS,CAACD,EAAIe,GAAG,iCAAiCf,EAAIe,GAAG,kBAAkBf,EAAIkB,GAAGlB,EAAIgJ,cAAchJ,EAAI2B,mBAAmBpK,WAAW,iBAAiB,GAAGyI,EAAIe,GAAG,KAAKd,EAAG,MAAM,CAACa,YAAY,oBAAoBG,SAAS,CAAC,UAAYjB,EAAIkB,GAAGlB,EAAI2B,mBAAmBc,OAAO,WAAWxC,EAAG,MAAM,CAACA,EAAG,MAAM,CAACa,YAAY,mBAAmBX,MAAM,CAAC,GAAK,wBAAwB,CAACF,EAAG,QAAQ,CAACgJ,IAAI,YAAYnI,YAAY,OAAOX,MAAM,CAAC,GAAKH,EAAI8C,SAAS,MAAO,EAAM,IAAM9C,EAAIgC,UAAU,YAAc,GAAG,OAAShC,EAAI2B,mBAAmBuH,eAAelJ,EAAI2B,mBAAmBuH,eAAe,GAAG,QAAU,UAAUlJ,EAAIe,GAAG,MAAmB,IAAbf,EAAIiC,OAAgBhC,EAAG,MAAM,CAACa,YAAY,uBAAuB,CAACb,EAAG,sBAAsB,CAACE,MAAM,CAAC,eAAgB,EAAK,MAAQ,cAAc,GAAGH,EAAIgB,OAAOhB,EAAIe,GAAG,KAAKd,EAAG,MAAM,CAACa,YAAY,eAAe,CAAEd,EAAI+B,KAAM9B,EAAG,OAAO,CAACD,EAAIe,GAAG,IAAIf,EAAIkB,GAAGlB,EAAImC,gBAAgBnC,EAAIgB,KAAKhB,EAAIe,GAAG,KAAOf,EAAI+B,KAAgD/B,EAAIgB,KAA9Cf,EAAG,OAAO,CAACD,EAAIe,GAAGf,EAAIkB,GAAGlB,EAAIzI,aAAsByI,EAAIe,GAAG,KAAKd,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,IAAIiB,GAAG,CAAC,MAAQpB,EAAI+D,oBAAoB,CAAC9D,EAAG,SAAS,CAACD,EAAIe,GAAG,qBAAqB,IAAI,OAAO,EAAEI,OAAM,GAAM,CAACR,IAAI,SAASC,GAAG,WAAW,MAAO,CAAa,IAAXZ,EAAI8B,KAAU7B,EAAG,MAAM,CAACa,YAAY,SAAS,CAACb,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,SAAS,KAAO,GAAG,KAAO,IAAIiB,GAAG,CAAC,MAAQpB,EAAIyD,WAAW,CAACzD,EAAIe,GAAG,aAAaf,EAAIkB,GAAGlB,EAAI/D,GAAG,iBAAiB,cAAc+D,EAAIe,GAAG,KAAKd,EAAG,WAAW,CAACa,YAAY,WAAWd,EAAIe,GAAG,KAAKd,EAAG,QAAQ,CAACa,YAAY,iBAAiBX,MAAM,CAAC,MAAQ,UAAUiB,GAAG,CAAC,MAAQpB,EAAIuD,WAAW,CAACvD,EAAIe,GAAG,aAAaf,EAAIkB,GAAGlB,EAAI/D,GAAG,wBAAwB,gBAAgB,GAAG+D,EAAIgB,KAAKhB,EAAIe,GAAG,KAAMf,EAAIiC,QAAQjC,EAAI8B,KAAK,EAAG7B,EAAG,QAAQ,CAACa,YAAY,SAASX,MAAM,CAAC,gBAAgB,SAAS,QAAU,kBAAkB,CAACF,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,GAAG,SAAWH,EAAIsC,MAAMH,YAAY,IAAIf,GAAG,CAAC,MAAQpB,EAAIkF,cAAc,CAACjF,EAAG,SAAS,CAACD,EAAIe,GAAG,oBAAoB,GAAGf,EAAIe,GAAG,KAAKd,EAAG,QAAQ,CAACY,MAAM,CAAC,WAAYb,EAAI+B,KAAK,UAAU,IAAK5B,MAAM,CAAC,UAAYH,EAAIiC,QAAQb,GAAG,CAAC,MAAQpB,EAAI6D,YAAY,CAAG7D,EAAI+B,KAAwC/B,EAAIgB,KAAtCf,EAAG,SAAS,CAACD,EAAIe,GAAG,cAAuBf,EAAIe,GAAG,KAAMf,EAAI+B,KAAM9B,EAAG,SAAS,CAACD,EAAIe,GAAG,eAAef,EAAIgB,MAAM,GAAGhB,EAAIe,GAAG,KAAKd,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,GAAG,SAAYH,EAAIsC,MAAMH,YAAYnC,EAAIwC,cAAc,IAAKpB,GAAG,CAAC,MAAQpB,EAAIiF,eAAe,CAAChF,EAAG,SAAS,CAACD,EAAIe,GAAG,0BAA0B,IAAI,GAAGf,EAAIgB,KAAKhB,EAAIe,GAAG,KAAMf,EAAI2B,mBAAoB1B,EAAG,aAAa,CAACE,MAAM,CAAC,KAAOH,EAAIyC,MAAM7C,KAAK,eAAiB,cAAc,MAAQI,EAAI2B,mBAAmBtF,MAAM,YAAc2D,EAAI2B,mBAAmBc,OAAO,GAAG,UAAYzC,EAAI2B,mBAAmBwH,YAAYnJ,EAAI2B,mBAAmByH,WAAWhI,GAAG,CAAC,MAAQpB,EAAI2D,WAAWlD,YAAYT,EAAIU,GAAG,CAAC,CAACC,IAAI,WAAWC,GAAG,WAAW,MAAO,CAACZ,EAAIe,GAAG,WAAW,EAAEI,OAAM,IAAO,MAAK,EAAM,cAAcnB,EAAIgB,KAAK,EAAEG,OAAM,MAC35H,GACsB,IESpB,EACA,KACA,KACA,MAIa,UAAApB,EAAiB,QAGhCuB,kBAAkBvB,EAAW,CAACsJ,WAAY,EAAQ,KAA8GhK,QAAQkC,aAAc,EAAQ,KAAiHlC,S","file":"03aefda.js","sourcesContent":["import {mapGetters, mapActions} from 'vuex'\n\nexport default {\n  name: 'basePage',\n  transition: {\n    name: 'slide',\n    mode: 'out-in',\n    css: false,\n    beforeEnter(el) {\n      if (document.querySelector('#__nuxt').classList.contains('quit')) {\n        return\n      }\n      const startPoint = document.querySelector('#__nuxt').classList.contains('back') ? '-100%' : '100%';\n      this.$anime.set(el, {\n        scale: 1,\n        opacity: 0,\n        translateX: startPoint\n      })\n    },\n    enter(el, done) {\n      const startPoint = document.querySelector('#__nuxt').classList.contains('back') ? '-100%' : '100%';\n      this.$anime({\n        targets: el,\n        opacity: [0, 1],\n        translateX: [startPoint, \"0\"],\n        duration: 500,\n        easing: 'easeInOutSine',\n        complete: done\n      })\n    },\n    leave(el, done) {\n      if (document.querySelector('#__nuxt').classList.contains('quit')) {\n        this.$anime({\n          targets: el,\n          /*opacity: [1, 0],*/\n          translateY: [0, '100%'],\n          duration: 500,\n          easing: 'easeInOutSine',\n          complete: done\n        });\n        return\n      }\n      const startPoint = document.querySelector('#__nuxt').classList.contains('back') ? '100%' : '-100%';\n      this.$anime({\n        targets: el,\n        opacity: [1, 0],\n        translateX: [\"0\", startPoint],\n        duration: 500,\n        easing: 'easeInOutSine',\n        complete: done\n      });\n    },\n    afterLeave(el) {\n      document.querySelector('#__nuxt').classList.remove('quit');\n      document.querySelector('#__nuxt').classList.remove('back');\n    }\n  },\n  data() {\n    return {\n      \"name\": \"basePage\",\n      exid: (this.$route.params.id),\n      programid: (this.$route.params.fromprogram || false),\n      withindex: (this.$route.params.withindex || -1),\n      backto: (this.$route.params.backto || false),\n      hasBack: false,\n      hasNext: false,\n      hasInfo: false\n    }\n  },\n  computed: {\n    ...mapGetters({\n      getCurrentPagerHeight: 'getCurrentPagerHeight'\n    }),\n    isVoicemed() {\n      return $nuxt.$config.env.environment.indexOf('voicemed_') > -1\n    },\n    isAirlyn() {\n      return $nuxt.$config.env.environment.indexOf('voicemed_') < 0\n    },\n    nuxtloading() {\n      return $nuxt.$loading.loading\n    },\n    defaultHomeUrl() {\n      //We know that we can customize the opening url:\n      return \"/\";\n      if (this.isAirlyn) {\n        return \"/\";\n      }\n      if (this.isVoicemed) {\n        return \"/\";\n      }\n    }\n  },\n  methods: {\n    ...mapActions({\n      setCurrentPage: 'setCurrentPage',\n      setCurrentPagerHeight: 'setCurrentPagerHeight'\n    }),\n    exerciseStepBack() {\n      console.log('exit test', this.backto, this.programid)\n      if (this.backto == \"standalone\") {\n        $nuxt.$airlyn.finishExercise({\"reason\": 'user-cancelled', \"result\": {}}).finally(() => {\n          console.log('exercise finished by user')\n        });\n        $nuxt.$airlyn.closeExercise().finally(() => {\n          console.log('exercise closed, success')\n        });\n        return\n      }\n      if (this.backto == 'today') {\n        $nuxt.$router.replace($nuxt.localePath(\"/user/today\"));\n        return\n      }\n      if (this.backto == 'discovery') {\n        $nuxt.$router.replace($nuxt.localePath(\"/home\"));\n        return\n      }\n      if (this.programid) {\n        if (this.programid == \"-1\" || this.programid == -1 || this.programid == \"false\" || this.programid == false) {\n          $nuxt.$router.replace($nuxt.localePath(\"/user/today\"));\n        } else {\n          $nuxt.$router.replace($nuxt.localePath(\"/ml/programs/\" + this.programid));\n        }\n        return\n      }\n\n      $nuxt.$router.replace($nuxt.localePath(\"/user/today\"));\n    },\n    buildSuffix() {\n      let suffixes = [];\n      const programCheck = this.programid ? this.programid : false;\n      suffixes.push(programCheck !== '-1' ? programCheck : false);\n      suffixes.push(this.withindex ? this.withindex : \"-1\")\n      suffixes.push(this.backto ? this.backto : false)\n      return suffixes.join(\"/\")\n    }, hasJoinedProgramById(id) {\n      return this.$nuxt.$store.getters.hasJoinedProgramById(id)\n    },\n    getProgramJoinedAtById(id) {\n      return this.$nuxt.$store.getters.getProgramJoinedAtById(id)\n    },\n    getProgramById(id) {\n      return this.$nuxt.$store.getters.getProgramById(id)\n    },\n    getOverallProgressProgramById(id) {\n      return this.$nuxt.$store.getters.getOverallProgressProgramById(id)\n    },\n    getDoneCountByProgramId(id) {\n      return this.$nuxt.$store.getters.getDoneCountByProgramId(id)\n    },\n    getNextExerciseByProgramId(id) {\n      return this.$nuxt.$store.getters.getNextExerciseByProgramId(id)\n    },\n    getExercisetocompleteCountProgramById(id) {\n      return this.$nuxt.$store.getters.getExercisetocompleteCountProgramById(id)\n    },\n    getExercisecompletedCountProgramById(id) {\n      return this.$nuxt.$store.getters.getExercisecompletedCountProgramById(id)\n    },\n    printDeviceError(prefix, error, clickEvent, resetEvent) {\n      this.$analytics.logEvent(\"permission_error\", {\n        \"title\": 'errors.' + prefix + \".\" + error.name.toLowerCase() + \".title\",\n        \"kind\": prefix\n      });\n      console.error('Got device error', error)\n      if (error && (error.name === \"NotAllowedError\" || error.name === \"NotFoundError\" || error.exception.state == \"denied\" || error.exception.state == \"DENIED\")) {\n        this.$root.$emit('showPermssionError', true)\n        return\n      }\n\n      this.showError(\n        this.$t('errors.generic.title'),\n        this.$t('errors.generic.description'),\n        clickEvent,\n        resetEvent\n      );\n    },\n    printDeviceErrorOLD(prefix, error, clickEvent, resetEvent) {\n      this.$analytics.logEvent(\"permission_error\", {\n        \"title\": 'errors.' + prefix + \".\" + error.name.toLowerCase() + \".title\",\n        \"kind\": prefix\n      });\n      console.error('Got device error', error)\n      if (error.exception && prefix == \"mic\") {\n        if (error.exception.state == \"denied\" || error.exception.state == \"DENIED\") {\n          error.name = \"DeniedError\";\n          this.$root.$emit('showError', {\n            title: this.$t('errors.' + prefix + \".\" + error.name.toLowerCase() + \".title\"),\n            error: this.$t('errors.' + prefix + \".\" + error.name.toLowerCase() + \".description\"),\n            hasretry: true,\n            click: function () {\n              $nuxt.$airlyn.openPermissionPanel().then((r) => {\n                console.log('got openPermission Panel then', r, JSON.stringify(r))\n              }).catch((e) => {\n                console.log('got openPermission Panel catch', e, JSON.stringify(e))\n              }).finally(() => {\n                //esegui comunque il reset event...\n                if (typeof resetEvent == 'function') {\n                  console.log('dopo il setting riport cmq a inizio')\n                  resetEvent()\n                }\n              })\n              return true\n            },\n            resetEvent: resetEvent || function () {\n            },\n            retryBtn: \"Settings\"\n          });\n          return\n        }\n      }\n      if (error && (error.name === \"NotAllowedError\" || error.name === \"NotFoundError\")) {\n        //Permission error\n        this.showError(\n          this.$t('errors.' + prefix + \".\" + error.name.toLowerCase() + \".title\"),\n          this.$t('errors.' + prefix + \".\" + error.name.toLowerCase() + \".description\"),\n          clickEvent,\n          resetEvent\n        );\n        return\n      }\n      this.showError(\n        this.$t('errors.generic.title'),\n        this.$t('errors.generic.description'),\n        clickEvent,\n        resetEvent\n      );\n    },\n    manageMicError(e, clickEvent, resetEvent) {\n      this.printDeviceError('mic', e, clickEvent, resetEvent);\n    },\n    manageCamError(e, clickEvent, resetEvent) {\n      this.printDeviceError('cam', e, clickEvent, resetEvent);\n    },\n    manageMicCamError(e, clickEvent, resetEvent) {\n      this.printDeviceError('miccam', e, clickEvent, resetEvent);\n    },\n    showError(title, error, clickEvent, resetEvent) {\n      this.$root.$emit('showError', {\n        title: title,\n        error: error,\n        hasretry: clickEvent !== null ? true : false,\n        click: clickEvent || function () {\n        },\n        resetEvent: resetEvent || function () {\n        }\n      });\n    },\n    swipeEvent(e) {\n      //console.log(e.target); // element that was swiped\n      //console.log(e.detail); // see event data below\n      this.$root.$emit(\"swipe\", e);\n    },\n    attachSwipeListener() {\n      document.addEventListener('swiped-left', this.swipeEvent);\n      document.addEventListener('swiped-right', this.swipeEvent);\n    },\n    detachSwipeListeners() {\n      document.removeEventListener('swiped-left', this.swipeEvent);\n      document.removeEventListener('swiped-right', this.swipeEvent);\n    },\n    fixWindowVariables(variable) {\n      if (typeof window[variable] === 'undefined') {\n        if (window.top[variable] !== 'undefined') {\n          window[variable] = window.top[variable];\n        }\n      }\n    }\n  },\n  beforeMount() {\n    console.log('PRE loaded base Page')\n\n    console.log('fix loading variables');\n      ['currentExercise', 'currentVMToken', 'currentVMKey', 'currentVMUrl'].forEach((item) => {\n      this.fixWindowVariables(item);\n    })\n\n    this.setCurrentPage(this);\n  },\n  beforeDestroy() {\n    this.detachSwipeListeners();\n  },\n  mounted() {\n    console.log('loaded base Page')\n    //Init Preferences if app is native:\n    console.log('try Load index', this.name, this.dynamicTexts);\n    if (this.dynamicTexts && Object.keys(this.dynamicTexts).length > 0) {\n      Object.keys(this.dynamicTexts).map((text) => {\n        this.$appConfiguration.getText(text).then((r) => {\n          this.dynamicTexts[text] = r;\n        }).catch((e) => {\n          this.dynamicTexts[text] = this.$t(this.name + '.' + text);\n        })\n      })\n    }\n    if (this.getCurrentPagerHeight !== null && document.querySelector('.v-main__wrap > div.pager')) {\n      document.querySelector('.v-main__wrap > div.pager').style.height = this.getCurrentPagerHeight + \"px\";\n    }\n    this.$nextTick(() => {\n      //Start swipe features:\n      this.attachSwipeListener();\n      if (this.getCurrentPagerHeight === null) {\n        if (document.querySelector('.v-main__wrap > div.pager')) {\n          this.setCurrentPagerHeight(Math.max(document.querySelector('.v-main__wrap > div.pager').clientHeight, document.querySelector('.v-main__wrap > div.pager').offsetHeight));\n        }\n      }\n    });\n  }\n\n}\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./infodialog.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./infodialog.vue?vue&type=script&lang=js\"","\nexport default {\n  props: {\n    title: {\n      type: String,\n      default: \"Info\"\n    },\n    transition: {\n      type: String,\n      default: \"dialog-bottom-transition\"\n    },\n    contentclasses: {\n      type: String,\n      default: \"\"\n    },\n    description: {\n      type: String,\n      default: \"Info text\"\n    },\n    infoImage: {\n      type: String,\n      default: null\n    },\n    showSuperTitle: {\n      type: Boolean,\n      default: true\n    },\n    thumbInTitle: {\n      type: Boolean,\n      default: true\n    },\n    show: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {}\n  },\n  computed: {\n    showDialog: function () {\n      return this.show;\n    }\n  },\n  methods : {\n    closeClick(e) {\n      this.$emit('close',e);\n    }\n  },\n  mounted() {\n  }\n}\n","import { render, staticRenderFns } from \"./infodialog.vue?vue&type=template&id=cf9e9cc0\"\nimport script from \"./infodialog.vue?vue&type=script&lang=js\"\nexport * from \"./infodialog.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {FullpageCard: require('/Users/francescolotruglio/Lavori/VoiceMed/VoiceMedSdk-Sources/voicemed-layoutsdk/components/fullpage-card.vue').default})\n","import basepage from \"~/mixins.js/basepage\";\nimport {mapGetters, mapActions} from 'vuex'\n\nexport default {\n  name: 'expage',\n  mixins: [basepage],\n  computed: {\n    ...mapGetters({\n      getExercises: 'getExercises',\n      getCurrentExercise: 'getCurrentExercise'\n    }),\n    exercise() {\n      return this.getCurrentExercise\n    },\n  },\n  mounted() {\n    console.log('monti pagina interna ex', this.getExercises, this.getCurrentExercise);\n\n    if(!this.getExercises) {\n      // alert('baseModule cannot retrieve exercises list')\n      // $nuxt.$router.replace($nuxt.localePath(\"/\"));\n      console.warn(\"Cannot retrieve exercise list in page\");\n    }\n    if(this.getExercises.length===0) {\n      // alert('baseModule cannot retrieve exercises list [2]')\n      // $nuxt.$router.replace($nuxt.localePath(\"/\"));\n      console.error(\"Cannot retrieve exercise list in page\");\n    }\n\n  }\n}\n","\nimport basepage from \"~/mixins.js/exercisepage\";\nimport {mapActions, mapGetters} from 'vuex'\n\nexport default {\n  name: 'videoPlayer',\n  mixins: [basepage],\n  data() {\n    return {\n      step: 0,\n      exid: (this.$route.params.id),\n      programid: (this.$route.params.fromprogram || false),\n      withindex: (this.$route.params.withindex || -1),\n      backto: (this.$route.params.backto || false),\n      name: \"videoPlayer\",\n      play: false,\n      videofile: null,\n      loaded: false,\n      ended: false,\n      currentTime: '00:00',\n      currentTimeS: 0,\n      uuid: '0',\n      video: undefined,\n      totalDuration: 0,\n      about: {\n        show: false\n      }\n    }\n  },\n  transition: {\n    name: 'fade',\n    mode: 'out-in',\n    css: false,\n    beforeEnter(el) {\n      this.$anime.set(el, {\n        scale: 1,\n        opacity: 0\n      })\n    },\n    enter(el, done) {\n      this.$anime({\n        targets: el,\n        opacity: [0, 1],\n        duration: 500,\n        easing: 'easeInOutSine',\n        complete: done\n      })\n    },\n    leave(el, done) {\n      this.$anime({\n        targets: el,\n        opacity: [1, 0],\n        duration: 500,\n        easing: 'easeInOutSine',\n        complete: done\n      });\n      document.body.classList.remove('bodyblock')\n    }\n  },\n  /*\n  beforeRouteLeave(_to, _from, next) {\n\n  },*/\n  computed: {\n    ...mapGetters({\n      getExercises: 'getExercises',\n      getCurrentExercise: 'getCurrentExercise',\n      skipTutorial: 'skipTutorial',\n      isCurrentUserGuest: 'isCurrentUserGuest'\n    }),\n    exercise() {\n      return this.getCurrentExercise\n    },\n    duration: function () {\n      return this.video ? this.convertTimeHHMMSS(this.totalDuration) : ''\n    },\n    playerId: function () {\n      return 'player-' + this.uuid\n    },\n    currentPercent() {\n\n      if (this.totalDuration <= 0) {\n        return 0;\n      }\n      if (this.currentTimeS === 0) {\n        return 0;\n      }\n\n      if (this.video) {\n\n        const perc = this.currentTimeS / this.totalDuration * 100;\n        if (perc > 100) {\n          return 100;\n        }\n        return perc;\n      }\n      return 0;\n    },\n  },\n  methods: {\n    ...mapActions({\n      setCurrentExerciseIndex: 'setCurrentExerciseIndex',\n      setCurrentExerciseById: 'setCurrentExerciseById',\n      setCurrentUser: 'setCurrentUser',\n      setIsGuest: 'setIsGuest',\n      addDoneExercise: 'addDoneExercise',\n      setCurrentExerciseByData: 'setCurrentExerciseByData',\n    }),\n    nextStep() {\n      if(this.step<1) {\n        this.step+=1;\n        this.$nextTick(()=>{\n          this.startMediaExcerise()\n        })\n      }\n    },\n    backStep() {\n      if(this.step===0) {\n        this.exitClick()\n        return;\n      }\n      this.step=0;\n    },\n    closeInfo() {\n      this.about.show = false;\n    },\n    infoStep() {\n      if (this.play) {\n        this.playClick();\n      }\n      this.about.show = true;\n    },\n    prevStep() {\n      if (this.about.show === true) {\n        this.closeInfo();\n        return;\n      }\n      this.exitClick();\n    },\n    requestFullScreen() {\n      const elem = document.getElementById(this.playerId);\n      if (elem.requestFullscreen) {\n        elem.requestFullscreen();\n      } else if (elem.msRequestFullscreen) {\n        elem.msRequestFullscreen();\n      } else if (elem.mozRequestFullScreen) {\n        elem.mozRequestFullScreen();\n      } else if (elem.webkitRequestFullscreen) {\n        elem.webkitRequestFullscreen();\n      } else if (elem.webkitEnterFullScreen) {\n        elem.webkitEnterFullScreen();\n      }\n    },\n    generateUUID() {\n      return 'xxxxxxxx-xxxx-4xxx'.replace(/[xy]/g, function (c) {\n        let v, r\n        r = Math.random() * 16 | 0;\n        v = c === 'x' ? r : (r & 0x3 | 0x8)\n        return v.toString(16)\n      })\n    },\n    convertTimeHHMMSS(val) {\n      let hhmmss = new Date(val * 1000).toISOString().substr(11, 8)\n      return (hhmmss.indexOf('00:') === 0) ? hhmmss.substr(3) : hhmmss\n    },\n    playClick() {\n      this.play = !this.play;\n      if (this.play) {\n        this.video.play()\n      } else {\n        this.video.pause()\n      }\n    },\n    forwardClick() {\n      this.video.currentTime = this.video.currentTime + 10;\n      this.currentTimeS = this.video.currentTime;\n    },\n    rewindClick() {\n      this.video.currentTime = this.video.currentTime - 10;\n      this.currentTimeS = this.video.currentTime;\n    },\n    exitClick() {\n      this.$analytics.logEvent('exercise_quit', {\n        \"id\": this.getCurrentExercise.id,\n        \"name\": this.getCurrentExercise.title,\n        \"program_id\": this.getCurrentExercise.program_id || null,\n        \"type\": this.getCurrentExercise.type,\n      })\n      if (document.querySelector('#__nuxt')) {\n        document.querySelector('#__nuxt').classList.add('quit');\n      }\n      this.exerciseStepBack()\n    },\n    _handleLoaded: function () {\n\n      if (this.video.readyState >= 2) {\n        this.fixVideoHeight(this.video.videoWidth, this.video.videoHeight);\n        this.loaded = true\n        this.video.classList.remove('hide');\n        this.totalDuration = parseInt(this.video.duration)\n        if(this.step>0) {\n          this.playClick();\n        }\n      } else {\n        this.$root.$emit('showError', {\n          hasretry: true,\n          title: $nuxt.$t('errors.global.title'),\n          error: $nuxt.$t('errors.global.msg_loadvideotrack'),\n          click: null,\n          resetEvent: function () {\n            $nuxt.$router.replace($nuxt.localePath(this.defaultHomeUrl));\n            $nuxt.$airlyn.finishExercise({\"reason\":'exercise-video-fail',\"result\":{}}).finally(()=>{\n              console.log('exercise video cannot be loaded, error')\n            });\n            $nuxt.$airlyn.closeExercise().finally(() => {\n              console.log('exercise closed, success')\n            });\n            return true;\n          }\n        });\n      }\n    },\n    _handlePlayingUI: function (e) {\n      let currTime = parseInt(this.video.currentTime)\n      this.currentTimeS = parseInt(this.video.currentTime);\n      this.currentTime = this.convertTimeHHMMSS(this.totalDuration - currTime);\n    },\n    _handlePlayPause: function (e) {\n      if (e.type === 'pause' && this.play === false) {\n        this.currentTime = '00:00'\n        this.play = false\n        console.log('finish?')\n      }\n    },\n    _handleFullScreenMode: function (e) {\n      const elem = document.getElementById(this.playerId);\n      if (!!(elem.currentTime > 0 && !elem.paused && !elem.ended && elem.readyState > 2)) {\n        this.play = true;\n      } else {\n        this.play = false;\n      }\n    },\n    _handleEnd: function (e) {\n      console.log('video finito', e);\n      this.play = false;\n      this.ended = true;\n\n      if (this.isCurrentUserGuest) {\n        this.getCurrentExercise.completed = true;\n        this.$root.$emit('completedExercise', this.getCurrentExercise);\n        this.$nextTick(() => {\n          this.$root.$emit('showPager', {\"show\": false});\n          let suffix = this.buildSuffix();\n          if(suffix.length>0) {\n            suffix = \"/\" + suffix\n          }\n          this.$router.push($nuxt.localePath(\"/ml/greetings/\" + this.exid + suffix));\n        });\n        return;\n      }\n\n      let passed = false;\n      this.$exerciseManager.completeExercise(this.getCurrentExercise, null, null).then((r) => {\n        console.log('got record result', r);\n        if (r.exercise && r.response && r.exercise.completed) {\n          passed = true;\n          this.getCurrentExercise.completed = r.exercise.completed;\n        } else {\n          passed = $nuxt.$t('errors.global.msg_restapi')\n        }\n      }).catch((e) => {\n        console.error(\"Errore invio api [breathing_exercises_video]:\", e);\n        this.$captureException(e);\n        passed = $nuxt.$t('errors.global.title');\n        this.$analytics.logEvent(\"error\", {\n          \"title\": 'cannot send exercise video'\n        });\n      }).finally(() => {\n        if (passed === true) {\n          this.addDoneExercise(1);\n          this.$nextTick(() => {\n            this.$root.$emit('showPager', {\"show\": false});\n            let suffix = this.buildSuffix();\n            if(suffix.length>0) {\n              suffix = \"/\" + suffix\n            }\n            this.$router.push($nuxt.localePath(\"/ml/greetings/\" + this.exid + suffix));\n          });\n        } else {\n          //Show Error?\n          this.$root.$emit('showError', {\n            hasretry: true,\n            title: $nuxt.$t('errors.global.uhoh'),\n            error: passed,\n            leaveBtn: this.$t('generic.startanyway'),\n            click: () => {\n              this.startAgain();\n              return true;\n            },\n            resetEvent: function () {\n              $nuxt.$router.replace($nuxt.localePath(this.defaultHomeUrl));\n              $nuxt.$airlyn.finishExercise({\"reason\":'exercise-finish-fail',\"result\":{finish:true}}).finally(()=>{\n                console.log('exercise cannot store exercise result, error')\n              });\n\n              return true;\n            }\n          });\n        }\n      });\n    },\n    startAgain() {\n      this.ended = false;\n      if(this.video) {\n        this.video.currentTime = 0;\n      }\n      this.currentTimeS = 0;\n      this.play = false;\n    },\n    init: function () {\n      this.ended = false;\n      this.video.addEventListener('timeupdate', this._handlePlayingUI)\n      this.video.addEventListener('loadeddata', this._handleLoaded)\n      this.video.addEventListener('pause', this._handlePlayPause)\n      this.video.addEventListener('play', this._handlePlayPause)\n      this.video.addEventListener('ended', this._handleEnd)\n      this.video.addEventListener('fullscreenchange', this._handleFullScreenMode)\n\n    },\n    getVideo: function () {\n      return this.$el.querySelectorAll('video')[0]\n    },\n    handleBack() {\n      this.prevStep();\n    },\n    retrieveCurrentExerciseAndSet() {\n      if (this.hasJoinedProgramById(this.programid)) {\n        const _joinProgram = this.getProgramById(this.programid);\n        if (this.withindex > -1) {\n          const list = _joinProgram.exercises.filter((i) => i.id === this.exid && i.program_index == this.withindex);\n          if (list.length > 0) {\n            this.setCurrentExerciseByData(list[0])\n          }\n        } else {\n          this.setCurrentExerciseByData(null)\n        }\n      } else {\n        this.setCurrentExerciseById(this.exid);\n      }\n    },\n    fixVideoHeight(videoW, videoH) {\n      const videoRatio = videoW / videoH;\n      const _videoContainer = document.getElementById('playerAreaContainer')\n      if (_videoContainer) {\n        let _maxHeight = document.body.clientHeight;\n        let _maxWidth = document.body.clientWidth;\n        const _page = _videoContainer.closest('.fullPageCard');\n        const _header = _page.querySelector('div.header');\n        const _footer = _page.querySelector('div.footer');\n        const _runningTime = _page.querySelector('div.runningTime');\n        if (_header) {\n          _maxHeight = _maxHeight - _header.scrollHeight;\n        }\n        if (_footer) {\n          _maxHeight = _maxHeight - _footer.scrollHeight;\n        }\n\n        if (_runningTime) {\n          _maxHeight = _maxHeight - _runningTime.scrollHeight;\n        } else {\n          _maxHeight = _maxHeight - 36;\n        }\n\n        const _bodyHeight =\n          Math.min(\n            _maxHeight,\n            _page.scrollHeight - ((_header ? _header.scrollHeight : 0) + (_footer ? _footer.scrollHeight : 0))\n          ) - (_runningTime ? _runningTime.scrollHeight : 36);\n\n        console.log('computed h', _bodyHeight, _maxHeight, _page.scrollHeight - ((_header ? _header.scrollHeight : 0) + (_footer ? _footer.scrollHeight : 0)));\n        _page.querySelector('div.body').style.height = (_bodyHeight - 4) + \"px\";\n        _page.querySelector('div.body').style.overflow = 'hidden';\n\n        _videoContainer.style.height = _bodyHeight + \"px\";\n        _videoContainer.style.width = _bodyHeight * videoRatio + \"px\";\n        _page.querySelector('div.body').classList.remove('horizontal');\n        if (_bodyHeight * videoRatio > _maxWidth) {\n          _page.querySelector('div.body').classList.add('horizontal');\n          _videoContainer.style.width = _maxWidth + \"px\";\n          _videoContainer.style.height = (_maxWidth / videoRatio) + \"px\";\n        }\n\n      }\n    },\n    startMediaExcerise() {\n      this.video = this.getVideo();\n      this.init()\n      this.video.load();\n    }\n  },\n  mounted() {\n    if (this.$capacitor && this.$capacitor.isNativePlatform()) {\n      this.$backEmitter.callback = this.handleBack;\n    }\n    this.uuid = this.generateUUID();\n    if (this.exid) {\n      this.retrieveCurrentExerciseAndSet();\n      if (this.getCurrentExercise) {\n        this.videofile = this.getCurrentExercise.video;\n      } else {\n        console.error('cannot find exercise ', this.exid);\n        $nuxt.$router.replace($nuxt.localePath(this.defaultHomeUrl));\n        $nuxt.$airlyn.finishExercise({\"reason\":'exercise-load-fail',\"result\":{}}).finally(()=>{\n          console.log('exercise cannot be loaded, error')\n        });\n        $nuxt.$airlyn.closeExercise().finally(() => {\n          console.log('exercise closed, success')\n        });\n      }\n      this.$nextTick(() => {\n        this.name = \"videoPlayer\";\n\n        this.$root.$emit('showNext', false);\n        this.$root.$emit('showPager', {show: false});\n        this.$root.$emit('showOverlay', {show: false});\n\n        if (this.video) {\n          this.$analytics.logEvent('exercise_seeing', {\n            \"id\": this.getCurrentExercise.id,\n            \"name\": this.getCurrentExercise.title,\n            \"program_id\": this.getCurrentExercise.program_id || null,\n            \"program_name\": this.hasJoinedProgramById(this.getCurrentExercise.program_id) ?\n              this.getProgramById(this.getCurrentExercise.program_id).name : null,\n            \"type\": this.getCurrentExercise.type,\n          })\n          this.$exerciseManager.startExercise(this.getCurrentExercise);\n          this.$analytics.setScreenName(this.getCurrentExercise.title + \" seeing page\");\n          //this.video.load();\n        }\n      });\n    } else {\n      console.error('cannot find exercise[2] ', this.exid);\n      $nuxt.$router.replace($nuxt.localePath(this.defaultHomeUrl));\n      $nuxt.$airlyn.finishExercise({\"reason\":'exercise-load-fail',\"result\":{}}).finally(()=>{\n        console.log('exercise cannot be loaded, error')\n      });\n      $nuxt.$airlyn.closeExercise().finally(() => {\n        console.log('exercise closed, success')\n      });\n    }\n  },\n  beforeDestroy: function () {\n    if (this.$capacitor && this.$capacitor.isNativePlatform()) {\n      this.$backEmitter.callback = null\n    }\n    if (this.video) {\n      this.video.removeEventListener('timeupdate', this._handlePlayingUI)\n      this.video.removeEventListener('loadeddata', this._handleLoaded)\n      this.video.removeEventListener('pause', this._handlePlayPause)\n      this.video.removeEventListener('play', this._handlePlayPause)\n      this.video.removeEventListener('ended', this._handleEnd)\n      this.video.removeEventListener('fullscreenchange', this._handleFullScreenMode)\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./video.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./video.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./video.vue?vue&type=template&id=22a0cc9a\"\nimport script from \"./video.vue?vue&type=script&lang=js\"\nexport * from \"./video.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {Infodialog: require('/Users/francescolotruglio/Lavori/VoiceMed/VoiceMedSdk-Sources/voicemed-layoutsdk/components/infodialog.vue').default,FullpageCard: require('/Users/francescolotruglio/Lavori/VoiceMed/VoiceMedSdk-Sources/voicemed-layoutsdk/components/fullpage-card.vue').default})\n"],"sourceRoot":""}