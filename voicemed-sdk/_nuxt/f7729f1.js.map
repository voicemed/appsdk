{"version":3,"sources":["webpack:///./pages/ml/exerciseexecutor/setup.vue","webpack:///./pages/ml/exerciseexecutor/setup.vue?1e72","webpack:///./pages/ml/exerciseexecutor/setup.vue?95e8","webpack:///./mixins.js/basepage.js","webpack:///./components/infodialog.vue?a773","webpack:///./components/infodialog.vue","webpack:///./components/infodialog.vue?c289","webpack:///./mixins.js/exercisepage.js","webpack:///./components/camtester.vue?a2d2","webpack:///./pages/ml/exerciseexecutor sync","webpack:///./components/camtester.vue?40ef","webpack:///./components/camtester.vue?195b","webpack:///./components/camtester.vue","webpack:///./components/camtester.vue?8bec","webpack:///./components/camtester.vue?d86b"],"names":["name","mixins","basepage","data","exid","this","$route","params","id","programid","fromprogram","withindex","backto","skipPermissions","hasNext","uuid","about","show","beforeRouteLeave","_to","_from","next","window","stream","getTracks","forEach","track","stop","$root","$emit","computed","_objectSpread","mapGetters","getExercises","getCurrentExercise","skipTutorial","exercise","playerId","watch","methods","mapActions","setSkipTutorial","setCurrentExerciseIndex","setCurrentExerciseById","fixVideoHeight","videoW","videoH","videoRatio","_videoContainer","document","getElementById","_maxHeight","body","clientHeight","_maxWidth","clientWidth","_page","closest","_header","querySelector","_footer","_mainPager","scrollHeight","_bodyHeight","Math","min","style","height","width","overflow","classList","remove","add","getImage","source","indexOf","require","closeInfo","infoStep","oncameraupdate","event","blockClick","exerciseStepBack","moveToNext","_this","$capacitor","isNativePlatform","$airlyn","checkMicPerm","then","r","result","startExercise","e","exception","manageMicError","catch","$checkPermissions","res","$captureException","manageMicCamError","finally","$nuxt","$loading","finish","$closeStream","allowClick","_this2","start","grantAsked","requestWholePermissions","storage","nextStep","exitStep","prevStep","_this3","$el","animate","step","$router","back","hasTutorial","$nextTick","$forceNextTick","_toConsumableArray","querySelectorAll","map","i","suffix","buildSuffix","length","type","$exerciseManager","kindHOLD","push","localePath","_this4","useTutorial","stepLast","generateUUID","replace","c","random","toString","_handleLoaded","_this5","video","readyState","videoWidth","videoHeight","play","_handleEnd","mounted","_this6","checkWholePermissions","validValues","valid","k","tutorialVideo","$t","addEventListener","load","beforeDestroy","removeEventListener","component","_vm","_c","_self","class","attrs","scopedSlots","_u","key","fn","staticClass","on","_v","domProps","_s","title","_e","staticStyle","proxy","model","value","callback","$$v","expression","ref","tutorialVideoThumbnail","aboutImage","thumbnail","installComponents","Camtester","default","Infodialog","FullpageCard","transition","mode","css","beforeEnter","el","contains","startPoint","$anime","set","scale","opacity","translateX","enter","done","targets","duration","easing","complete","leave","translateY","afterLeave","hasBack","hasInfo","exercisequit","open","updateExternalLink","getCurrentPagerHeight","isVoicemed","$config","env","environment","isAirlyn","nuxtloading","loading","defaultHomeUrl","setCurrentPage","setCurrentPagerHeight","showQuitDialog","resetQuitDialog","confirmQuitDialog","$analytics","logEvent","program_id","finishExercise","closeExercise","suffixes","programCheck","join","hasJoinedProgramById","$store","getters","getProgramJoinedAtById","getProgramById","getOverallProgressProgramById","getDoneCountByProgramId","getNextExerciseByProgramId","getExercisetocompleteCountProgramById","getExercisecompletedCountProgramById","printDeviceError","prefix","error","clickEvent","resetEvent","toLowerCase","state","showError","printDeviceErrorOLD","hasretry","click","openPermissionPanel","retryBtn","manageCamError","swipeEvent","attachSwipeListener","detachSwipeListeners","fixWindowVariables","variable","top","consumeExternalLink","stopPropagation","preventDefault","_href","target","getAttribute","innerText","$browser","url","_anchor","_url","substr","beforeMount","item","updated","dynamicTexts","Object","keys","text","$appConfiguration","getText","max","offsetHeight","props","String","contentclasses","description","infoImage","showSuperTitle","Boolean","thumbInTitle","showDialog","closeClick","_t","content","__esModule","module","locals","exports","webpackEmptyContext","req","Error","code","resolve","___CSS_LOADER_EXPORT___","___CSS_LOADER_API_IMPORT___","isCameraOpen","isLoading","computeVideOverlayHeight","streamSettings","videoinput","svgMask","maskH","maskW","maskX","maskY","getVideoDevices","getAudioDevices","setVideoDevices","setAudioDevices","clearMediaDevices","initVideoDevices","Array","isArray","$enumerateMediaDevices","audio","Promise","reject","fixCameraSize","innerWidth","_MessageHeight","paddingBottom","initVideoCapture","deviceInfos","device","kind","startStream","videoID","undefined","videoSource","deviceId","maxHeight","innerHeight","constraints","exact","frameRate","facingMode","ideal","$initVideo","srcObject","deviceNotSupported","videodevices"],"mappings":"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","file":"f7729f1.js","sourcesContent":["\nimport basepage from \"~/mixins.js/exercisepage\";\nimport {mapActions, mapGetters} from 'vuex'\n\nexport default {\n  name: 'setup',\n  mixins: [basepage],\n  data() {\n    return {\n      exid: (this.$route.params.id),\n      programid: (this.$route.params.fromprogram || false),\n      withindex: (this.$route.params.withindex || false),\n      backto: (this.$route.params.backto || false),\n      \"name\": \"setup\",\n      \"step\": 0,\n      \"stepLast\": 3,\n      \"useTutorial\": false,\n      \"hasTutorial\": false,\n      \"animate\": true,\n      \"hasBack\": true,\n      \"hasInfo\": false,\n      \"grantAsked\": false,\n      \"computeVideOverlayHeight\": null,\n      skipPermissions: false,\n      hasNext: true,\n      uuid: '0',\n      about: {\n        show: false\n      }\n    }\n  },\n  beforeRouteLeave(_to, _from, next) {\n    if (window.stream != null) {\n      window.stream.getTracks().forEach((track) => {\n        track.stop()\n      })\n    }\n    this.$root.$emit('showPager', {\"show\": true});\n    window.stream = null // make stream available to console\n    next()\n  },\n  computed: {\n    ...mapGetters({\n      getExercises: 'getExercises',\n      getCurrentExercise: 'getCurrentExercise',\n      skipTutorial: 'skipTutorial'\n    }),\n    exercise() {\n      return this.getCurrentExercise\n    },\n    playerId: function () {\n      return 'player-' + this.uuid\n    }\n  },\n  watch: {\n    'step': function () {\n      this.$root.$emit('showPager', {\"show\": true});\n    }\n  },\n  methods: {\n    ...mapActions({\n      setSkipTutorial: 'setSkipTutorial',\n      setCurrentExerciseIndex: 'setCurrentExerciseIndex',\n      setCurrentExerciseById: 'setCurrentExerciseById'\n    }),\n    fixVideoHeight(videoW, videoH) {\n      const videoRatio = videoW / videoH;\n      const _videoContainer = document.getElementById('playerAreaTutorial')\n      if (_videoContainer) {\n        let _maxHeight = document.body.clientHeight;\n        let _maxWidth = document.body.clientWidth;\n        const _page = _videoContainer.closest('.fullPageCard');\n        const _header = _page.querySelector('div.header');\n        const _footer = _page.querySelector('div.footer');\n        const _mainPager = document.querySelector('.pager');\n        if (_header) {\n          _maxHeight = _maxHeight - _header.scrollHeight;\n        }\n        if (_footer) {\n          _maxHeight = _maxHeight - _footer.scrollHeight;\n        }\n        if (_mainPager) {\n          _maxHeight = _maxHeight - _mainPager.scrollHeight;\n        }\n\n        const _bodyHeight =\n          Math.min(\n            _maxHeight,\n            _page.scrollHeight - ((_header ? _header.scrollHeight : 0) + (_footer ? _footer.scrollHeight : 0))\n          );\n        _videoContainer.style.height = _bodyHeight + \"px\";\n        _videoContainer.style.width = _bodyHeight * videoRatio + \"px\";\n        _page.querySelector('div.body').style.height = (_bodyHeight - 4) + \"px\";\n        _page.querySelector('div.body').style.overflow = 'hidden';\n        _page.querySelector('div.body').classList.remove('horizontal');\n        if (_bodyHeight * videoRatio > _maxWidth) {\n          _page.querySelector('div.body').classList.add('horizontal');\n          _videoContainer.style.width = _maxWidth + \"px\";\n          _videoContainer.style.height = (_maxWidth / videoRatio) + \"px\";\n        }\n      }\n    },\n    getImage(source) {\n      if (source.indexOf('~/assets') !== -1) {\n        return require(source);\n      }\n      return source\n    },\n    closeInfo() {\n      this.about.show = false;\n    },\n    infoStep() {\n      console.log('got info click method [ex]')\n      this.about.show = true;\n    },\n    oncameraupdate(event) {\n      console.log('got event from camera', event);\n      if (event.event === 'initVideoCapture') {\n        this.hasNext = false;\n      }\n      if (event.event === 'finishinitStream') {\n        this.hasNext = true;\n      }\n    },\n    blockClick() {\n      this.exerciseStepBack()\n      return true;\n    },\n    moveToNext() {\n      if (this.$capacitor.isNativePlatform()) {\n        this.$airlyn.checkMicPerm().then((r) => {\n          console.log('Permessi al microfono garantiti?', r);\n          if (r && r.result === true) {\n            this.startExercise()\n          } else {\n            const e = {\n              \"name\": \"NotAllowedError\",\n              exception: r\n            }\n            this.manageMicError(e, null, function () {\n              this.exerciseStepBack()\n              return true;\n            });\n          }\n        }).catch((e) => {\n          console.error(\"Permission request fails\", e)\n          this.manageMicError({\n            \"name\": \"NotAllowedError\",\n            exception:e\n          }, null, function () {\n            this.exerciseStepBack()\n            return true;\n          });\n        });\n      } else {\n        this.$checkPermissions().then((res) => {\n          window.stream = res; //Prevent stream started but non cleared...\n          this.startExercise()\n        }).catch((e) => {\n          console.error('[checkPermissions] allow error', e);\n          this.$captureException(e);\n          this.manageMicCamError(e, null, function () {\n            this.exerciseStepBack()\n            return true;\n          });\n        }).finally(() => {\n          this.$nuxt.$loading.finish();\n          this.$closeStream(); //Finito di giocare svuota\n        })\n      }\n    },\n    allowClick() {\n      //Richiedi permessi webCam\n      //Richiedi permessi Audio\n      this.$closeStream();\n      this.$nuxt.$loading.start();\n      this.grantAsked = true;\n      if (this.$capacitor.isNativePlatform()) {\n        this.$airlyn.requestWholePermissions().then((r) => {\n          console.log('Permessi garantiti?', r);\n          if (r && /*r.camera === true && */ r.storage === true && (r[\"voice recording\"] === true || r[\"microphone\"] === true)) {\n            this.nextStep();\n          } else {\n            console.error('[checkPermissions] allow error');\n            this.manageMicCamError({\n              \"name\": \"NotAllowedError\"\n            }, null, function () {\n              this.exerciseStepBack()\n              return true;\n            });\n          }\n        }).catch((e) => {\n          console.error('[checkPermissions] allow error', e);\n          this.$captureException(e);\n          this.manageMicCamError(e, null, function () {\n            this.exerciseStepBack()\n            return true;\n          });\n        }).finally(() => {\n          this.$nuxt.$loading.finish();\n        });\n      } else {\n        this.$checkPermissions().then((res) => {\n          window.stream = res; //Prevent stream started but non cleared...\n          this.nextStep();\n        }).catch((e) => {\n          console.error('[checkPermissions] allow error', e);\n          this.$captureException(e);\n          this.manageMicCamError(e, null, function () {\n            this.exerciseStepBack()\n            return true;\n          });\n        }).finally(() => {\n          this.$nuxt.$loading.finish();\n          this.$closeStream(); //Finito di giocare svuota\n        })\n      }\n    },\n    exitStep() {\n      if (document.querySelector('#__nuxt')) {\n        document.querySelector('#__nuxt').classList.add('quit');\n      }\n\n      this.exerciseStepBack()\n    },\n    prevStep() {\n      if (this.about.show === true) {\n        this.closeInfo();\n        return;\n      }\n      this.$el.classList.add('back');\n      this.animate = false;\n      if (this.step <= 0) {\n        this.$router.back();\n      }\n      if (this.step === 2 && this.hasTutorial !== false) {\n        this.step = 0;\n      } else {\n\n        this.step -= (this.step === 0 ? 0 : 1);\n      }\n      this.$nextTick(() => {\n        this.animate = true;\n        console.log('remove hide from video?', this.video)\n        this.$forceNextTick(() => {\n          [...this.$el.querySelectorAll('.hide')].map((i) => i.classList.remove('hide'));\n        })\n      });\n    },\n    startExercise() {\n      let suffix = this.buildSuffix();\n      if(suffix.length>0) {\n        suffix = \"/\" + suffix\n      }\n      if (this.exercise.type === this.$exerciseManager.kindHOLD) {\n        this.$router.push($nuxt.localePath(\"/ml/exercises/\" + this.exid + \"/runnersilent\" + suffix));\n      } else {\n        // TODO TASK SUPPRESS NOISE-CHECK -\n        this.$router.push($nuxt.localePath(\"/ml/exercises/\" + this.exid + \"/runner\" + suffix));\n        //this.$router.push(\"/ml/exercises/\" + this.exid + \"/noise-check\" + suffix);\n      }\n    },\n    nextStep() {\n      if (this.$el && this.$el.classList) {\n        this.$el.classList.remove('back');\n      }\n      this.setSkipTutorial(this.useTutorial);\n      this.animate = false;\n      if (this.step == (this.stepLast - 1) && this.grantAsked === false) {\n        this.allowClick();\n        return;\n      }\n\n      console.log('Start Step:', this.step, this.hasTutorial !== false, this.stepLast);\n      if (this.step < 2 && this.hasTutorial !== false) {\n        this.moveToNext();\n        return\n      } else if (this.step !== this.stepLast && this.skipPermissions) {\n        this.step = this.stepLast;\n      } else {\n        this.step += 1;\n      }\n      console.log('Step:', this.step, this.hasTutorial, this.exercise.type, this.stepLast);\n      if (this.step == this.stepLast) {\n        //Do something if needed\n        this.hasNext = false;\n        if (this.exercise.type === this.$exerciseManager.kindHOLD) {\n          this.step += 1;\n        }\n      }\n\n      if (this.step > this.stepLast) {\n        this.startExercise()\n      }\n\n      this.$nextTick(() => {\n        this.animate = true;\n      });\n\n    },\n    generateUUID() {\n      return 'xxxxxxxx-xxxx-4xxx'.replace(/[xy]/g, function (c) {\n        let v, r\n        r = Math.random() * 16 | 0;\n        v = c === 'x' ? r : (r & 0x3 | 0x8)\n        return v.toString(16)\n      })\n    },\n    _handleLoaded: function () {\n\n      if (this.video.readyState >= 2) {\n        this.$nextTick(() => {\n          this.fixVideoHeight(this.video.videoWidth, this.video.videoHeight);\n        });\n        this.video.classList.remove('hide');\n\n        console.log('video loaded', this.step);\n        if (this.step < 2) {\n          this.video.play();\n        }\n      } else {\n        this.$root.$emit('showToast', \"Cannot reproduce tutorial\", 'error');\n        this.nextStep();\n      }\n    },\n    _handleEnd: function () {\n      this.nextStep();\n    }\n  },\n  mounted() {\n    if (this.$capacitor.isNativePlatform()) {\n      this.$airlyn.checkWholePermissions().then((r) => {\n        console.log('got whole permission check result', r);\n        const validValues = [\"granted\", true];\n        const availablePermissions = [\n          /*\"camera\",*/\n          \"storage\",\n          \"voice recording\"\n        ];\n        let valid = false;\n        availablePermissions.map((k) => {\n          if (validValues.indexOf(r[k]) !== -1) {\n            valid = true;\n          } else {\n            valid = false;\n          }\n        });\n        console.log('checked permissions', valid);\n        this.skipPermissions = valid;\n      })\n    }\n\n\n    this.useTutorial = this.skipTutorial;\n    if (this.getCurrentExercise && this.getCurrentExercise.type === this.$exerciseManager.kindHOLD) {\n      this.stepLast = 2;\n    }\n    if (this.getCurrentExercise && this.getCurrentExercise.tutorialVideo) {\n      this.uuid = this.generateUUID();\n      this.hasTutorial = this.getCurrentExercise.tutorialVideo;\n      this.$nextTick(() => {\n        this.video = this.$el.querySelectorAll('video')[0];\n        this.$root.$emit('setNextText', this.$t('generic.next'));\n        this.video.addEventListener('loadeddata', this._handleLoaded)\n        this.video.addEventListener('ended', this._handleEnd)\n        this.$root.$emit('disableNext', false);\n        this.video.load()\n      })\n    } else if (this.useTutorial) {\n      this.step = 2;\n    }\n  },\n  beforeDestroy: function () {\n    if (this.video) {\n      this.video.removeEventListener('loadeddata', this._handleLoaded)\n      this.video.removeEventListener('ended', this._handleEnd)\n    }\n  }\n\n}\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./setup.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./setup.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./setup.vue?vue&type=template&id=4f3641e6\"\nimport script from \"./setup.vue?vue&type=script&lang=js\"\nexport * from \"./setup.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {Camtester: require('/Users/francescolotruglio/Lavori/VoiceMed/VoiceMedSdk-Sources/voicemed-layoutsdk/components/camtester.vue').default,Infodialog: require('/Users/francescolotruglio/Lavori/VoiceMed/VoiceMedSdk-Sources/voicemed-layoutsdk/components/infodialog.vue').default,FullpageCard: require('/Users/francescolotruglio/Lavori/VoiceMed/VoiceMedSdk-Sources/voicemed-layoutsdk/components/fullpage-card.vue').default})\n","import {mapGetters, mapActions} from 'vuex'\n\nexport default {\n  name: 'basePage',\n  transition: {\n    name: 'slide',\n    mode: 'out-in',\n    css: false,\n    beforeEnter(el) {\n      if (document.querySelector('#__nuxt').classList.contains('quit')) {\n        return\n      }\n      const startPoint = document.querySelector('#__nuxt').classList.contains('back') ? '-100%' : '100%';\n      this.$anime.set(el, {\n        scale: 1,\n        opacity: 0,\n        translateX: startPoint\n      })\n    },\n    enter(el, done) {\n      const startPoint = document.querySelector('#__nuxt').classList.contains('back') ? '-100%' : '100%';\n      this.$anime({\n        targets: el,\n        opacity: [0, 1],\n        translateX: [startPoint, \"0\"],\n        duration: 500,\n        easing: 'easeInOutSine',\n        complete: done\n      })\n    },\n    leave(el, done) {\n      if (document.querySelector('#__nuxt').classList.contains('quit')) {\n        this.$anime({\n          targets: el,\n          /*opacity: [1, 0],*/\n          translateY: [0, '100%'],\n          duration: 500,\n          easing: 'easeInOutSine',\n          complete: done\n        });\n        return\n      }\n      const startPoint = document.querySelector('#__nuxt').classList.contains('back') ? '100%' : '-100%';\n      this.$anime({\n        targets: el,\n        opacity: [1, 0],\n        translateX: [\"0\", startPoint],\n        duration: 500,\n        easing: 'easeInOutSine',\n        complete: done\n      });\n    },\n    afterLeave(el) {\n      document.querySelector('#__nuxt').classList.remove('quit');\n      document.querySelector('#__nuxt').classList.remove('back');\n    }\n  },\n  data() {\n    return {\n      \"name\": \"basePage\",\n      exid: (this.$route.params.id),\n      programid: (this.$route.params.fromprogram || false),\n      withindex: (this.$route.params.withindex || -1),\n      backto: (this.$route.params.backto || false),\n      hasBack: false,\n      hasNext: false,\n      hasInfo: false,\n      exercisequit: {\n        open: false\n      }\n    }\n  },\n  watch: {\n    'about.show': function () {\n      this.$nextTick(() => {\n        this.updateExternalLink();\n      })\n    }\n  },\n  computed: {\n    ...mapGetters({\n      getCurrentPagerHeight: 'getCurrentPagerHeight'\n    }),\n    isVoicemed() {\n      return $nuxt.$config.env.environment.indexOf('voicemed_') > -1\n    },\n    isAirlyn() {\n      return $nuxt.$config.env.environment.indexOf('voicemed_') < 0\n    },\n    nuxtloading() {\n      return $nuxt.$loading.loading\n    },\n    defaultHomeUrl() {\n      //We know that we can customize the opening url:\n      return \"/\";\n      if (this.isAirlyn) {\n        return \"/\";\n      }\n      if (this.isVoicemed) {\n        return \"/\";\n      }\n    }\n  },\n  methods: {\n    ...mapActions({\n      setCurrentPage: 'setCurrentPage',\n      setCurrentPagerHeight: 'setCurrentPagerHeight'\n    }),\n    showQuitDialog() {\n      console.log('mi chiedi di uscire')\n      this.exercisequit.open = true;\n      console.log('cok ci sono', this.exercisequit.open)\n    },\n    resetQuitDialog() {\n      this.exercisequit.open = false;\n    },\n    confirmQuitDialog() {\n\n      this.exercisequit.open = false;\n      this.$analytics.logEvent('exercise_quit', {\n        \"id\": this.getCurrentExercise.id,\n        \"name\": this.getCurrentExercise.title,\n        \"program_id\": this.getCurrentExercise.program_id || null,\n        \"type\": this.getCurrentExercise.type,\n      })\n      if (document.querySelector('#__nuxt')) {\n        document.querySelector('#__nuxt').classList.add('quit');\n      }\n      this.exerciseStepBack()\n    },\n    exerciseStepBack() {\n      console.log('exit test', this.backto, this.programid)\n      if (this.backto == \"standalone\" || this.backto == \"challengemode\") {\n        $nuxt.$airlyn.finishExercise({\"reason\": 'user-cancelled', \"result\": {}}).finally(() => {\n          console.log('exercise finished by user')\n        });\n        $nuxt.$airlyn.closeExercise().finally(() => {\n          console.log('exercise closed, success')\n        });\n        return\n      }\n      if (this.backto == 'today') {\n        $nuxt.$router.replace($nuxt.localePath(\"/user/today\"));\n        return\n      }\n      if (this.backto == 'discovery') {\n        $nuxt.$router.replace($nuxt.localePath(\"/home\"));\n        return\n      }\n      if (this.programid) {\n        if (this.programid == \"-1\" || this.programid == -1 || this.programid == \"false\" || this.programid == false) {\n          $nuxt.$router.replace($nuxt.localePath(\"/user/today\"));\n        } else {\n          $nuxt.$router.replace($nuxt.localePath(\"/ml/programs/\" + this.programid));\n        }\n        return\n      }\n\n      $nuxt.$router.replace($nuxt.localePath(\"/user/today\"));\n    },\n    buildSuffix() {\n      let suffixes = [];\n      const programCheck = this.programid ? this.programid : false;\n      suffixes.push(programCheck !== '-1' ? programCheck : false);\n      suffixes.push(this.withindex ? this.withindex : \"-1\")\n      suffixes.push(this.backto ? this.backto : false)\n      return suffixes.join(\"/\")\n    }, hasJoinedProgramById(id) {\n      return this.$nuxt.$store.getters.hasJoinedProgramById(id)\n    },\n    getProgramJoinedAtById(id) {\n      return this.$nuxt.$store.getters.getProgramJoinedAtById(id)\n    },\n    getProgramById(id) {\n      return this.$nuxt.$store.getters.getProgramById(id)\n    },\n    getOverallProgressProgramById(id) {\n      return this.$nuxt.$store.getters.getOverallProgressProgramById(id)\n    },\n    getDoneCountByProgramId(id) {\n      return this.$nuxt.$store.getters.getDoneCountByProgramId(id)\n    },\n    getNextExerciseByProgramId(id) {\n      return this.$nuxt.$store.getters.getNextExerciseByProgramId(id)\n    },\n    getExercisetocompleteCountProgramById(id) {\n      return this.$nuxt.$store.getters.getExercisetocompleteCountProgramById(id)\n    },\n    getExercisecompletedCountProgramById(id) {\n      return this.$nuxt.$store.getters.getExercisecompletedCountProgramById(id)\n    },\n    printDeviceError(prefix, error, clickEvent, resetEvent) {\n      this.$analytics.logEvent(\"permission_error\", {\n        \"title\": 'errors.' + prefix + \".\" + error.name.toLowerCase() + \".title\",\n        \"kind\": prefix\n      });\n      console.error('Got device error', error)\n      if (error && (error.name === \"NotAllowedError\" || error.name === \"NotFoundError\" || error.exception.state == \"denied\" || error.exception.state == \"DENIED\")) {\n        this.$root.$emit('showPermssionError', true)\n        return\n      }\n\n      this.showError(\n        this.$t('errors.generic.title'),\n        this.$t('errors.generic.description'),\n        clickEvent,\n        resetEvent\n      );\n    },\n    printDeviceErrorOLD(prefix, error, clickEvent, resetEvent) {\n      this.$analytics.logEvent(\"permission_error\", {\n        \"title\": 'errors.' + prefix + \".\" + error.name.toLowerCase() + \".title\",\n        \"kind\": prefix\n      });\n      console.error('Got device error', error)\n      if (error.exception && prefix == \"mic\") {\n        if (error.exception.state == \"denied\" || error.exception.state == \"DENIED\") {\n          error.name = \"DeniedError\";\n          this.$root.$emit('showError', {\n            title: this.$t('errors.' + prefix + \".\" + error.name.toLowerCase() + \".title\"),\n            error: this.$t('errors.' + prefix + \".\" + error.name.toLowerCase() + \".description\"),\n            hasretry: true,\n            click: function () {\n              $nuxt.$airlyn.openPermissionPanel().then((r) => {\n                console.log('got openPermission Panel then', r, JSON.stringify(r))\n              }).catch((e) => {\n                console.log('got openPermission Panel catch', e, JSON.stringify(e))\n              }).finally(() => {\n                //esegui comunque il reset event...\n                if (typeof resetEvent == 'function') {\n                  console.log('dopo il setting riport cmq a inizio')\n                  resetEvent()\n                }\n              })\n              return true\n            },\n            resetEvent: resetEvent || function () {\n            },\n            retryBtn: \"Settings\"\n          });\n          return\n        }\n      }\n      if (error && (error.name === \"NotAllowedError\" || error.name === \"NotFoundError\")) {\n        //Permission error\n        this.showError(\n          this.$t('errors.' + prefix + \".\" + error.name.toLowerCase() + \".title\"),\n          this.$t('errors.' + prefix + \".\" + error.name.toLowerCase() + \".description\"),\n          clickEvent,\n          resetEvent\n        );\n        return\n      }\n      this.showError(\n        this.$t('errors.generic.title'),\n        this.$t('errors.generic.description'),\n        clickEvent,\n        resetEvent\n      );\n    },\n    manageMicError(e, clickEvent, resetEvent) {\n      this.printDeviceError('mic', e, clickEvent, resetEvent);\n    },\n    manageCamError(e, clickEvent, resetEvent) {\n      this.printDeviceError('cam', e, clickEvent, resetEvent);\n    },\n    manageMicCamError(e, clickEvent, resetEvent) {\n      this.printDeviceError('miccam', e, clickEvent, resetEvent);\n    },\n    showError(title, error, clickEvent, resetEvent) {\n      this.$root.$emit('showError', {\n        title: title,\n        error: error,\n        hasretry: clickEvent !== null ? true : false,\n        click: clickEvent || function () {\n        },\n        resetEvent: resetEvent || function () {\n        }\n      });\n    },\n    swipeEvent(e) {\n      //console.log(e.target); // element that was swiped\n      //console.log(e.detail); // see event data below\n      this.$root.$emit(\"swipe\", e);\n    },\n    attachSwipeListener() {\n      document.addEventListener('swiped-left', this.swipeEvent);\n      document.addEventListener('swiped-right', this.swipeEvent);\n    },\n    detachSwipeListeners() {\n      document.removeEventListener('swiped-left', this.swipeEvent);\n      document.removeEventListener('swiped-right', this.swipeEvent);\n    },\n    fixWindowVariables(variable) {\n      if (typeof window[variable] === 'undefined') {\n        if (window.top[variable] !== 'undefined') {\n          window[variable] = window.top[variable];\n        }\n      }\n    },\n    consumeExternalLink(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      const _href = e.target.getAttribute('href');\n      const _title = e.target.getAttribute('title') || e.target.innerText;\n      console.log('richiesto', _href);\n      this.$browser.open({url: _href});\n      //this.openBrowser({url:_href,title:_title})\n      return false;\n    },\n    updateExternalLink() {\n      [...document.querySelectorAll(\"a:not(.vm_managed)\")].forEach((_anchor) => {\n        if (_anchor.getAttribute('href') !== 'undefined') {\n          const _url = _anchor.getAttribute('href');\n          if (_url.length >= 1 && _url.substr(0, 1) === \"/\") {\n            //Url interno\n            return;\n          }\n          if (_url.length >= 1 && _url.substr(0, 1) === \"#\") {\n            //Url interno\n            return;\n          }\n          if ((_url.length >= 8 && _url.substr(0, 8) === \"https://\") || (_url.length >= 7 && _url.substr(0, 8) === \"http://\")) {\n            //Url estero:\n            _anchor.classList.add('vm_managed');\n            _anchor.removeEventListener('click', this.consumeExternalLink);\n            _anchor.addEventListener('click', this.consumeExternalLink)\n            return;\n          }\n        }\n      })\n    }\n  },\n  beforeMount() {\n    console.log('PRE loaded base Page')\n\n    console.log('fix loading variables');\n      ['currentChallenge','currentExercise', 'currentVMToken', 'currentVMKey', 'currentVMUrl'].forEach((item) => {\n      this.fixWindowVariables(item);\n    })\n\n    this.setCurrentPage(this);\n  },\n  beforeDestroy() {\n    this.detachSwipeListeners();\n  },\n\n  updated() {\n    console.warn('pagina aggiornata');\n    this.updateExternalLink();\n  },\n  mounted() {\n    console.log('loaded base Page')\n    //Init Preferences if app is native:\n    console.log('try Load index', this.name, this.dynamicTexts);\n    if (this.dynamicTexts && Object.keys(this.dynamicTexts).length > 0) {\n      Object.keys(this.dynamicTexts).map((text) => {\n        this.$appConfiguration.getText(text).then((r) => {\n          this.dynamicTexts[text] = r;\n        }).catch((e) => {\n          this.dynamicTexts[text] = this.$t(this.name + '.' + text);\n        })\n      })\n    }\n    if (this.getCurrentPagerHeight !== null && document.querySelector('.v-main__wrap > div.pager')) {\n      console.log('some one request new height: ', this.getCurrentPagerHeight);\n      //document.querySelector('.v-main__wrap > div.pager').style.height = this.getCurrentPagerHeight + \"px\";\n    }\n    this.$nextTick(() => {\n      //Start swipe features:\n      this.attachSwipeListener();\n      if (this.getCurrentPagerHeight === null) {\n        if (document.querySelector('.v-main__wrap > div.pager')) {\n          this.setCurrentPagerHeight(Math.max(document.querySelector('.v-main__wrap > div.pager').clientHeight, document.querySelector('.v-main__wrap > div.pager').offsetHeight));\n        }\n      }\n    });\n  }\n\n}\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./infodialog.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./infodialog.vue?vue&type=script&lang=js\"","\nexport default {\n  props: {\n    title: {\n      type: String,\n      default: \"Info\"\n    },\n    transition: {\n      type: String,\n      default: \"dialog-bottom-transition\"\n    },\n    contentclasses: {\n      type: String,\n      default: \"\"\n    },\n    description: {\n      type: String,\n      default: \"Info text\"\n    },\n    infoImage: {\n      type: String,\n      default: null\n    },\n    showSuperTitle: {\n      type: Boolean,\n      default: true\n    },\n    thumbInTitle: {\n      type: Boolean,\n      default: true\n    },\n    show: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {}\n  },\n  computed: {\n    showDialog: function () {\n      return this.show;\n    }\n  },\n  methods : {\n    closeClick(e) {\n      this.$emit('close',e);\n    }\n  },\n  mounted() {\n  }\n}\n","import { render, staticRenderFns } from \"./infodialog.vue?vue&type=template&id=cf9e9cc0\"\nimport script from \"./infodialog.vue?vue&type=script&lang=js\"\nexport * from \"./infodialog.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {FullpageCard: require('/Users/francescolotruglio/Lavori/VoiceMed/VoiceMedSdk-Sources/voicemed-layoutsdk/components/fullpage-card.vue').default})\n","import basepage from \"~/mixins.js/basepage\";\nimport {mapGetters, mapActions} from 'vuex'\n\nexport default {\n  name: 'expage',\n  mixins: [basepage],\n  computed: {\n    ...mapGetters({\n      getExercises: 'getExercises',\n      getCurrentExercise: 'getCurrentExercise'\n    }),\n    exercise() {\n      return this.getCurrentExercise\n    },\n  },\n  mounted() {\n    console.log('monti pagina interna ex', this.getExercises, this.getCurrentExercise);\n\n    if(!this.getExercises) {\n      // alert('baseModule cannot retrieve exercises list')\n      // $nuxt.$router.replace($nuxt.localePath(\"/\"));\n      console.warn(\"Cannot retrieve exercise list in page\");\n    }\n    if(this.getExercises.length===0) {\n      // alert('baseModule cannot retrieve exercises list [2]')\n      // $nuxt.$router.replace($nuxt.localePath(\"/\"));\n      console.error(\"Cannot retrieve exercise list in page\");\n    }\n\n  }\n}\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??ref--3-oneOf-1-2!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./camtester.vue?vue&type=style&index=0&id=2c7f3aa8&prod&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"efabf284\", content, false, {\"sourceMap\":false});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??ref--3-oneOf-1-2!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./camtester.vue?vue&type=style&index=0&id=2c7f3aa8&prod&lang=css\", function() {\n     var newContent = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??ref--3-oneOf-1-2!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./camtester.vue?vue&type=style&index=0&id=2c7f3aa8&prod&lang=css\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 955;","export * from \"-!../node_modules/vue-style-loader/index.js??ref--3-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??ref--3-oneOf-1-2!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./camtester.vue?vue&type=style&index=0&id=2c7f3aa8&prod&lang=css\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(function(i){return i[1]});\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".svgMasks{height:100%;margin:0 auto;width:100%}\", \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {};\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","\n\nimport {mapGetters, mapActions} from 'vuex'\n\nexport default {\n  data() {\n    return {\n      isCameraOpen: false,\n      isLoading: true,\n      computeVideOverlayHeight: null,\n      streamSettings: {\n        videoinput: null\n      },\n      svgMask: {\n        height: 0,\n        width: 0,\n        maskH: 0,\n        maskW: 0,\n        maskX: 0,\n        maskY: 0\n      }\n    }\n  },\n  computed: {\n    ...mapGetters({\n      getVideoDevices: 'getVideoDevices',\n      getAudioDevices: 'getAudioDevices'\n    })\n  },\n  methods: {\n    ...mapActions({\n      setVideoDevices: 'setVideoDevices',\n      setAudioDevices: 'setAudioDevices',\n      clearMediaDevices: 'clearMediaDevices'\n    }),\n    initVideoDevices() {\n      if (this.getVideoDevices === null || (Array.isArray(this.getVideoDevices) && this.getVideoDevices.length === 0)) {\n        this.clearMediaDevices();\n        return this.$enumerateMediaDevices().then((result) => {\n          this.setVideoDevices(result.video);\n          this.setAudioDevices(result.audio);\n          return this.getVideoDevices;\n        }).catch((e) => {\n          console.error('cannot enumerate media devices', e);\n          this.$captureException(e);\n        })\n      }\n      return new Promise((resolve, reject) => {\n        resolve(this.getVideoDevices);\n      });\n    },\n    fixCameraSize() {\n      this.$nextTick(() => {\n        if (document.querySelector('.video__overlay')) {\n          //Fix screen width\n          document.querySelector('.video__container').style.width = window.innerWidth + \"px\";\n          const _MessageHeight = document.querySelector('.video__overlay .video__message').clientHeight;\n          if (!this.computeVideOverlayHeight) {\n            const _OvH = document.querySelector('.video__overlay').clientHeight;\n            this.computeVideOverlayHeight = _MessageHeight;\n          }\n\n          console.log('got base sizes:', window.innerWidth, _MessageHeight, this.computeVideOverlayHeight);\n          document.querySelector('.video__overlay').style.paddingBottom = this.computeVideOverlayHeight + \"px\";\n          document.querySelector('.cameraWrapper').style.paddingBottom = this.computeVideOverlayHeight + \"px\";\n          const camH = document.querySelector('.cameraWrapper').clientHeight;\n          console.log('H Wrapper',\n            camH,\n            document.querySelector('.cameraWrapper').style.maskPosition,\n            Math.min(document.querySelector('.cameraWrapper').clientWidth,\n              document.querySelector('div.v-main__wrap').clientWidth)\n          );\n          this.svgMask.width = window.innerWidth;\n          this.svgMask.height = (document.querySelector('.cameraWrapper').clientHeight - _MessageHeight);\n          //Ellpise size:\n          this.svgMask.maskW = (this.svgMask.width * 0.8) / 2;\n          this.svgMask.maskH = (this.svgMask.height * 0.7) / 2;\n          //Calc ratio:\n          console.log('ellipse Ratio:', this.svgMask.maskW / this.svgMask.maskH);\n          if ((this.svgMask.maskW / this.svgMask.maskH) > 0.8) {\n            this.svgMask.maskH = (this.svgMask.height * 0.85) / 2;\n            //Se il ratio è maggiore di 0.6 non è un ellisse e tende al quadrato, fix\n            this.svgMask.maskW = Math.min((this.svgMask.width * 0.7) / 2, this.svgMask.maskH / 3 * 2);\n            console.log('new ellipse Ratio:', this.svgMask.maskW / this.svgMask.maskH);\n          }\n\n          this.svgMask.maskX = this.svgMask.width / 2;\n          this.svgMask.maskY = (this.svgMask.height / 2);\n          console.log('found sizes', this.svgMask.maskW, this.svgMask.maskH, this.svgMask.width, this.svgMask.height);\n          document.querySelector('.video__overlay').classList.remove('faded');\n          document.querySelector('#video-test').classList.remove('faded');\n        }\n      });\n    },\n    initVideoCapture(deviceInfos) {\n      return new Promise((resolve, reject) => {\n        for (let i = 0; i <= deviceInfos.length; i++) {\n          const device = deviceInfos[i]\n          if (typeof device === 'undefined') {\n            continue\n          }\n          switch (device.kind) {\n            case 'videoinput':\n              if (typeof device.id !== 'undefined') {\n                if (device.id === 'default' || device.name.indexOf('front') > 0 || this.streamSettings.videoinput === null) {\n                  this.streamSettings.videoinput = device\n                }\n              }\n          }\n        }\n        if (this.streamSettings.videoinput === null) {\n          // eslint-disable-next-line prefer-promise-reject-errors\n          reject('cannot find front camera')\n        } else {\n          resolve(this.streamSettings.videoinput)\n        }\n      }).catch((error) => {\n        console.error('error initVideoCapture', error);\n        this.$captureException(error);\n      })\n    },\n    startStream(videoID) {\n      this.$closeStream();\n      if (this.streamSettings.videoinput !== undefined) {\n        const videoSource = this.streamSettings.videoinput.deviceId\n        const maxHeight = (window.innerHeight % 2 === 0) ? window.innerHeight : window.innerHeight - 1\n        const maxWidth = (window.innerWidth % 2 === 0) ? window.innerWidth : window.innerWidth - 1\n        const constraints = {\n          audio: false,\n          video: {\n            deviceId: videoSource ? {exact: videoSource} : undefined,\n            frameRate: 25,\n            facingMode: 'user',\n            width: {ideal: 640, max: maxWidth},\n            height: {ideal: 360, max: maxHeight}\n          }\n        }\n        console.log('init with constraints', constraints, JSON.stringify(constraints));\n        const TESTvideoElement = document.getElementById(videoID)\n        if (TESTvideoElement) {\n          return\n        }\n        this.$initVideo(constraints).then((stream) => {\n          window.stream = stream // make stream available to console\n          const videoElement = document.getElementById(videoID)\n          videoElement.srcObject = window.stream\n          this.$emit('postmessage', {\n            \"event\": \"finishinitStream\",\n            \"data\": false\n          });\n          this.fixCameraSize();\n        }).catch((e) => {\n          console.error('Impossibile avviare stream:', e)\n          console.log('Device rilevati', this.getVideoDevices, this.getAudioDevices, JSON.stringify(this.getVideoDevices), JSON.stringify(this.getAudioDevices));\n          console.error('Verifica constraint disponibili', navigator.mediaDevices.getSupportedConstraints())\n          this.$captureException(e);\n          this.deviceNotSupported()\n        }).finally(() => {\n\n        });\n      } else {\n        this.deviceNotSupported()\n      }\n    },\n    deviceNotSupported() {\n      this.$emit('postmessage', {\n        \"event\": \"devicenotsupported\",\n        \"data\": false\n      });\n      this.$root.$emit('showError', {\n        hasretry: false,\n        title: this.$t('errors.camera.title'),\n        error: this.$t('errors.camera.description'),\n        click: null,\n        resetEvent: function () {\n          $nuxt.$router.replace($nuxt.localePath(\"/\"));\n          return true;\n        }\n      });\n    }\n  },\n  mounted() {\n    if (this.isCameraOpen === false) {\n      this.$emit('postmessage', {\n        \"event\": \"initVideoCapture\",\n        \"data\": false\n      });\n      this.initVideoDevices().then((videodevices) => {\n        return this.initVideoCapture(videodevices).then(() => {\n          this.$emit('postmessage', {\n            \"event\": \"initStream\",\n            \"data\": false\n          });\n          this.isLoading = false;\n          this.isCameraOpen = true\n\n          this.startStream('video-test')\n        }).catch((e) => {\n          console.error('cam tester mounted exception:', e);\n          this.$captureException(e);\n          this.deviceNotSupported()\n        });\n      }).catch((e) => {\n        console.error('cam tester mounted exception:', e);\n        this.$captureException(e);\n        this.deviceNotSupported()\n      })\n\n    }\n  }\n}\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./camtester.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./camtester.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./camtester.vue?vue&type=template&id=2c7f3aa8\"\nimport script from \"./camtester.vue?vue&type=script&lang=js\"\nexport * from \"./camtester.vue?vue&type=script&lang=js\"\nimport style0 from \"./camtester.vue?vue&type=style&index=0&id=2c7f3aa8&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}